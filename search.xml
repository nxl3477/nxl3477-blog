<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title><![CDATA[ã€å·¥ç¨‹åŒ–ã€‘å¦‚ä½•ç¼–å†™ä¸€ä¸ªè‡ªå·±çš„webpackæ’ä»¶]]></title>
    <url>%2F2019%2F09%2F14%2F%E3%80%90%E5%B7%A5%E7%A8%8B%E5%8C%96%E3%80%91%E5%A6%82%E4%BD%95%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E8%87%AA%E5%B7%B1%E7%9A%84webpack%E6%8F%92%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[webpack å®žçŽ°æ’ä»¶çš„æœºåˆ¶[ åˆ›å»º ] â€“ webpackåœ¨å…¶å†…éƒ¨å¯¹è±¡ä¸Šåˆ›å»ºå„ç§é’©å­[ æ³¨å†Œ ] â€“ æ’ä»¶å°†è‡ªå·±çš„æ–¹æ³•æ³¨å†Œåˆ°å¯¹åº”é’©å­ä¸Šï¼Œ äº¤ç»™webpack[ è°ƒç”¨ ] â€“ webpack ç¼–è¯‘è¿‡ç¨‹ä¸­ï¼Œ ä¼šé€‚æ—¶åœ°è§¦å‘ç›¸åº”é’©å­ï¼Œ å› æ­¤ä¹Ÿå°±è§¦å‘äº†æ’ä»¶çš„æ–¹æ³• ç¬¬ä¸€ä¸ªdemoä¸çŸ¥é“è¿™ä¹ˆèµ·æ­¥ï¼Œ é‚£å’±å°±å…ˆåŽ»å¤åˆ¶ä¸€ä¸ªï¼Œ å®˜ç½‘æä¾›äº†ä¸€ä¸ªæœ€æœ€æœ€ç®€æ˜“çš„demo https://webpack.js.org/concepts/plugins/ å¤åˆ¶ä¸‹æ¥æ˜¯è¿™æ ·çš„:1234567891011121314const pluginName = 'ConsoleLogOnBuildWebpackPlugin';class ConsoleLogOnBuildWebpackPlugin &#123; // æ¯ä¸ªæ’ä»¶å¿…å¤‡çš„æ–¹æ³• apply(compiler) &#123; // compiler æ˜¯æ•´ä¸ªwebpackç¼–è¯‘çš„æ ¸å¿ƒ // tap å¯ä»¥ç†è§£ä¸ºè§¦å‘è®¢é˜… compiler.hooks.run.tap(pluginName, compilation =&gt; &#123; console.log('ðŸŽThe webpack build process is starting!!!'); &#125;); &#125;&#125;module.exports = ConsoleLogOnBuildWebpackPlugin; æŠŠè¿™ä¸ªæ’ä»¶å¼•å…¥webpack , è™½ç„¶æ˜¯æˆåŠŸè·‘èµ·æ¥äº†å•Šï¼Œ ä½†æ˜¯ä¸€è„¸è’™è”½ï¼Œ å®Œå…¨ä¸çŸ¥é“åœ¨å¹²å˜›ä¹Ÿä¸è¡Œå•Š é¦–å…ˆæ¯ä¸ªæ’ä»¶éƒ½å¿…é¡»è¦æœ‰ä¸€ä¸ªapply æ–¹æ³•ï¼Œ å®ƒä¼šæŽ¥æ”¶ä¸€ä¸ªcompiler ï¼Œ è¿™ä¸ªcompiler æ˜¯æ‰€æœ‰webpackçš„æ ¸å¿ƒï¼Œ æ‰€ä»¥webpack ç¼–è¯‘ç›¸å…³çš„å†…å®¹è‡ªç„¶ä¹Ÿå°±åœ¨å®ƒä¸Šé¢äº† æŽ¥ç€ï¼Œæˆ‘ä»¬çœ‹åˆ°äº† complier ä¸Šæœ‰ä¸€ä¸ªhooks , åŽé¢è¿˜æœ‰ä¸€å¤§ä¸²ï¼Œ é‚£è¿™ä¸ªhooksæ˜¯å“ªé‡Œæ¥çš„å‘¢ï¼Œ æ€Žä¹ˆå›žäº‹å‘¢ï¼Ÿ è®©æˆ‘ä»¬åŽ»æºç é‡Œä¸€æŽ¢ç©¶ç«Ÿï¼š å“¦ï½ž åŽŸæ¥æ‰€æœ‰ hooks ç›¸å…³çš„æ–¹æ³•éƒ½åœ¨è¿™é‡Œäº†ï¼Œ å¹¶ä¸”æˆ‘ä»¬å‘çŽ° compiler æ˜¯ç»§æ‰¿è‡ª Tapable ä¸å…‰å¦‚æ­¤ï¼Œ è¿žæŽ¥å—çš„å‚æ•°ä¸­çš„ compilation ä¹Ÿç»§æ‰¿è‡ª Tapable, compilation ä»£è¡¨äº†å½“æ¬¡ç¼–è¯‘çš„chunk é‚£å•¥æ˜¯ Tapable å•Šï¼Ÿ è®¤è¯† TapableTapble æ˜¯ webpack çš„çµé­‚æ’ä»¶ï¼Œ å®ƒæ˜¯ä¸€ä¸ªç”¨äºŽåšæ¶ˆæ¯é€šçŸ¥çš„åŒ…. å¤šè¯´æ— ç”¨ï¼Œ è®©æˆ‘ä»¬æ¥å•ç‹¬çŽ©ä¸€ä¸‹ tapable 12345678910111213141516171819202122232425262728293031323334const &#123; //åŒæ­¥ä¸²è¡Œçš„é’©å­ï¼Œ ä¸ç”¨å…³å¿ƒå‡½æ•°çš„è¿”å›žå€¼ SyncHook, // åŒæ­¥ä¸²è¡Œçš„é’©å­ ï¼Œ ä¸Šä¸€ä¸ªè¿”å›žå€¼ä¸ä¸ºnull è·³è¿‡å‰©ä¸‹çš„é€»è¾‘ SyncBailHook, // åŒæ­¥ä¸²è¡Œï¼Œ ä¸Šä¸€ä¸ªå€¼å¯ä»¥ä¼ é€’ç»™ä¸‹ä¸€ä¸ªå€¼ SyncWaterfallHook, SyncLoopHook, AsyncParallelHook, AsyncParallelBailHook, AsyncSeriesHook, AsyncSeriesBailHook, AsyncSeriesWaterfallHook &#125; = require("tapable");const queue = new SyncHook(["name", "name2"])// è®¢é˜…queue.tap("1", function (name, name2) &#123; console.log("1âƒ£ï¸", name, name2) return 1&#125;)queue.tap("2", function (name, name2) &#123; console.log("2âƒ£ï¸", name, name2)&#125;)queue.tap("3", function (name, name2) &#123; console.log("3âƒ£ï¸", name, name2)&#125;)// è§¦å‘æ•´ä¸ªé’©å­queue.call('webpack', "webpack-cli") æ­¤æ—¶çš„è¾“å‡º å¯ä»¥çœ‹çš„å‡º ï¼Œ å½“queue çš„call æ–¹æ³•è¢«è°ƒç”¨æ—¶ï¼Œ ä¹‹å‰æŒ‚è½½çš„ tap æ–¹æ³•éƒ½è¢«è§¦å‘äº†ï¼Œ è¿™å…¶å®žå°±æ˜¯å‰ç«¯é‡Œå‡ ä¹Žæ— å¤„ä¸åœ¨çš„è§‚å¯Ÿè€…æ¨¡å¼ é™„ä¸Šä¸€ä¸ªä¹‹å‰å†™çš„webpack æ’ä»¶è¿™æ˜¯ä¹‹å‰ç”¨æ¥å¤„ç†swigæ¨¡ç‰ˆç¼–è¯‘çš„plugin1234567891011121314151617181920212223242526272829303132// 1. ä½•æ—¶æ‰èƒ½æ‹¦æˆªæœ€åŽç”Ÿæˆçš„swig// 2. å¦‚ä½•åˆ†æ¸…è¿™ä¸ªswigæ–‡ä»¶å¯¹åº”çš„Jsclass HtmlAfterWebpackPlugin &#123; // compiler æ˜¯webpackçš„å®žä¾‹ apply(compiler) &#123; // æ­¤å¤„æ˜¯å®žä¾‹è¿è¡ŒæœŸé—´ï¼Œ å¯ä»¥å§ tap å½“æˆæ˜¯ on // å®žä¾‹ä¸Šæœ‰é’©å­ï¼Œ å°†æ’ä»¶æ³¨å†Œåˆ°webpackå®žä¾‹é’©å­ä¸Š ï¼ˆrunåˆå§‹è¿è¡Œé˜¶æ®µ, compilation: å®Œæˆé˜¶æ®µï¼‰ compiler.hooks.compilation.tap(pluginName, compilation =&gt; &#123; console.log("ðŸ‰webpack æž„å»ºè¿‡ç¨‹å¼€å§‹ï¼"); // å› ä¸ºwebpackçš„ç‰ˆæœ¬æ›´æ–°ä¸å‹å¥½ï¼Œ æ‰€ä»¥æ–°çš„æ’ä»¶æŒ‚è½½æ–¹å¼éœ€è¦è‡ªå·±ä»Žæºç ä¸­æŸ¥æ‰¾ // æ­¤é˜¶æ®µæ˜¯ html-webpack-plugin æä¾›çš„ï¼Œ æ‰€ä»¥å¿…é¡»åœ¨ html-webpack-plugin ä¹‹åŽæ‰§è¡Œ // æ­¤å¤„æ˜¯å°†å›žè°ƒæŒ‚è½½åˆ° webpack æ‰§è¡Œè¿‡ç¨‹ä¸­çš„æŸä¸ªé˜¶æ®µï¼Œ ä¹Ÿå°±æ˜¯ç”Ÿå‘½å‘¨æœŸ // Pluginçš„é¡ºåºæ˜¯ ä»Žä¸Šè‡³ä¸‹æŒ‚é’©å­ï¼Œ ä½†æ‰§è¡Œé¡ºåºä¸ä¸€å®š compilation.hooks.htmlWebpackPluginAfterHtmlProcessing.tap(pluginName, htmlPluginData =&gt; &#123; let _html = htmlPluginData.html const jsResult = assetsHelp(htmlPluginData.assets) // è·¯å¾„åˆ«å _html = _html.replace(/views:/g, "../../") _html = _html.replace(/components:/g, "../../../components/") // æŒ‡å®šä½ç½®æ’å…¥js css _html = _html.replace(/&lt;!--injectjs--&gt;/g, jsResult.js.join("")) _html = _html.replace(/&lt;!--injectcss--&gt;/g, jsResult.css.join("")) // _html = _html.replace("&lt;!--injectjs--&gt;", jsResult.js.join("")) htmlPluginData.html = _html // htmlPluginData.html = _html &#125;) &#125;); &#125;&#125;]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>webpack</tag>
        <tag>å·¥ç¨‹åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€å·¥ç¨‹åŒ–ã€‘babelç®€å•åŽŸç†åŠç®€å•å®žçŽ°]]></title>
    <url>%2F2019%2F09%2F14%2F%E3%80%90%E5%B7%A5%E7%A8%8B%E5%8C%96%E3%80%91babel%E7%AE%80%E5%8D%95%E5%8E%9F%E7%90%86%E5%8F%8A%E7%AE%80%E5%8D%95%E5%AE%9E%E7%8E%B0%2F</url>
    <content type="text"><![CDATA[æˆ‘ä»¬çŸ¥é“babel çš„åŽŸç†æ˜¯é€šè¿‡è½¬æ¢ä¸ºAstçš„æ–¹å¼ï¼Œ è¿›è¡Œä¸€ç³»åˆ—çš„å¤„ç†ï¼Œ ç„¶åŽæœ€ç»ˆå¾—åˆ°äº†æˆ‘ä»¬çœ‹åˆ°çš„ä»£ç ã€‚ è¿™å°±æ˜¯å®ƒå¼ºå¤§ä¹‹å¤„ã€‚ å¦‚æžœè®©ä½ æ¥å®žçŽ°ä¸€ä¸ªbabel è¿™æ ·çš„è½¬æ¢ä»£ç å·¥å…·ï¼Œ ä½ ä¼šå¦‚ä½•åŽ»åšå‘¢ï¼Ÿ æ˜¯ä¸æ˜¯é¦–å…ˆä¼šæƒ³åˆ°ä½¿ç”¨æ­£åˆ™å‘¢ï¼Œ ä½†å®žé™…ä¸Šï¼Œ æ­£åˆ™æ— æ³•å¾ˆå¥½çš„æ»¡è¶³éœ€æ±‚ï¼Œ è¿™æ˜¯å› ä¸ºï¼š éœ€è¦é’ˆå¯¹å„ä¸ªç±»åº“ç¼–å†™ç›¸å…³æ­£åˆ™ å½“ç±»åº“å†…éƒ¨å®žçŽ°æ”¹å˜åˆ™æ­£åˆ™ä¹Ÿè¦æ”¹å˜ æ­£åˆ™çš„åŒ¹é…éœ€è¦åŒºåˆ†æ³¨é‡Šæƒ…å†µï¼Œ æœ‰å†™ä»£ç è¢«æ³¨é‡ŠæŽ‰å¦‚æžœä¹Ÿè¢«æ­£åˆ™åŒ¹é…äº†é‚£å°±ä¼šå½±å“å®žçŽ°ï¼Œ æ¯”å¦‚requireJså°±æ˜¯ä½¿ç”¨æ­£åˆ™åŒ¹é…çš„ï¼Œ å¯¼è‡´æ³¨é‡ŠæŽ‰ç›¸å…³æ–¹æ³•è¿˜æ˜¯è°ƒç”¨äº† ç»¼ä¸Šæ‰€è¯‰ï¼Œ æœ€ç»ˆæˆ‘ä»¬çš„è§£å†³æ–¹æ¡ˆåº”è¯¥æ˜¯ AST! å¦‚ä½•å®žçŽ°ä¸€ä¸ªç®€å•çš„babel å‘¢ï¼š æˆ‘ä»¬éœ€è¦æœ‰å°†ä»£ç è½¬æ¢ä¸º AST çš„å·¥å…·ï¼Œ å¤„ç†AST çš„å·¥å…·ï¼Œ AST è½¬å›žä»£ç çš„å·¥å…·ï¼ è®©æˆ‘ä»¬æ¥åšä¸€ä¸ª es6 å˜é‡è½¬ä¸ºes5å˜é‡çš„å°å·¥å…·ï¼Œ è®©æˆ‘ä»¬å¼€å§‹åŠ¨æ‰‹å§ è®©æˆ‘ä»¬å…ˆ ä»Žå­—ç¬¦ä¸²è½¬ä¸ºASTï¼š 12345678910111213const esprima = require('esprima')const estraverse = require('estraverse')const code = ` const view = &#123; a: 3, init: () =&gt; &#123; view.a = 5 &#125;, render: () =&gt; &#123; &#125; &#125;`const ast = esprima.parse(code) è®©æˆ‘ä»¬çœ‹çœ‹ä¸Šé¢æž„å»ºçš„è¿™æ®µä»£ç å­—ç¬¦ä¸²ä¼šè¢«è½¬æ¢ä¸ºä»€ä¹ˆ çœ‹åˆ°äº†ç»“æžœï¼Œ æˆ‘ä»¬ä¹Ÿçœ‹åˆ°äº†æˆ‘ä»¬éœ€è¦çš„å…³é”®å­—const ï¼Œ æ˜¯ä¸æ˜¯æˆ‘ä»¬åªè¦æŠŠå®ƒæ”¹ä¸ºvar å°±å¯ä»¥äº†å‘¢ï¼Œ å“ˆå“ˆï¼Œ åŠ¨æ‰‹è¯•è¯•å§ 1234567891011121314151617181920212223242526272829const esprima = require('esprima')const estraverse = require('estraverse')const escodegen = require('escodegen')// mock ä¸€æ®µä»£ç const code = ` const view = &#123; a: 3, init: () =&gt; &#123; view.a = 5 &#125;, render: () =&gt; &#123; &#125;&#125;`// å°†ä»£ç è½¬ä¸º astconst ast = esprima.parse(code)console.log(ast)// éåŽ†ast ä¿®æ”¹ç›¸å…³æ“ä½œestraverse.traverse(ast, &#123; enter(node) &#123; if( node.type === "VariableDeclaration" ) &#123; node.kind = 'var' &#125; &#125;&#125;)// å¾—åˆ°ç»è¿‡astå¤„ç†çš„ js ä»£ç  const reg_code = escodegen.generate(ast)console.log('--------- è¾“å‡ºç»“æžœ ---------------')console.log(JSON.stringify(reg_code, null,4)) æ­¤æ—¶çš„è¾“å‡º: å¯ä»¥çœ‹åˆ°æœ€ä¸‹é¢çš„å­—ç¬¦ä¸²ï¼Œ const è¢«æˆåŠŸæ›¿æ¢ä¸ºäº† var ï¼Œ å®Œç¾Žï¼ ä¸€ä¸ªæœ€å°æœ€ç®€é™‹çš„babel å°±è¿™ä¹ˆå®žçŽ°äº†ï¼]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>webpack</tag>
        <tag>å·¥ç¨‹åŒ–</tag>
        <tag>Ast</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘å°ç¨‹åºä¸­å¦‚ä½•å¼•å…¥iconfont å­—ä½“å›¾æ ‡]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%A6%82%E4%BD%95%E5%BC%95%E5%85%A5iconfont-%E5%AD%97%E4%BD%93%E5%9B%BE%E6%A0%87%2F</url>
    <content type="text"><![CDATA[iconå¼•å…¥å°ç¨‹åºéœ€è¦å°†å­—ä½“æ–‡ä»¶è½¬æ¢æˆbase64æ ¼å¼ï¼Œæ‰€ä»¥ å…ˆè§£åŽ‹åŽ‹ç¼©åŒ… æ‰¾åˆ°ttfæ ¼å¼æ–‡ä»¶ ä¸Šä¼ åˆ°å¹³å°è½¬åŒ–ä¸ºbase64æ ¼å¼ ä¸‹è½½åŽ‹ç¼©åŒ… å°†cssæ–‡ä»¶åæ”¹ä¸ºwxss æ”¾å…¥é¡¹ç›®æ ·å¼æ–‡ä»¶å¤¹ å­—ä½“æ–‡ä»¶è½¬æ¢æˆbase64æ ¼å¼çš„é“¾æŽ¥ https://transfonter.org/ å‚è€ƒæ–‡æ¡£ https://www.cnblogs.com/minimo/p/8795774.html]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘vue-cli3 jestå•å…ƒæµ‹è¯•æŠ¥é”™ï¼ˆä¸æ”¯æŒES6)]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91vue-cli3-jest%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%8A%A5%E9%94%99%EF%BC%88%E4%B8%8D%E6%94%AF%E6%8C%81ES6%2F</url>
    <content type="text"><![CDATA[åœ¨ä½¿ç”¨å…¬å¸é¡¹ç›®æƒ³å°è¯•å•å…ƒæµ‹è¯•çš„æ—¶å€™ï¼Œ å…¬å¸ä½¿ç”¨çš„æ˜¯jest, å‘çŽ°æç¤ºäº†ES6ç›¸å…³çš„è¯­æ³•é”™è¯¯æç¤ºï¼Œ ç½‘ä¸Šç™¾åº¦å¥½å¤šï¼Œ å„ç§å°è¯•ä¾æ—§æœªèƒ½è§£å†³ æœ€åŽçš„è§£å†³åŠžæ³•: ç”¨vue-cli3 é‡æ–°åˆ›å»ºäº†ä¸€ä¸ªå¸¦å•å…ƒæµ‹è¯•çš„é¡¹ç›®ï¼Œ ç„¶åŽå‘çŽ°è¿è¡ŒæˆåŠŸï¼Œ äºŽæ˜¯æŠŠè¯¥é¡¹ç›®çš„å•å…ƒæµ‹è¯•ç›¸å…³ä¾èµ–ç‰ˆæœ¬æ‹·è´åˆ°å…¬å¸é¡¹ç›®é‡Œï¼Œ äºŽæ˜¯å…¬å¸é¡¹ç›®æˆåŠŸè¿è¡Œ ï¼Œ âœŒï¸ æœ€åŽå‘çŽ°åªéœ€è¦æŠŠ babel-jestç‰ˆæœ¬é™ä¸€ä¸‹å°±å¯ä»¥äº†ï¼Œ 1&quot;babel-jest&quot;: &quot;^23.6.0&quot;, å¦‚æžœä¸ç”Ÿæ•ˆè®°å¾—æŠŠ package.lockæ–‡ä»¶åˆ äº†]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘iosæ— æ³•æ’­æ”¾éƒ¨åˆ†mp4è§†é¢‘æ€Žä¹ˆåŠž]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91ios%E6%97%A0%E6%B3%95%E6%92%AD%E6%94%BE%E9%83%A8%E5%88%86mp4%E8%A7%86%E9%A2%91%E6%80%8E%E4%B9%88%E5%8A%9E%2F</url>
    <content type="text"><![CDATA[ä»Šå¤©é‡åˆ°äº†ï¼Œ å®‰å“å¯ä»¥æ’­æ”¾æŸä¸ªmp4è§†é¢‘ï¼Œä½†æ˜¯ioså°±æ˜¯æ— æ³•æ’­æ”¾ æŠ“è€³æŒ è…®åŠå¤©ï¼Œ æ‰å¾—çŸ¥ï¼Œ åŽŸæ¥æ˜¯è§†é¢‘çš„åŽ‹ç¼©çº§åˆ«çš„é—®é¢˜ï¼Œioså¯¹ mp4çš„åŽ‹ç¼©çº§åˆ«æ”¯æŒæœ‰é™ï¼Œ æœ€åŽæˆ‘è½¬æˆMPEG-4ç¼–ç æ ¼å¼ï¼Œ å®Œç¾Žè¿è¡Œï¼ˆå½“ç„¶å…¶ä»–çš„ç¼–ç æ ¼å¼ä¹Ÿè¡Œï¼Œ æˆ‘åªæ˜¯éšä¾¿ä½¿ç”¨äº†ä¸‹ï¼‰ macå¯ä»¥ä½¿ç”¨handBreakè½¬ä¸€ä¸‹ å‚è€ƒæ–‡æ¡£ https://www.jianshu.com/p/31f0593496ef]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘a æ ‡ç­¾ä¸‹è½½è§†é¢‘å´è·³åŽ»æ’­æ”¾çš„é—®é¢˜]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91a-%E6%A0%87%E7%AD%BE%E4%B8%8B%E8%BD%BD%E8%A7%86%E9%A2%91%E5%8D%B4%E8%B7%B3%E5%8E%BB%E6%92%AD%E6%94%BE%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[æ˜Žæ˜Žå†™äº† a æ ‡ç­¾ï¼Œ ä¹ŸåŠ äº† downloadå±žæ€§ï¼Œ ä½†æ˜¯è¿˜æ˜¯è·³åŽ»æ’­æ”¾è§†é¢‘äº†ï¼Œ åŽŸæ¥ï¼Œå¦‚æžœæƒ³ä¸‹è½½è§†é¢‘ï¼Œ ä½ å¾—åœ¨ a æ ‡ç­¾çš„è§†é¢‘é“¾æŽ¥åœ°å€åŽé¢å¸¦ä¸ªå‚æ•°?filename=xxx æ¯”å¦‚: 1www.aaa.com/video?filename=xxx]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘mac ä¸‹ ssh è¿žæŽ¥gitHubæ­»æ´»ä¸æˆåŠŸçš„é—®é¢˜]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91mac-%E4%B8%8B-ssh-%E8%BF%9E%E6%8E%A5gitHub%E6%AD%BB%E6%B4%BB%E4%B8%8D%E6%88%90%E5%8A%9F%E7%9A%84%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[å½“æˆ‘æƒ³è¦å…‹éš†ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œ å‡ºäº†ç‚¹å°æ„å¤–ï¼Œ ä½¿ç”¨https ä½¿ç”¨éžå¸¸é¡ºç•…ï¼Œ ä½†æ˜¯æ¢æˆ sshçš„æ–¹å¼å°±å‡ºé—®é¢˜äº†ã€‚æ­»æ´»è¡Œä¸é€š git clone ä¸€ç›´æç¤ºè¿™æ ·çš„é”™è¯¯1234Cloning into &apos;xxx&apos;...zsh:1: command not found: connectssh_exchange_identification: Connection closed by remote hostfatal: Could not read from remote repository. æˆ–æ˜¯è¿™æ ·çš„é”™è¯¯:123456Cloning into &apos;xxx&apos;git@github.com: Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists. ä¸æ­¢é…ç½®äº†ä¸€égitHub çš„ ssh key æ•¢ç¡®ä¿¡ç»å¯¹æ²¡é—®é¢˜ï¼Œ å¯»éæ•´ä¸ªäº’è”ç½‘ä¾æ—§æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆ. åŽæ¥æˆ‘å‘çŽ°åŽŸå› æ—¶å› ä¸ºï¼š æˆ‘åˆ›å»ºçš„ sshå…¬é’¥æ²¡æœ‰è¢«ç³»ç»Ÿæ‰€ä½¿ç”¨, å› ä¸ºé»˜è®¤åªæœ‰is_rsa, å¦‚æžœä½ è‡ªå®šä¹‰äº†é‚£å°±éœ€è¦æ·»åŠ  éœ€è¦æ·»åŠ ä¸€ä¸‹ä½ åˆ›å»ºçš„å…¬é’¥ï¼Œ å‘Šè¯‰ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ 1ssh-add -K ~/.ssh/ä½ çš„ssh keyåç§°(ä¸å¸¦.pub) æ¯”å¦‚ï¼š1ssh-add -K ~/.ssh/github_rsa äºŽæ˜¯ï¼Œ clone é¡ºåˆ© é™„ä¸Šåˆ›å»ºå¯†é’¥çš„å‘½ä»¤: ssh-keygen -t rsa -C â€œyour_email@youremail.comâ€œ å‚è€ƒæ–‡çŒ®: http://shinancao.cn/2016/12/18/Programming-Git-1/]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘jestè¿›è¡Œå•å…ƒæµ‹è¯•æ—¶æç¤ºrouter-view æœªæ³¨å†ŒæŠ¥é”™äº†]]></title>
    <url>%2F2019%2F09%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91jest%E8%BF%9B%E8%A1%8C%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%97%B6%E6%8F%90%E7%A4%BArouter-view-%E6%9C%AA%E6%B3%A8%E5%86%8C%E6%8A%A5%E9%94%99%E4%BA%86%2F</url>
    <content type="text"><![CDATA[å½“æˆ‘æƒ³è¦å…‹éš†ä¸€ä¸ªé¡¹ç›®æ—¶ï¼Œ å‡ºäº†ç‚¹å°æ„å¤–ï¼Œ ä½¿ç”¨https ä½¿ç”¨éžå¸¸é¡ºç•…ï¼Œ ä½†æ˜¯æ¢æˆ sshçš„æ–¹å¼å°±å‡ºé—®é¢˜äº†ã€‚æ­»æ´»è¡Œä¸é€š git clone ä¸€ç›´æç¤ºè¿™æ ·çš„é”™è¯¯1234Cloning into &apos;xxx&apos;...zsh:1: command not found: connectssh_exchange_identification: Connection closed by remote hostfatal: Could not read from remote repository. æˆ–æ˜¯è¿™æ ·çš„é”™è¯¯:123456Cloning into &apos;xxx&apos;git@github.com: Permission denied (publickey).fatal: Could not read from remote repository.Please make sure you have the correct access rightsand the repository exists. ä¸æ­¢é…ç½®äº†ä¸€égitHub çš„ ssh key æ•¢ç¡®ä¿¡ç»å¯¹æ²¡é—®é¢˜ï¼Œ å¯»éæ•´ä¸ªäº’è”ç½‘ä¾æ—§æ²¡æœ‰æ‰¾åˆ°ç­”æ¡ˆ. åŽæ¥æˆ‘å‘çŽ°åŽŸå› æ—¶å› ä¸ºï¼š æˆ‘åˆ›å»ºçš„ sshå…¬é’¥æ²¡æœ‰è¢«ç³»ç»Ÿæ‰€ä½¿ç”¨, å› ä¸ºé»˜è®¤åªæœ‰is_rsa, å¦‚æžœä½ è‡ªå®šä¹‰äº†é‚£å°±éœ€è¦æ·»åŠ  éœ€è¦æ·»åŠ ä¸€ä¸‹ä½ åˆ›å»ºçš„å…¬é’¥ï¼Œ å‘Šè¯‰ç³»ç»Ÿå¯ä»¥ä½¿ç”¨ 1ssh-add -K ~/.ssh/ä½ çš„ssh keyåç§°(ä¸å¸¦.pub) æ¯”å¦‚ï¼š1ssh-add -K ~/.ssh/github_rsa äºŽæ˜¯ï¼Œ clone é¡ºåˆ© é™„ä¸Šåˆ›å»ºå¯†é’¥çš„å‘½ä»¤: ssh-keygen -t rsa -C â€œyour_email@youremail.comâ€œ å‚è€ƒæ–‡çŒ®: http://shinancao.cn/2016/12/18/Programming-Git-1/]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€å·¥ç¨‹åŒ–ã€‘äº†è§£webpackåŽŸç†]]></title>
    <url>%2F2019%2F07%2F11%2F%E3%80%90%E5%B7%A5%E7%A8%8B%E5%8C%96%E3%80%91%E4%BA%86%E8%A7%A3webpack%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[webpack çš„æˆåŠŸä¹‹å¤„åœ¨äºŽå…¶loader , ä½† webpack çš„å¤±è´¥ä¹‹å¤„ä¹Ÿå‡ºåœ¨è¿™ä¸ªloader å¯¹äºŽwebpack æ¥è®²ï¼Œ ä¸‡ç‰©éƒ½æ˜¯æ¨¡å—ï¼Œ webpack ä¸ºä»€ä¹ˆå¯ä»¥åšåˆ°ä¸‡ç‰©éƒ½å¯ä»¥ requireå°±æ˜¯ä½¿ç”¨äº†loader, ä½†åŒæ—¶ä¹Ÿæ˜¯loader å¯¼è‡´äº†webpack çš„ç¼–è¯‘é€Ÿåº¦ï¼ˆä½ æ‡‚çš„ï¼‰ï¼Œ è¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Œ è¿™é‡Œå…ˆè¯´ä¸€ä¸‹åŸºæœ¬åŽŸç† webpack åœ¨å¤„ç†çš„æ—¶å€™ï¼Œ ä¼šç»è¿‡å¤šä¸ªloader, æ¯”å¦‚babel-loader,less-loaderï¼Œ é‚£å¦‚ä½•æŠŠè¿™äº›çœ‹ä¼¼æ¯«ä¸ç›¸å…³çš„ï¼Œ åˆæ˜¯å¤©å—åœ°åŒ—æ‰¾æ¥çš„ï¼Œ å‡ºè‡ªä¸åŒå¼€å‘è€…ä¹‹æ‰‹çš„loader é›†åˆèµ·æ¥å‘¢: é¦–å…ˆæ˜¯ç¬¬ä¸€ä¸ªæŽ¥å—ä»»åŠ¡çš„loader, loader1 ä¼šæŽ¥å—ä»£ç çš„å­—ç¬¦ä¸²ï¼Œ ç„¶åŽæŠŠä»£ç å˜æˆ Ast è¿›è¡Œå¤„ç†ï¼Œ ç»“æŸä»¥åŽå†è½¬ä¸º stringå­—ç¬¦ä¸²ã€‚ ä¹Ÿå°±æ˜¯è¯´ï¼Œæ•´ä¸ª loader1 ç»åŽ†äº†ä¸€ä¸‹çš„æµç¨‹: 1å­—ç¬¦ä¸² -&gt; Ast é™æ€è¯­æ³•æ ‘ -&gt; éåŽ†Astå¤„ç†ä¸šåŠ¡ -&gt; å­—ç¬¦ä¸² åŒæ ·çš„loader2 ä¹Ÿä¼šç»åŽ†è¿™æ ·ä¸€ä¸ªè¿‡ç¨‹ï¼ ä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰loader ç©¿èµ·æ¥å°±æ˜¯:1234loader1 å¼€å§‹ -&gt; èŽ·å–å­—ç¬¦ä¸² -&gt; Ast -&gt; éåŽ†Astå¤„ç†ä¸šåŠ¡ -&gt; å­—ç¬¦ä¸² -&gt; loader1ç»“æŸ -&gt; loader2 å¼€å§‹ -&gt; èŽ·å¾—å­—ç¬¦ä¸² -&gt; Ast -&gt; éåŽ†Astå¤„ç†ä¸šåŠ¡ -&gt; å­—ç¬¦ä¸² -&gt; loader 2 ç»“æŸ -&gt; loader3å¼€å§‹ -&gt; â€¦â€¦â€¦ç­‰ç­‰ ä¹ä¸€çœ‹ï¼Œ ä½ å¯èƒ½ä¼šè§‰å¾—ï¼Œ æ˜¯ä¸æ˜¯å¤ªè ¢äº†ï¼Œ ä¸ºä»€ä¹ˆä¸ç­‰åˆ°å…¨éƒ¨loaderå¤„ç†å®Œæˆå†è½¬æ¢å›ž å­—ç¬¦ä¸²ï¼Œ è¿˜è¦è½¬æ¥è½¬åŽ»ï¼Œ åŽŸæ¥æ‰“åŒ…æ—¶é—´éƒ½åœ¨è¿™æ¶ˆè€—æŽ‰äº†ã€‚æ²¡é”™ï¼Œ ä½ å½“ç„¶ä¸æ˜¯ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„ï¼Œ è¿™å°±æ˜¯ä¹‹å‰å¤§ç«çš„parcel çš„æ‰“åŒ…æœºåˆ¶ï¼ˆè™½ç„¶parcelçš„é›¶é…ç½®å¾ˆä¼˜ç§€ï¼Œ ä½†å› ä¸ºè¢«webpackæŠ„èµ°äº†ï¼Œ æ‰€ä»¥ä¹Ÿæ¸æ¸åŠ¿å¤´ä¸åœ¨ï¼‰, å¹¶ä¸”parcelè¿˜å¯ç”¨äº†å¤šæ ¸æ‰“åŒ…: 1stringå­—ç¬¦ä¸² -&gt; Ast(loader1 &amp; loader2 &amp; loader3) -&gt; string å­—ç¬¦ä¸² å¤–åŠ å¤šæ ¸æ‰“åŒ…ðŸ“¦ ä¸€æ°”å‘µæˆï¼Œ è¿™æ„Ÿè§‰ï¼Œå¤šçˆ½ï¼Œ ç¡®å®žæ¯”webpackå¿«å¤šäº† ï¼Œçœäº†é‚£ä¹ˆå¤šæ­¥éª¤ï¼Œ èƒ½ä¸å¿«å— webpack ä¸Žä¼˜åŒ–ä¸Šé¢æåˆ°äº† parcel çš„å¤šæ ¸æ‰“åŒ…ï¼Œ å¯æˆ‘ä»¬çš„ä¸»åœºæ˜¯webpack ,æ€Žä¹ˆèƒ½ä¸æä¸€æwebpack çš„å¤šæ ¸æ‰“åŒ…å‘¢ï¼Œ ç›¸ä¿¡å¤§å®¶éƒ½å¬è¿‡æˆ–è€…å°è¯•è¿‡è‡­åæ˜­è‘—çš„ happypack å¤šæ ¸æ‰“åŒ…æ’ä»¶ï¼Œ ä½†è¿™ä¸ªæ’ä»¶å®žé™…ä¸Šåœ¨é«˜ç‰ˆæœ¬çš„webpack ä¸Šæ•ˆæžœç•¥ä½Žå•Š happypack å¯ä»¥ç”¨ï¼Œä½†ä¹Ÿéœ€è¦è€ƒè™‘ä¸‹åº”ç”¨åœºæ™¯ï¼š åœ¨éœ€è¦æ‰“åŒ…çš„æ–‡ä»¶å¤ªå°‘ä¸å»ºè®®ï¼Œ å› ä¸ºå¤šæ ¸æ‰“åŒ…ä¹Ÿæ˜¯éœ€è¦æ¶ˆè€—ç³»ç»Ÿæ€§èƒ½çš„ï¼Œ åè€Œä¼šä½¿æ‰“åŒ…å˜æ…¢äº† å®žé™…æ“ä½œèµ·æ¥æ•ˆæžœä¸æ˜Žæ˜¾ å¦‚ä½•å®žçŽ°ä¸€ä¸ªloader ç†Ÿè¯è¯´ï¼Œ çœ‹æºç æ˜¯æœ€å¥½çš„å­¦ä¹ æ–¹å¼ï¼Œ çŽ°åœ¨æˆ‘ä»¬å…ˆæ‰¾ä¸€ä¸ªæ¯”è¾ƒç®€å•çš„å¼€æºloader ,çœ‹çœ‹åˆ«äººæ˜¯æ€Žä¹ˆå†™çš„? æˆ‘ä»¬ä¸‹è½½markdon-loader, æ‰“å¼€node_modules ä¸­å…¶çš„ä»£ç ï¼Œ å‘çŽ°å¦‚ä¸‹ï¼š è®©æˆ‘ä»¬åŠ ç‚¹æ³¨é‡Šç†è§£ä¸€ä¸‹ loader æœ‰ä¸€ä¸ªå‰ç½®é’©å­ï¼Œ ä¼šåœ¨è¿›å…¥ä¸»ä½“å‡½æ•°å‰è¢«è°ƒç”¨ï¼š 1234567891011121314module.exports = function (content, map, meta) &#123; // this æ˜¯æˆ‘ä»¬è¿è¡Œæ—¶æ•°æ®è°ƒç”¨æ–¹æ³•å’Œè¡¥å……è½½ä½“ ä¹Ÿå°±æ˜¯loaderå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œ æ‰€ä»¥å¯ä»¥é€šè¿‡webpack æä¾›çš„å‡½ // æ•°åº“æ¥ä»Ž this èŽ·å–å¤–éƒ¨ rule å¤„å¯¹ loader é…ç½®çš„option console.log('ðŸŽè¿›å…¥loader') console.log('å‰ç½®é’©å­å†…å®¹ðŸŒ', this.data) return content + ";console.log(1)"&#125;// ä¸€ä¸ªå«pitchçš„å‰ç½®é’©å­ ( åœ¨è¿›å…¥â¬†ï¸ä¸»ä½“å‰è§¦å‘)module.exports.pitch = function (r, prerequest, data) &#123; console.log("è¿›å…¥å‰ç½®é’©å­") data.value = "are you ok"&#125; åœ¨å¤–é¢webpack é…ç½®çš„åœ°æ–¹å¼•ç”¨æˆ‘ä»¬ä¸Šæ–¹ç¼–å†™çš„loader123456789101112131415161718const path = require('path')module.exports = &#123; module: &#123; rules: [ &#123; test: /\.js$/, exclude: /(node_modules|bower_components)/, use: &#123; loader: path.resolve("./loader/index.js"), options: &#123; presets: ['@babel/preset-env'] &#125; &#125; &#125; ] &#125;&#125; è®©æˆ‘ä»¬çœ‹ä¸‹æ­¤æ—¶çš„è¾“å‡ºç»“æžœ èŽ·å–ç›¸å…³çš„option é…ç½®webpack æä¾›çš„å‡½æ•°åº“å¯ä»¥å¸®åŠ©æˆ‘ä»¬ï¼Œ åœ¨æ‰§è¡Œé˜¶æ®µä»Ž this å¯¹è±¡ä¸ŠèŽ·å–åˆ°æˆ‘ä»¬é…ç½®æ—¶æ‰€ä¼ å…¥çš„ option çš„ç›¸å…³ loader é…ç½®123456789101112131415161718const loaderUtils = require('loader-utils')module.exports = function (content, map, meta) &#123; // this æ˜¯æˆ‘ä»¬è¿è¡Œæ—¶æ•°æ®è°ƒç”¨æ–¹æ³•å’Œè¡¥å……è½½ä½“ ä¹Ÿå°±æ˜¯loaderå‡½æ•°çš„æ‰§è¡Œä¸Šä¸‹æ–‡ï¼Œ æ‰€ä»¥å¯ä»¥é€šè¿‡webpack æä¾›çš„å‡½ // æ•°åº“æ¥ä»Ž this èŽ·å–å¤–éƒ¨ rule å¤„å¯¹ loader é…ç½®çš„option console.log('ðŸŽè¿›å…¥loader') console.log('å‰ç½®é’©å­å†…å®¹ðŸŒ', this.data) const options = loaderUtils.getOptions(this) console.log('ðŸŠèŽ·å–åˆ°çš„é…ç½®æ–‡ä»¶', options) return content + ";console.log(1)"&#125;// ä¸€ä¸ªå«pitchçš„å‰ç½®é’©å­ ( åœ¨è¿›å…¥â¬†ï¸ä¸»ä½“å‰è§¦å‘)module.exports.pitch = function (r, prerequest, data) &#123; console.log("è¿›å…¥å‰ç½®é’©å­") data.value = "are you ok"&#125; æ­¤æ—¶æˆ‘ä»¬å°±æˆåŠŸèŽ·å–åˆ°äº†é…ç½®æ—¶æ‰€ä¼ å…¥çš„å‚æ•°äº† å¼‚æ­¥loaderå¦‚æžœæˆ‘ä»¬çš„ç¼–å†™è¿‡ç¨‹ä¸­æœ‰å¼‚æ­¥çš„éœ€æ±‚, æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä¸‹é¢è¿™ä¸¤ä¸ªæ–¹æ³• this.async æ‰§è¡Œå¼‚æ­¥å‡½æ•° this.callback æ‰§è¡Œå‡½æ•°çš„å›žè°ƒï¼Œ è¿”å›žå¤„ç†ç»“æžœ loader ä¸Ž Astæ—¢ç„¶loaderå¤„ç†çš„æ ¸å¿ƒæ˜¯ Ast, é‚£ä¹ˆæˆ‘ä»¬åŒæ ·çš„å¤œæ¥å°è¯•ä¸€ä¸‹Ast çš„ä½¿ç”¨, é¦–å…ˆæˆ‘ä»¬ä¸‹è½½ä¸€ä¸ªacorn , è¿™æ˜¯ä¸€ä¸ªä¸“é—¨å¤„ç† ast çš„åº“, æˆ‘ä»¬ä½¿ç”¨ acorn æä¾›çš„æ–¹æ³•å°è¯•åŽ»è½¬æ¢ä¸€æ®µä»£ç ï¼Œ ç„¶åŽä½¿ç”¨walk æ‰€æä¾›çš„æ–¹æ³•å°†å…¶è½¬æ¢å›žæ¥123456789const acorn = require("acorn")const walk = require('acorn-walk')console.log(acorn.parse("const a = 20"))walk.simple(acorn.parse('let x = 10'), &#123; Literal(node) &#123; console.log(`Found a literal: $&#123;node.value&#125;`) &#125;&#125;) è¾“å‡ºçš„ç»“æžœ]]></content>
      <categories>
        <category>å·¥ç¨‹åŒ–</category>
      </categories>
      <tags>
        <tag>webpack</tag>
        <tag>å·¥ç¨‹åŒ–</tag>
        <tag>Ast</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reduxã€‘reactã€reduxä¸Žå‡½æ•°å¼ç¼–ç¨‹]]></title>
    <url>%2F2019%2F07%2F07%2F%E3%80%90React%E3%80%91react%E3%80%81redux%E4%B8%8E%E5%87%BD%E6%95%B0%E5%BC%8F%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[redux æœ¬èº«æ˜¯container ï¼Œ stateå°±æ˜¯value ï¼Œ action å°±æ˜¯ å˜å½¢å…³ç³» å¯ä»¥å°†Reactçœ‹ä½œè¾“å…¥ä¸ºstateï¼Œ è¾“å‡ºä¸ºviewçš„â€œçº¯â€å‡½æ•° èŒƒç•´è®ºå°†ä¸–ç•ŒæŠ½è±¡ä¸ºå¯¹è±¡å’Œå¯¹è±¡ä¹‹é—´çš„è”ç³»ï¼Œ Reduxå°†æ‰€æœ‰äº‹ä»¶æŠ½è±¡ä¸º action (å˜å½¢å…³ç³») container æœ‰_value å’Œ map ä¸¤ä¸ªå±žæ€§ï¼Œ è€Œä¿®æ”¹ _value çš„æ–¹æ³•ç›´æœ‰ map , åœ¨æ“ä½œå®Œ _value åŽå°†æ–°å€¼æ”¾å›ž Containerä¸­ å¦‚ä½•æ“ä½œæˆ–ä¿®æ”¹_value ç”±fç»™å‡º store æ˜¯ä¸€ä¸ªå®¹å™¨å«æœ‰state å’Œ reducer , è¿™ä»Žstore çš„åˆ›å»ºè¯­å¥ï¼Œ å¹¶ä¸”currentStateåœ¨ä¿®æ”¹å®ŒåŽå°†æ–°å€¼ä¾ç„¶å­˜æ”¾åœ¨ storeå†…ã€‚å¦‚ä½•ä¿®æ”¹ currentState æ˜¯æ ¹æ®ç”¨æˆ·æ“ä½œ action 12345store -&gt; containercurrentState -&gt; _valueaction -&gt; fcurrentReducer -&gt; mapmiddleware -&gt; IO functior // è§£å†³å¼‚æ­¥æ“ä½œçš„å„ç§é—®é¢˜]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Redux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘immutable å†…éƒ¨å®žçŽ°åŽŸç†]]></title>
    <url>%2F2019%2F07%2F03%2F%E3%80%90React%E3%80%91immutable-%E5%86%85%E9%83%A8%E5%AE%9E%E7%8E%B0%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[immutable.jsImmutable.js é‡‡ç”¨äº†æŒä¹…åŒ–æ•°æ®ç»“æž„ï¼ˆæ¯æ¬¡ä¿®æ”¹åŽæˆ‘ä»¬éƒ½ä¼šå¾—åˆ°ä¸€ä¸ªæ–°çš„ç‰ˆæœ¬ï¼Œä¸”æ—§ç‰ˆæœ¬å¯ä»¥å®Œå¥½ä¿ç•™ï¼‰ï¼Œä¿è¯æ¯ä¸€ä¸ªå¯¹è±¡éƒ½æ˜¯ä¸å¯å˜çš„ï¼Œä»»ä½•æ·»åŠ ã€ä¿®æ”¹ã€åˆ é™¤ç­‰æ“ä½œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼Œä¸”é€šè¿‡ç»“æž„å…±äº«(å¯¹äºŽæœ¬æ¬¡æ“ä½œæ²¡æœ‰ä¿®æ”¹çš„éƒ¨åˆ†ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æŽ¥æŠŠç›¸åº”çš„æ—§çš„èŠ‚ç‚¹æ‹·è´è¿‡åŽ»ï¼Œè¿™å…¶å®žå°±æ˜¯ç»“æž„å…±äº«)ç­‰æ–¹å¼å¤§å¹…æé«˜æ€§èƒ½ã€‚ åŽŸç†è§£è¯» Vector trie åŽŸç†æ˜¯ï¼Œä½¿ç”¨äºŒå‰æ ‘ï¼Œå°†æ‰€æœ‰å€¼æŒ‰ç…§é¡ºåºï¼Œä»Žå·¦åˆ°å³å­˜æ”¾äºŽå¶å­èŠ‚ç‚¹ï¼Œå½“éœ€è¦æ›´æ–°æ•°æ®æ—¶ï¼Œåªå°†å…¶æ›´æ–°è·¯å¾„ä¸Šçš„èŠ‚ç‚¹ç”Ÿæˆæ–°çš„å¯¹è±¡ï¼Œæ²¡æœ‰æ”¹å˜çš„èŠ‚ç‚¹ç»§ç»­å…±ç”¨ã€‚ Immutable.js å®žçŽ°äº†ä¸€ä¸ªhashå‡½æ•°ï¼Œå¯ä»¥æŠŠä¸€ä¸ªå€¼è½¬æ¢æˆç›¸åº”æ•°å­—ã€‚æŽ¥ä¸‹æ¥HAMT Hash array maps trie åŽ‹ç¼©treeImmutablejs å¯¹äºŽ Mapï¼Œä½¿ç”¨äº†è¿™ç§æ–¹å¼ä¼˜åŒ–ï¼Œå¹¶ä¸”é€šè¿‡æ ‘å®½ä¸Žæ ‘é«˜çš„åŽ‹ç¼©ï¼Œå½¢æˆäº†æ–‡ä¸­ä¾‹å›¾ä¸­çš„æ•ˆæžœï¼ˆ10010 10000 èšåˆæˆäº†ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¹¶ä¸”ç§»é™¤äº†åŒçº§çš„ç©ºèŠ‚ç‚¹ï¼‰ã€‚ æŸ¥æ‰¾åŽŸç†å¯ä»¥çœ‹åˆ°ä¸Šé¢é‚£å¼ å›¾ä¸€æ ·ï¼Œ æŸ¥æ‰¾ tea, å…ˆæ‰¾åˆ° t å†æ‰¾åˆ°e ,å†å¾€ä¸‹æ‰¾åˆ°aï¼Œ æ ¹æ®è¿™ä¸ªæŸ¥æ‰¾è·¯å¾„ï¼Œ æ‰¾åˆ°å¯¹åº”çš„å€¼ äºŒè¿›åˆ¶çš„æŸ¥æ‰¾æ–¹å¼ä¹Ÿæ˜¯è¿™ä¸ªåŽŸç†ï¼Œ å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ å·¦ä¸Šè§’çš„å€¼ä¸ŽäºŒè¿›åˆ¶è·¯å¾„äº’ç›¸æ˜ å°„ åˆ†åŒº æ•°å­—åˆ†åŒºï¼ˆDigit partitioningï¼‰æŒ‡æˆ‘ä»¬æŠŠä¸€ä¸ª key ä½œä¸ºæ•°å­—å¯¹åº”åˆ°ä¸€æ£µå‰ç¼€æ ‘ä¸Šã€‚ ä½åˆ†åŒºï¼ˆBit Partitioningï¼‰æ•°å­—åˆ†åŒºçš„æ–¹æ³•æ˜¯æœ‰ç‚¹è€—æ—¶çš„ï¼Œåœ¨æ¯ä¸€å±‚æˆ‘ä»¬éƒ½è¦è¿›è¡Œä¸¤æ¬¡é™¤æ³•ä¸€æ¬¡å–æ¨¡ï¼Œæ˜¾ç„¶è¿™æ ·å¹¶ä¸é«˜æ•ˆï¼Œä½åˆ†åŒºå°±æ˜¯å¯¹å…¶çš„ä¸€ç§ä¼˜åŒ–ã€‚ä½åˆ†åŒºæ˜¯å»ºç«‹åœ¨æ•°å­—åˆ†åŒºçš„åŸºç¡€ä¸Šçš„ï¼Œæ‰€æœ‰ä»¥2çš„æ•´æ•°æ¬¡å¹‚ï¼ˆ2ï¼Œ4ï¼Œ8ï¼Œ16ï¼Œ32â€¦ï¼‰ä¸ºåŸºæ•°çš„æ•°å­—åˆ†åŒºå‰ç¼€æ ‘ï¼Œéƒ½å¯ä»¥è½¬ä¸ºä½åˆ†åŒºã€‚åŸºäºŽä¸€äº›ä½è¿ç®—ç›¸å…³çš„çŸ¥è¯†ï¼Œæˆ‘ä»¬å°±èƒ½é¿å…ä¸€äº›è€—æ—¶çš„è®¡ç®—ã€‚æ•°å­—åˆ†åŒºæŠŠ key æ‹†åˆ†æˆä¸€ä¸ªä¸ªæ•°å­—ï¼Œè€Œä½åˆ†åŒºæŠŠ key åˆ†æˆä¸€ç»„ç»„ bitã€‚ä»¥ä¸€ä¸ª 32 è·¯çš„å‰ç¼€æ ‘ä¸ºä¾‹ï¼Œæ•°å­—åˆ†åŒºçš„æ–¹æ³•æ˜¯æŠŠ key ä»¥ 32 ä¸ºåŸºæ•°æ‹†åˆ†ï¼ˆå®žé™…ä¸Šå°±æ˜¯ 32 è¿›åˆ¶ï¼‰ï¼Œè€Œä½åˆ†åŒºæ˜¯æŠŠå®ƒä»¥ 5 ä¸ª bits æ‹†åˆ†ï¼Œå› ä¸º32 = 25ï¼Œé‚£æˆ‘ä»¬å°±å¯ä»¥æŠŠ 32 è¿›åˆ¶æ•°çš„æ¯ä¸€ä½çœ‹åš 5 ä¸ªäºŒè¿›åˆ¶ä½ ã€‚ bitMap bitMapå­¦ä¹ é“¾æŽ¥ï¼šhttps://blog.csdn.net/moakun/article/details/79927791 åˆ©ç”¨ä½è¿ç®—æ¥å¿«é€ŸæŸ¥æ‰¾è®¡ç®—ï¼Œ å¾—å‡ºç»“æžœï¼Œ immutable ä¹Ÿæ­£æ˜¯åˆ©ç”¨äº†è¿™ä¸€ç‚¹ï¼Œ åœ¨ä»£ç é€»è¾‘çš„å…³é”®å¤„å¤§é‡çš„ä½¿ç”¨äº†ä½è¿ç®— ä¸ºä»€ä¹ˆé€‰æ‹©32ä½Immutable.js çš„ Vector Trie é‡‡ç”¨äº† 32 ä½œä¸ºæ•°ç»„çš„é•¿åº¦ï¼Œæˆ‘ä»¬è§£é‡Šäº†ç”±äºŽé‡‡ç”¨äº†ä½åˆ†åŒºï¼Œè¯¥æ•°å­—åªèƒ½æ˜¯2çš„æ•´æ•°æ¬¡å¹‚ï¼Œæ‰€ä»¥ä¸èƒ½æ˜¯ 31ã€33 ç­‰ã€‚ä½†8ã€16ã€64ç­‰ç­‰å‘¢ï¼Ÿè¿™æ˜¯é€šè¿‡å®žé™…æµ‹è¯•å¾—å‡ºçš„ï¼Œå›¾ä¸­åˆ†åˆ«æ˜¯æŸ¥æ‰¾å’Œæ›´æ–°çš„æ—¶é—´ï¼Œçœ‹ä¸ŠåŽ»ä¼¼ä¹Ž 8 æˆ– 16 æ›´å¥½ï¼Ÿè€ƒè™‘åˆ°å¹³æ—¶çš„ä½¿ç”¨ä¸­ï¼ŒæŸ¥æ‰¾æ¯”æ›´æ–°é¢‘æ¬¡é«˜å¾ˆå¤šï¼Œæ‰€ä»¥Immutable.js é€‰æ‹©äº† 32 32ä½å¦‚ä½•å¤„ç†immutable ä¼šæŠŠ32ä½æŒ¨ä¸ªè½¬æ¢ä¸ºäºŒè¿›åˆ¶ï¼Œ å› ä¸º 2^5 = 32ï¼Œ ç±»ä¼¼å¦‚ä¸‹å›¾ï¼Œ æ¯ä¸€ä½éƒ½ä¼šè½¬æ¢ä¸ºç›¸åº”çš„äºŒè¿›åˆ¶ç”¨äºŽå¿«é€Ÿä½è¿ç®— æ ¸å¿ƒåŽŸç† Bitmap ä¸€ç§æ•°æ®ç»“æž„ï¼Œä»£è¡¨äº†æœ‰é™åŸŸä¸­çš„ç¨ é›†ï¼ˆdense setï¼‰ï¼Œæ¯ä¸€ä¸ªå…ƒç´ è‡³å°‘å‡ºçŽ°ä¸€æ¬¡ï¼Œæ²¡æœ‰å…¶ä»–çš„æ•°æ®å’Œå…ƒç´ ç›¸å…³è”ã€‚åœ¨ç´¢å¼•ï¼Œæ•°æ®åŽ‹ç¼©ç­‰æ–¹é¢æœ‰å¹¿æ³›åº”ç”¨ã€‚ HashArrayMapNodeï¼Œæ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ ï¼ž16 ï¼Œæ‹¥æœ‰çš„æ•°ç»„é•¿åº¦ä¸º 32 BitmapIndexedNodeï¼Œæ‹¥æœ‰çš„å­èŠ‚ç‚¹æ•°é‡ â‰¤16 ï¼Œæ‹¥æœ‰çš„æ•°ç»„é•¿åº¦ä¸Žå­èŠ‚ç‚¹æ•°é‡ä¸€è‡´ï¼Œç»ç”± bitmapåŽ‹ç¼© ValueNodeï¼Œå¶å­èŠ‚ç‚¹ï¼Œå­˜å‚¨ key å’Œ value HashCollisionNodeçš„èŠ‚ç‚¹åŽ»å¤„ç†å‘ç”Ÿå†²çªçš„é”®å€¼ ç»å…¸çš„ä»£ç æ®µ123456789//è®¡ç®—äºŒè¿›åˆ¶ä¸­1çš„æ•°é‡function popCount(x) &#123; x -= (x &gt;&gt; 1) &amp; 0x55555555; x = (x &amp; 0x33333333) + ((x &gt;&gt; 2) &amp; 0x33333333); x = (x + (x &gt;&gt; 4)) &amp; 0x0f0f0f0f; x += x &gt;&gt; 8; x += x &gt;&gt; 16; return x &amp; 0x7f;&#125;]]></content>
      <categories>
        <category>immutable</category>
      </categories>
      <tags>
        <tag>immutable</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘Objectã€Arrayä¸ŽMapçš„æ¯”è¾ƒ]]></title>
    <url>%2F2019%2F06%2F30%2F%E3%80%90JS%E3%80%91Object%E3%80%81Array%E4%B8%8EMap%E7%9A%84%E6%AF%94%E8%BE%83%2F</url>
    <content type="text"><![CDATA[Object ä¸Ž Map Object åœ¨V8ä¸­çš„å®žçŽ°æ˜¯ key - value åˆ†åˆ«ä½œä¸ºä¸€ä¸ªæ•°ç»„å­˜å‚¨, æ‰€ä»¥å­˜å‚¨ç©ºé—´æ˜¯å…ƒç´ çš„ä¸¤å€ å’ŒArrayå¯¹æ¯”]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘Setæ˜¯å¦‚ä½•å®žçŽ°çš„]]></title>
    <url>%2F2019%2F06%2F30%2F%E3%80%90JS%E3%80%91Set%E6%98%AF%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B0%E7%9A%84%2F</url>
    <content type="text"><![CDATA[ä¸€èˆ¬æƒ…å†µSetä¸€èˆ¬æ˜¯ä½¿ç”¨çº¢é»‘æ ‘å®žçŽ°çš„, çº¢é»‘æ ‘æ˜¯ä¸€ç§å¹³è¡¡æŸ¥æ‰¾äºŒå‰æ ‘, å®ƒçš„æŸ¥æ‰¾æ—¶é—´å¤æ‚åº¦ä¸ºO(logN). ä»ŽO(N)å˜æˆO(logN), è€Œæ€»ä½“æ—¶é—´ä»ŽO(N2)å˜æˆO(NlogN) V8ä¸­çš„å®žçŽ°(å“ˆå¸Œå®žçŽ°)Chrome V8çš„Setæ˜¯å“ˆå¸Œå®žçŽ°çš„, ä»–æ˜¯ä¸€ä¸ªå“ˆå¸ŒSet, å“ˆå¸Œçš„æŸ¥æ‰¾å¤æ‚åº¦ä¸ºO(1), å› æ­¤æ€»çš„æ—¶é—´å¤æ‚åº¦ä¸ºO(N), Set/ Mapéƒ½æ˜¯è¿™æ · å“ˆå¸Œçš„å­˜å‚¨ç©ºé—´é€šå¸¸ä¸ºæ•°æ®å¤§å°çš„ä¸¤å€. å…¸åž‹çš„ç”¨ç©ºé—´æ¢æ—¶é—´çš„ç®—æ³•. for ã€Setå’ŒMapå¦‚ä½•é€‰åž‹ é¢è¯•æ ‡å‡†å›žç­”ä¸€èˆ¬æƒ…å†µæ˜¯ä½¿ç”¨ çº¢é»‘æ ‘å®žçŽ°çš„, å¤æ‚åº¦æ˜¯ O(logN) V8è¿›è¡Œäº†ä¼˜åŒ–, å¤æ‚åº¦é™ä½Žè‡³ O(1)]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘MessageChannelæ¶ˆæ¯é€šé“]]></title>
    <url>%2F2019%2F06%2F30%2F%E3%80%90JS%E3%80%91MessageChannel%E6%B6%88%E6%81%AF%E9%80%9A%E9%81%93%2F</url>
    <content type="text"><![CDATA[ä»‹ç»å®ä»»åŠ¡! ç‚¹å¯¹ç‚¹ä¹‹é—´çš„é€šä¿¡ Channel Messaging APIçš„Channel MessagingæŽ¥å£å…è®¸æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªæ–°çš„æ¶ˆæ¯é€šé“ï¼Œå¹¶é€šè¿‡å®ƒçš„ä¸¤ä¸ªMessagePort å±žæ€§å‘é€æ•°æ®ã€‚ å®ƒä¼šè¿”å›žä¸¤ä¸ªç«¯å£ Port1å’Œ Port2 ä½¿ç”¨åœºæ™¯æ€è€ƒ Vue ä¸­ç”¨ä½œä¸Ž $nextTick çš„å¤‡é€‰æ–¹æ¡ˆ, æ˜¯å®ä»»åŠ¡ ç”¨ä½œä¸ŽFiber çš„è¿›ç¨‹è°ƒåº¦ä¸­ å¯ä»¥ç”¨åœ¨ç»„ä»¶ä¹‹é—´çš„é€šä¿¡ åˆ©ç”¨å‚æ•°ä¼ é€’é»˜è®¤æ·±æ‹·è´çš„ç‰¹æ€§æ¥åšæ·±æ‹·è´. ä¸ŽIframe é€šä¿¡ ä¸€æ®µDemo12345678910111213141516var channel = new MessageChannel();var para = document.querySelector('p'); var ifr = document.querySelector('iframe');var otherWindow = ifr.contentWindow;ifr.addEventListener("load", iframeLoaded, false); function iframeLoaded() &#123; otherWindow.postMessage('Hello from the main page!', '*', [channel.port2]);&#125;channel.port1.onmessage = handleMessage;function handleMessage(e) &#123; para.innerHTML = e.data;&#125;]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘å…³äºŽrequestIdleCallbackå‡½æ•°çš„ä½œç”¨]]></title>
    <url>%2F2019%2F06%2F30%2F%E3%80%90JS%E3%80%91%E5%85%B3%E4%BA%8ErequestIdleCallback%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%9C%E7%94%A8%2F</url>
    <content type="text"><![CDATA[requestIdleCallback ä¼šåœ¨æµè§ˆå™¨æ¯ä¸€å¸§çš„ç©ºé—²æ—¶æœŸä¾æ¬¡è°ƒç”¨å‡½æ•°ï¼Œ å¦‚æžœè¯´ï¼Œ ä¸€ä¸ªæµè§ˆå™¨çš„æ•ˆçŽ‡å¾ˆé«˜ï¼Œæœ‰60fpsçš„åˆ·æ–°é¢‘çŽ‡ï¼Œ ä¹Ÿå°±æ˜¯è¯´è¯¥æµè§ˆå™¨æ¯ä¸€å¸§çš„åˆ·æ–°æ—¶é—´æ˜¯16.6sï¼Œ å¦‚æžœè¯´ç”µè„‘æ¯”è¾ƒå¡ï¼Œ é‚£åˆ·æ–°é¢‘çŽ‡å¯èƒ½å°±ä¼šä¸‹é™ï¼Œ ä¼šæ˜¯ 30fps(åŽŸåˆ™ä¸Š30fpsæ˜¯è‚‰çœ¼èƒ½æŽ¥æ”¶çš„æœ€ä½Žé¢‘çŽ‡)ã€‚ æ­¤æ—¶ï¼Œæ¯ä¸€å¸§ä¹Ÿå°±æ˜¯33.3sï¼Œ è¯¥å‡½æ•°çš„å‡ºå‘åœºæ™¯å°±æ˜¯åœ¨å¸§ä¸Žå¸§ä¹‹é—´ï¼Œ ä¹Ÿå¯ä»¥æ˜¯è¯´å¸§çš„æœ«å°¾ï¼Œ å®žé™…ä¸Šæ¯ä¸€å¸§å¹¶ä¸ä¸€å®šä¼šå®Œå…¨æ¶ˆè€—å®Œ 16.6s ç”šè‡³æ˜¯ 33.3sï¼Œ ä»–ä¼šæœ‰å‰©ä½™çš„æ—¶é—´ç•™ç»™æµè§ˆå™¨åŽ»æ‰§è¡Œjsï¼Œ requestIdleCallback å°±æ˜¯å¦‚æ­¤ï¼Œ ç”¨å®ƒè°ƒç”¨çš„å‡½æ•°ä¼šåœ¨æµè§ˆå™¨çš„è¯¥å¸§æœŸé—´ï¼Œæ¸²æŸ“è¿‡åŽçš„å‰©ä½™æ—¶é—´å†…è°ƒç”¨è¯¥å›žè°ƒï¼Œ è¿™ä¹Ÿæ˜¯react 16 fiberæž¶æž„çš„è°ƒåº¦ç®—æ³•æ ¸å¿ƒ åŸºæœ¬è¯­æ³• https://developer.mozilla.org/zh-CN/docs/Web/API/Window/requestIdleCallback å¹¶ä¸”æˆ‘ä»¬è¿˜å¯ä»¥é€šè¿‡ deadline.timeRemainingæ–¹æ³•æ¥æŸ¥çœ‹è¯¥å¸§æœŸé—´çš„å‰©ä½™æ—¶é—´ Demoé¦–å…ˆå°è¯•æ­å»ºä¸€ä¸ªæœ€ç®€å•çš„demo ,æ‰“å°ä¸€ä¸‹ deadline ã€å‰©ä½™æ—¶é—´ å’Œ è¯¥å‡½æ•°çš„è¿”å›žå€¼123456789101112const id = window.requestIdleCallback((deadline) =&gt; &#123; // å‰©ä½™æ—¶é—´ï¼Œ å•ä½ms, æŒ‡çš„æ˜¯è¯¥å¸§çš„å‰©ä½™æ—¶é—´ console.log(deadline.timeRemaining()) // è¡¨ç¤ºè¯¥å¸§é‡Œé¢æ²¡æœ‰æ‰§è¡Œå›žè°ƒï¼Œ è¶…æ—¶äº† console.log(deadline)&#125;, &#123; // 1. å³è¶…æ—¶æ—¶é—´ï¼Œ ä¸æä¾›çš„è¯æµè§ˆå™¨ä¼šè‡ªå·±åŽ»ç®— // 2. å¦‚æžœç»™å®š timeout ï¼Œ é‚£åˆ°äº†æ—¶é—´ï¼Œ éƒ½ä¼šç«‹åˆ»æ‰§è¡Œå›žè°ƒ callback timeout: 1000&#125;)console.log(id) è¿”å›žç»“æžœ: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼š è¯¥å‡½æ•°çš„è¿”å›žç»“æžœ(id)çš„å€¼ï¼š 1 æµè§ˆå™¨æœ¬å¸§çš„å‰©ä½™ç©ºé—²æ—¶é—´: 1.2750000000000001 å›žè°ƒæŽ¥æ”¶çš„ deadlineæ–¹æ³•ï¼Œ é‡Œé¢æœ‰ä¸€ä¸ª didTimeout å±žæ€§ å¦‚ä½•å–æ¶ˆrequestIdleCallbackå°† requestIdleCallback çš„è¿”å›žå€¼ï¼ˆä¸€ä¸ªæ— ç¬¦å·é•¿æ•´æ•°ï¼‰ï¼Œå¯ä»¥æŠŠå®ƒä¼ å…¥ Window.cancelIdleCallback() æ–¹æ³•ï¼Œæ¥ç»“æŸå›žè°ƒ å¦‚ä½•å®žçŽ° polyfillrequestIdleCallback è¿™ä¸ªæ–¹æ³•æµè§ˆå™¨çš„å…¼å®¹ç›¸å½“å·®ï¼Œ é‚£æ€Žä¹ˆåŠžï¼Œ React16 Fiberä¸­ä¹Ÿä½¿ç”¨äº†ï¼Œ åˆ«äººæ˜¯å¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯ï¼š requestAnimationFrame åˆ©ç”¨å›žè°ƒæŽ¥æ”¶çš„ DOMHighResTimeStamp å‚æ•°ï¼Œ è®¡ç®—å‡ºæ¯ä¸€å¸§æ‰€èŠ±è´¹çš„æ—¶é—´ï¼Œ è‡ªå·±åŽ»å®žçŽ°ä¸€ä¸ª requestIdleCallback çš„polyfill , ç®€ç›´å®Œç¾Ž]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘Fiberæž¶æž„]]></title>
    <url>%2F2019%2F06%2F30%2F%E3%80%90React%E3%80%91Fiber%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[Fiber æ˜¯ä»€ä¹ˆFiber æ˜¯ä¸€ä¸ªåè¯ï¼Œ åœ¨è®¡ç®—æœºç§‘å­¦ä¸­é™¤äº†è¿›ç¨‹ï¼ˆProcessï¼‰ å’Œçº¿ç¨‹ï¼ˆThreadï¼‰çš„æ¦‚å¿µè¿˜æœ‰ä¸€ä¸ªæ¦‚å¿µå«åšFiber, è‹±æ–‡å«ä¹‰å°±æ˜¯â€œçº¤ç»´â€ï¼Œ æ„æŒ‡æ¯”Threadæ›´ç»†çš„çº¿ï¼Œ ä¹Ÿå°±æ˜¯æ¯”çº¿ç¨‹ï¼ˆThreadï¼‰æŽ§åˆ¶å¾—æ›´ç²¾å¯†çš„å¹¶å‘å¤„ç†æœºåˆ¶ã€‚Fiberå¯ä»¥æå‡å¤æ‚Reactåº”ç”¨çš„å¯å“åº”æ€§å’Œæ€§èƒ½ã€‚ Fiber å³æ˜¯React æ–°çš„è°ƒåº¦ç®—æ³•ï¼ˆ reconciliation algorithmï¼‰ çŽ°æœ‰React ä¸­ï¼Œ æ›´æ–°è¿‡ç¨‹æ˜¯åŒæ­¥çš„ï¼Œå½“ç»„ä»¶æ ‘æ¯”è¾ƒåºžå¤§çš„æ—¶å€™ï¼Œ æµè§ˆå™¨ä¸»çº¿ç¨‹è¢«Reactå ç”¨ã€‚ç”¨æˆ·æ­¤æ—¶è¾“å…¥Input ä¼šé€ æˆé¡µé¢å¡é¡¿ã€‚ Fiberä½¿ç”¨åä½œå¼å¤šä»»åŠ¡å¤„ç†ä»»åŠ¡ã€‚ å°†åŽŸæ¥çš„æ•´ä¸ªVirtual Dom çš„æ›´æ–°ä»»åŠ¡æ‹†åˆ†æˆä¸€ä¸ªä¸ªå°çš„ä»»åŠ¡ã€‚ æ¯æ¬¡åšå®Œä¸€ä¸ªå°ä»»åŠ¡ä¹‹åŽï¼Œ æ”¾å¼ƒä¸€ä¸‹è‡ªå·±çš„æ‰§è¡Œå°†çº¿ç¨‹ç©ºé—²å‡ºæ¥ï¼Œ çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–çš„ä»»åŠ¡ã€‚å¦‚æžœæœ‰çš„è¯ï¼Œ å°±æš‚åœæœ¬æ¬¡ä»æ— ï¼Œ æ‰§è¡Œå…¶ä»–çš„ä»»åŠ¡ï¼Œ å¦‚æžœæ²¡æœ‰çš„è¯ï¼Œå°±ç»§ç»­ä¸‹ä¸€ä¸ªä»»åŠ¡ã€‚ React16ä¸ŽFiber react16å‡çº§äº†reconcile ç®—æ³•æž¶æž„ï¼Œ ä»Žstackå‡çº§ä¸ºfiber æž¶æž„ã€‚æ¯æ¬¡ç»„ä»¶çš„stateæ›´æ–°éƒ½ä¼šå‡ºå‘reconcileçš„æ‰§è¡Œä¹Ÿæ˜¯ä¸€ä¸ªé€’å½’è¿‡ç¨‹ï¼Œ è€Œä¸”ä¸€å¼€å§‹çŸ¥é“é€’å½’å®Œæ‰€æœ‰èŠ‚ç‚¹æ‰åœæ­¢ï¼Œ å› æ­¤ç§°ä¸ºstackç®—æ³•ã€‚ç”±äºŽjsæ˜¯å•çº¿ç¨‹çš„ï¼Œ å› æ­¤æ­¤æ—¶å°±å¯èƒ½ä¼šå½±å“ç”¨æˆ·çš„è¾“å…¥æˆ–è€…Uiçš„æ¸²æŸ“å¸§é¢‘é€ æˆå¡é¡¿ï¼Œ é™ä½Žç”¨æˆ·ä½“éªŒã€‚è€Œfiber æž¶æž„åˆ™ä¸ä¸€æ ·ï¼Œ åº•å±‚æ˜¯åŸºäºŽ requestdleCallbackæ¥è°ƒåº¦diffç®—æ³•çš„æ‰§è¡Œï¼Œ å®ƒçš„ç‰¹ç‚¹é¡¾åæ€ä¹‰å°±æ˜¯åˆ©ç”¨ç©ºé—²æ—¶é—´æ¥å®Œæˆä»»åŠ¡ã€‚ æ³¨æ„è¿™é‡Œçš„ç©ºé—²æ—¶é—´å°±æ˜¯ç›¸å¯¹äºŽé‚£äº›ä¼˜å…ˆçº§æ›´é«˜çš„ä»»åŠ¡ï¼ˆæ¯”å¦‚ç”¨æˆ·è¾“å…¥ã€ Uiæ¸²æŸ“ï¼‰æ¥è¯´çš„ã€‚ requestIdelCallback Polyfill ä½¿ç”¨äº†ä¸€ä¸ª33æ¯«ç§’ï¼Œ è¿™ä¸ªæ—¶é—´æ˜¯React è®¤ä¸ºçš„ä¸€ä¸ªå¯ä»¥æŽ¥æ”¶çš„æœ€å¤§å€¼ï¼Œ å¦‚æžœè¿è¡Œè®¾å¤‡èƒ½åšåˆ°å¤§ä¸Ž30fpsï¼Œ é‚£ä¹ˆå®ƒä¼šåŽ»è°ƒæ•´è¿™ä¸ªå€¼ï¼ˆé€šå¸¸æƒ…å†µä¸‹å¯ä»¥è°ƒæ•´åˆ°16.6msï¼‰ã€‚ è°ƒæ•´ç­–ç•¥æ˜¯ç”¨å½“å‰æ¯å¸§çš„æ€»æ—¶é—´ä¸Žå®žé™…æ¯å¸§çš„æ—¶é—´è¿›è¡Œæ¯”è¾ƒï¼Œ å½“å®žé™…æ—¶é—´å°äºŽå½“å‰æ—¶é—´ä¸”ç¨³å®š( å‰åŽä¸¤æ¬¡éƒ½å°äºŽå½“å‰æ—¶é—´ )ï¼Œ é‚£ä¹ˆå°±ä¼šè®¤ä¸ºè¿™ä¸ªå€¼æ˜¯æœ‰æ•ˆçš„ï¼Œ ç„¶åŽå°†æ²¡å¸§æ—¶é—´è°ƒæ•´ä¸ºè¯¥å€¼ï¼ˆå–å‰åŽä¸¤æ¬¡ä¸­æ—¶é—´å¤§çš„å€¼ï¼‰ï¼Œ è¿˜æœ‰å°±æ˜¯requestAnimationFrame å›žè°ƒçš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ æ¯ä¸€å¸§çš„èµ·å§‹æ—¶é—´ï¼Œ æœ€ç»ˆå€ŸåŠ©requestAnimationFrame è®©ä¸€æ‰¹æ‰å¹³ä»»åŠ¡æ°å¥½æŽ§åˆ¶åœ¨ä¸€å—ä¸€å—çš„33msè¿™æ ·çš„æ—¶é—´ç‰‡å†…æ‰§è¡Œå³å¯ Fiberçš„ä¸¤ä¸ªé˜¶æ®µç”±reconcilerå’Œ rendererä¸¤ä¸ªæ¦‚å¿µå¼•å‡ºçš„æ˜¯Phaseçš„æ¦‚å¿µï¼Œ PhaseæŒ‡çš„æ˜¯Reactç»„ä»¶æ¸²æŸ“æ—¶çš„é˜¶æ®µã€‚ Reconcile é˜¶æ®µã€‚ æ­¤é˜¶æ®µä¸­ï¼Œ ä¾åºéåŽ†ç»„ä»¶ï¼Œ é€šè¿‡diffç®—æ³•ï¼Œ åˆ¤æ–­ç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œ ç»™éœ€è¦æ›´æ–°çš„ç»„ä»¶åŠ ä¸Štagï¼Œ éåŽ†å®Œä¹‹åŽï¼Œ å°†æ‰€æœ‰å¸¦æœ‰tagçš„ç»„ä»¶åŠ åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ã€‚ è¿™ä¸ªé˜¶æ®µçš„ä»»åŠ¡å¯ä»¥è¢«æ‰“æ–­ã€‚ Commit é˜¶æ®µã€‚ æ ¹æ®Reconcile é˜¶æ®µç”Ÿæˆçš„æ•°ç»„ï¼Œ éåŽ†æ›´æ–°DOMï¼Œ è¿™ä¸ªé˜¶æ®µéœ€è¦ä¸€æ¬¡æ€§æ‰§è¡Œå®Œã€‚ï¼ˆæ— æ³•è¢«æ‰“æ–­ï¼‰ å¦‚ä½•æ‰“æ–­ä»»åŠ¡Fiberçš„æ‰“æ–­æ–¹å¼å°±æ˜¯ä½¿ç”¨cancelIdleCallbackæ–¹æ³•å–æ¶ˆæŽ‰å›žè°ƒ Fiberå¦‚ä½•æŽ’åˆ—ä»»åŠ¡ åˆ©ç”¨åŒå‘é“¾è¡¨ï¼Œ æŒ‰ç…§ä»»åŠ¡çš„ä¼˜å…ˆçº§è®¾å®šä»»åŠ¡çš„è¿‡æœŸæ—¶é—´ï¼Œç„¶åŽæ ¹æ®ä»»åŠ¡çš„è¿‡æœŸæ—¶é—´ï¼Œæ’å…¥åˆ°åŒå‘é“¾è¡¨ä¸­ React Fiber æŠŠæ›´æ–°è¿‡ç¨‹ç¢Žç‰‡åŒ–ï¼Œ æ¯æ‰§è¡Œå®Œä¸€æ®µæ›´æ–°è¿‡ç¨‹ï¼Œ å°±æŠŠæŽ§åˆ¶æƒäº¤è¿˜ç»™React è´Ÿè´£ä»æ— åè°ƒçš„æ¨¡å—ï¼Œ çœ‹çœ‹æœ‰æ²¡æœ‰å…¶ä»–ç´§æ€¥ä»»åŠ¡è¦åšï¼Œ å¦‚æžœæ²¡æœ‰å°±ç»§ç»­åŽ»æ›´æ–°ï¼Œ å¦‚æžœç”±ç´§æ€¥ä»»åŠ¡ï¼Œ é‚£å°±åŽ»åšç´§æ€¥ä»»åŠ¡ã€‚Fiberåˆ†ä¸º2ä¸ªé˜¶æ®µï¼Œ ç¬¬ä¸€é˜¶æ®µReconciliation Phase( componentWillMountã€componentWillReceivePropsã€ shouldComponentUpdateã€componentWillUpdate) ç¬¬äºŒé˜¶æ®µCommit Phase(componentDidMountã€componentDidUpdateã€componentWillUnmount )ç¬¬ä¸€é˜¶æ®µå¯èƒ½ä¼šè¢«æ‰“æ–­ï¼Œ ä¹Ÿå°±æ„å‘³ç€ç¬¬ä¸€é˜¶æ®µä¸­çš„ç”Ÿå‘½å‘¨æœŸå‡½æ•°åœ¨ä¸€æ¬¡åŠ è½½å’Œæ›´æ–°è¿‡ç¨‹ä¸­å¯èƒ½ä¼šè¢«å¤šæ¬¡è°ƒç”¨ï¼ getDerivedStateFromPropsåœ¨å¤„åœ¨Render Phaseé˜¶æ®µï¼Œ æ¯æ¬¡çš„æ›´æ–°éƒ½è¦è§¦å‘ã€‚è¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ˜¯çº¯å‡½æ•°ã€é™æ€æ–¹æ³•ä¸ºäº†éš”ç¦»å®žä¾‹(ç¦æ­¢this.refsç­‰)å•çº¯ä¸”é«˜æ•ˆï¼Œ getSnapshotBeforeUpdateåˆ°äº†commit é˜¶æ®µï¼Œå› æ­¤è¿™ä¸ªå‡½æ•°åªä¼šè¿è¡Œä¸€æ¬¡ æ¦‚è¿°FiberåŽŸç†Fiber æ ¸å¿ƒæ€æƒ³æ˜¯æ¸²æŸ“å’Œjsæ‰§è¡Œä¹‹é—´çš„è°ƒåº¦, ä¸ºäº†åœ¨è¿›è¡Œå¤æ‚çš„jsä»£ç æ—¶ä¸é˜»ç¢åˆ°ç”¨æˆ·ä½“éªŒ, æ¯”å¦‚React åœ¨æ‰§è¡ŒæŸäº›ä»£ç æ—¶, input çš„æ¡†æ²¡æœ‰åŠžæ³•åœ¨ç”¨æˆ·æ‰§è¡Œæ—¶åŠæ—¶çš„åšå‡ºå“åº”, è¿™å°±ä¼šè®©ç”¨æˆ·è§‰å¾—è¿™ä¸ªç½‘é¡µå¡æ­»äº†!, Fiber å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œç”Ÿçš„ Fiber å¯ä»¥è¯´æ˜¯å‚è€ƒäº†æ“ä½œç³»ç»Ÿç®¡ç†è¿›ç¨‹çš„æ–¹å¼, åˆ†æ—¶è°ƒåº¦, ç»™æ¯ä¸ªè¿›ç¨‹ä¸€å®šçš„æ‰§è¡Œæ—¶é—´æ¥å›žåˆ‡æ¢, è€ŒFiber æ˜¯è®©jsä»»åŠ¡ä¸Žæµè§ˆå™¨æ¸²æŸ“ä¹‹é—´æ¥å›žåˆ‡æ¢, ä»¥é˜²æ­¢å‡ºçŽ°æ— å“åº”çš„æƒ…å†µ. é‚£Fiber ä¼šå¦‚ä½•åšå‘¢: é¦–å…ˆ, Fiber ä¼šæ¨¡æ‹Ÿä¸€ä¸ªrequestIdleCallback æ–¹æ³•, æ˜¯åˆ©ç”¨requestAnimationFrame å®žçŽ°çš„polyfill æ–¹æ³•, åˆ©ç”¨è¯¥æ–¹æ³•å›žè°ƒä¸­æŽ¥æ”¶çš„å‚æ•°æ¥åˆ¤å®šæ¯ä¸€å¸§ç•™ä¸‹çš„ç©ºé—²æœŸ, ç„¶åŽç»™æ¯ä¸€ä¸ªä»»åŠ¡éƒ½åˆ¤å®šçº§åˆ«, è½»é‡ç¼“æ€¥, å¦‚ä¸‹ 12345var ImmediatePriority = 1;var UserBlockingPriority = 2;var NormalPriority = 3;var LowPriority = 4;var IdlePriority = 5; æ¯ä¸ªä¼˜å…ˆçº§éƒ½å¯¹åº”ç€ä¸ä¸€æ ·çš„ deadline(è¶…æ—¶æ—¶é—´): 12345678910// Times out immediatelyvar IMMEDIATE_PRIORITY_TIMEOUT = -1;// Eventually times out// 250msä»¥åŽè¿‡æœŸvar USER_BLOCKING_PRIORITY = 250;var NORMAL_PRIORITY_TIMEOUT = 5000;var LOW_PRIORITY_TIMEOUT = 10000;// Never times out// æ°¸ä¸è¿‡æœŸ - ä¸ºä»€ä¹ˆæ˜¯12å¤©ï¼Œ å› ä¸ºv8æ•´æ•°ä¸Šé™var IDLE_PRIORITY = maxSigned31BitInt; è§„å®šå¥½æ¯ä¸ªä¸åŒä¼˜å…ˆçº§ä»»åŠ¡çš„ è¶…æ—¶æ—¶é—´åŽ, æˆ‘ä»¬å°±å¯ä»¥å¯¹æ¯ä¸ªä»»åŠ¡è¿›è¡ŒæŽ’é˜Ÿäº†, é‚£å¦‚ä½•æŽ’é˜Ÿæœ€çµæ´»å‘¢? é¦–å…ˆFiber ä¼šæž„å»ºä¸€ä¸ª å¾ªçŽ¯åŒå‘é“¾ , å°†æ¯ä¸ªä»»åŠ¡éƒ½ä½œä¸ºä¸€ä¸ªèŠ‚ç‚¹, å¹¶æ ¹æ®è¶…æ—¶æ—¶é—´ä½œä¸ºæŽ’åºçš„ä¾æ®, æ¯å½“æœ‰æ–°ä»»åŠ¡è¿›å…¥æ—¶, ä»Žå¤´æŒ¨ä¸ªå¯¹æ¯”æ¯ä¸ªèŠ‚ç‚¹, ç›´è‡³é‡åˆ°è¶…æ—¶æ—¶é—´å¤§äºŽè¯¥ä»»åŠ¡è‡ªèº«çš„èŠ‚ç‚¹, å°†å…¶æ’å…¥åˆ°è¯¥ä½ç½®, å¦‚æžœæ•´ä¸ªé“¾è¡¨ä¸­éƒ½æ²¡æœ‰æ‰¾åˆ°è¶…æ—¶æ—¶é—´å¤§äºŽè¯¥ä»»åŠ¡çš„èŠ‚ç‚¹, é‚£ä¹ˆå°±ä»–å°±ä½œä¸ºäº†é“¾è¡¨çš„æœ«å°¾èŠ‚ç‚¹, å¹¶å°† Next æŒ‡å‘é“¾è¡¨çš„é¦–èŠ‚ç‚¹. åˆæˆ–è€…,å¦‚æžœé¦–èŠ‚ç‚¹å°±ç¬¦åˆæ¡ä»¶, é‚£è¯¥èŠ‚ç‚¹å°±è½¬è€Œå˜æˆäº†é¦–èŠ‚ç‚¹ Fiberå¯¹æµè§ˆå™¨çš„å¸§çŽ‡æœ‰ä¸ªæœ€ä½Žä¸‹é™çš„å–å€¼, ä¹Ÿå°±æ˜¯33 ( æ ¹æ®æ¯ç§’30å¸§å¾—å‡º ), ä½†æ˜¯è¿™ä¸ªå€¼ä¹Ÿå¹¶ä¸æ˜¯å†™æ­»çš„, å®ƒä¼šåŽ»è·‘ä¸¤æ¬¡æ–¹æ³•å°è¯•è®¡ç®—, å¦‚æžœä¸¤æ¬¡è®¡ç®—æ‰€èŠ±è´¹çš„æ—¶é—´å°äºŽè¿™ä¸ªå€¼, ä¹Ÿå°±æ˜¯ç”¨ä¸¤æ¬¡æµ‹è¯•æ¥åˆ¤æ–­æµè§ˆå™¨æ€§èƒ½, å¦‚æžœæµè§ˆå™¨æ€§èƒ½è¶…å‡ºé¢„æœŸ, é‚£ä¹ˆå°±ä¼šä½¿ç”¨ç€ä¸¤æ¬¡è®¡ç®—ç»“æžœçš„æœ€å¤§å€¼. è¿™æ˜¯Fiberåœ¨è¿›è¡ŒåŠ¨æ€çš„åŽ‹å¸§. æ ¹æ®æ€§èƒ½æä¾›æœ€ä¼˜çš„æ—¶é—´. ä¼˜å…ˆæ¬¡åºæŽ’åˆ—å¥½äº†, æ‰§è¡Œé—´éš”ä¹Ÿç¡®å®šäº†, é‚£å‰©ä¸‹çš„äº‹æƒ…å°±æ˜¯æ‰§è¡Œäº†, æ‰§è¡Œå‘¢å°±æ˜¯æˆ‘ä»¬åˆšåˆšè¯´çš„, åˆ©ç”¨requestAnimationFrame è®¡ç®—å‡ºæ¯ä¸€å¸§çš„ç©ºæ¡£æœŸ, è¿™é‡Œéœ€è¦æ³¨æ„, Fiber è¿˜ç•™æœ‰ä¸€æ‰‹å¤‡ç”¨, é‚£å°±æ˜¯ setTimeout. ä¸ºä»€ä¹ˆè¦ä½¿ç”¨setTimeout å‘¢, è¿™æ˜¯å› ä¸º, requestAnimationFrameæœ‰ä¸ªè‡´å‘½çš„é—®é¢˜, å½“ç”¨æˆ·åˆ‡æ¢æµè§ˆå™¨tabé¡µä»¥åŽ, requestAnimationFrame å°±ä¼šåœæ­¢æ‰§è¡Œ, æ‰€ä»¥Fiberå°±ä¼šè½¬è€Œåˆ‡æ¢è‡³ä½¿ç”¨setTimeout ä»£æ›¿. å¹¶ä¸”åœ¨ requestAnimationFrame æ‰§è¡Œæ—¶æ‰“æ–­äº† setTimeout , åœ¨setTimeout æ‰§è¡Œæ—¶æ‰“æ–­äº†requestAnimationFrame 1234567891011121314var requestAnimationFrameWithTimeout = function(callback) &#123; // schedule rAF and also a setTimeout rAFID = localRequestAnimationFrame(function(timestamp) &#123; //æ¯ä¸€æ¬¡ç³»ç»Ÿæ‰§è¡Œçš„performance.now é»˜è®¤é—´éš”æ˜¯16.7 // cancel the setTimeout localClearTimeout(rAFTimeoutID); callback(timestamp); &#125;); rAFTimeoutID = localSetTimeout(function() &#123; // cancel the requestAnimationFrame localCancelAnimationFrame(rAFID); callback(exports.unstable_now()); &#125;, ANIMATION_FRAME_TIMEOUT);&#125;; Fiberåœ¨æ¯ä¸€å¸§çš„å…·ä½“æ‰§è¡ŒæœŸé—´,ä¼šå°½å¯èƒ½å¤šçš„æ‰§è¡Œä»»åŠ¡, ä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªä»»åŠ¡æ‰§è¡Œå®Œå¦‚æžœæ—¶é—´è¿˜æ²¡åˆ°è¿˜ä¼šå†æ‰¾ä¸‹ä¸€ä¸ªä»»åŠ¡, å¹¶ä½¿ç”¨MessageChannelæ¥è¿›è¡Œåˆ†é…ä»»åŠ¡, å¹¶ä¸”æœ‰æ—¶å€™ä¼šæœ‰æµè§ˆå™¨æ¸²æŸ“ä»»åŠ¡è¾ƒé‡æ—¶,å¦‚é‡æŽ’, å¯¼è‡´äº†å ç”¨æ—¶é—´è¶…æ—¶, é‚£ä¹ˆFiberä¼šå¼ºåˆ¶æ‰§è¡Œä»¥è¶…æ—¶çš„é‚£äº›ä»»åŠ¡, å› ä¸ºè¿™äº›ä»»åŠ¡å®žåœ¨ä¸èƒ½å†æ‹–äº†, å†æ‹–ä¸‹åŽ»,æ•´ä¸ªç¨‹åºå°±åºŸäº†, æ‰€ä»¥å¿…é¡»çŽ°åœ¨æ‰§è¡Œå®Œæ¯•, æ‰§è¡Œå®Œçš„ä»»åŠ¡å°±ä¼šé€€å‡ºé“¾è¡¨, å½“æœ¬æ¬¡æŸ¥æ‰¾åˆ°çš„è¶…æ—¶ä»»åŠ¡éƒ½æ‰§è¡Œå®Œæ¯•åŽ, Fiber åˆä¼šå†åŽ»éåŽ†ä¸€éé“¾è¡¨çœ‹çœ‹è¿˜æœ‰æ²¡æœ‰æ–°çš„è¶…æ—¶ä»»åŠ¡, å¦‚æžœæœ‰é‚£å°±æŽ¥ç€æ‰§è¡ŒæŽ‰, æ‰§è¡Œå®Œäº†åŒç†, åˆåŽ»å†æŸ¥æ‰¾ä¸€é, ä¸€ç›´é‡å¤, ç›´è‡³æ²¡æœ‰è¶…æ—¶ä»»åŠ¡äº†, ç„¶åŽè®©å‡ºçº¿ç¨‹è®©æµè§ˆå™¨æ¸²æŸ“. åˆ°è¿™é‡Œå°±æ˜¯Fiber è°ƒåº¦çš„ä¸»è¦åŽŸç†, å†™çš„å¾ˆç³™, å¯èƒ½ç›´æœ‰æˆ‘è‡ªå·±èƒ½çœ‹æ‡‚äº† Fiber æºç  + æ³¨é‡Š123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165166167168169170171172173174175176177178179180181182183184185186187188189190191192193194195196197198199200201202203204205206207208209210211212213214215216217218219220221222223224225226227228229230231232233234235236237238239240241242243244245246247248249250251252253254255256257258259260261262263264265266267268269270271272273274275276277278279280281282283284285286287288289290291292293294295296297298299300301302303304305306307308309310311312313314315316317318319320321322323324325326327328329330331332333334335336337338339340341342343344345346347348349350351352353354355356357358359360361362363364365366367368369370371372373374375376377378379380381382383384385386387388389390391392393394395396397398399400401402403404405406407408409410411412413414415416417418419420421422423424425426427428429430431432433434435436437438439440441442443444445446447448449450451452453454455456457458459460461462463464465466467468469470471472473474475476477478479480481482483484485486487488489490491492493494495496497498499500501502503504505506507508509510511512513514515516517518519520521522523524525526527528529530531532533534535536537538539540541542543544545546547548549550551552553554555556557558559560561562563564565566567568569570571572573574575576577578579580581582583584585586587588589590591592593594595596597598599600601602603604605606607608609610611612613614615616617618619620621622623624625626627628629630631632633634635636637638639640641642643644645646647648649650651652653654655656657658659660661662663664665666667668669670671672673674675676677678679680681682683684685686687688689690691692693694695696697698699700701702703704705706707708709710711712713714715716717718719720721722723724725726727728729730731732733734735736737738739740741742743744745746747748749750751752753754755756757758759760761762763764765766767768769770771772773774775776777778779780781782783784785786787788789790791792793794795796797798799800801802803804805806807808809810811812813814815816/** @license React v0.13.6 * scheduler.development.js * * Copyright (c) Facebook, Inc. and its affiliates. * * This source code is licensed under the MIT license found in the * LICENSE file in the root directory of this source tree. *//** * è€è¢è§£æžreact fiber * 1.èŽ·å–å½“å‰ç³»ç»Ÿçš„å¼€å§‹æ—¶é—´ * 2.è®¾ç½®ä»»åŠ¡çš„ä¼˜å…ˆçº§ * 3.æ ¹æ®ä¼˜å…ˆçº§åˆ«è®¾ç½®å¯¹åº”çš„è¿‡æœŸæ—¶é—´ * 4.æ ¹æ®è¿‡æœŸæ—¶é—´è¿›è¡ŒåŒå‘é“¾è¡¨çš„æŽ’åº * 5.æŽ’å®Œåºäº† ç„¶åŽå¦‚ä½•æ‰§è¡Œå‘¢ï¼Ÿï¼Ÿï¼ŸensureHostCallbackIsScheduled * 6.æŒ‰ç…§æ¯ä¸€å¸§ä¹‹åŽçš„ç©ºé—²å¼€å§‹è¿›è¡Œæ›´æ–° requestAnimationFrameWithTimeout * 7.animationTickæ˜¯çº¿ç´¢ è®¡ç®—å¸§è¿‡æœŸæ—¶é—´å¹¶åŽ‹ç¼©å¸§ * 8.é…åˆMessageChannelè¿›è¡Œå…·ä½“çš„è°ƒåº¦ä»»åŠ¡ * 9.prevScheduledCallback == flushWorkæœ€ç»ˆæ‰§è¡Œè°ƒåº¦ * åŽŸåˆ™ï¼šæœ‰è¿‡æœŸçš„æ‰§è¡Œå…¨éƒ¨è¿‡æœŸ æ²¡è¿‡æœŸå°½å¯èƒ½å¤šçš„æ‰§è¡Œ * å‰©ä¸‹æ²¡æ‰§è¡Œå®Œè½®å›žåˆ°5 å¦‚æžœæ’å…¥äº†é«˜ä¼˜å…ˆçº§çš„ç«‹å³æ‰§è¡Œ * */"use strict";if (process.env.NODE_ENV !== "production") &#123; (function() &#123; "use strict"; Object.defineProperty(exports, "__esModule", &#123; value: true &#125;); var enableSchedulerDebugging = false; /* eslint-disable no-var */ // TODO: Use symbols? //yideng 2.è®¾ç½®ä»»åŠ¡çš„ä¼˜å…ˆçº§ var ImmediatePriority = 1; var UserBlockingPriority = 2; var NormalPriority = 3; var LowPriority = 4; var IdlePriority = 5; // var ImmediatePriority = 1; //æœ€é«˜ä¼˜å…ˆçº§ // var UserBlockingPriority = 2; //ç”¨æˆ·é˜»å¡žåž‹ä¼˜å…ˆçº§ // var NormalPriority = 3; //æ™®é€šä¼˜å…ˆçº§ // var LowPriority = 4; // ä½Žä¼˜å…ˆçº§ // var IdlePriority = 5; // ç©ºé—²ä¼˜å…ˆçº§ //==========æŽ¥ä¸‹æ¥æ˜¯å¯¹äº”ç§ä¼˜å…ˆçº§åˆ«è®¾ç½®çš„äº”ä¸ªè¿‡æœŸæ—¶é—´============= // Max 31 bit integer. The max integer size in V8 for 32-bit systems. // Math.pow(2, 30) - 1 // 0b111111111111111111111111111111 //3.æ ¹æ®ä¼˜å…ˆçº§åˆ«è®¾ç½®å¯¹åº”çš„è¿‡æœŸæ—¶é—´ //32ä½ç³»ç»ŸV8å¼•æ“Žé‡Œæœ€å¤§çš„æ•´æ•° æ®ç²—ç•¥è®¡ç®—è¿™ä¸ªæ—¶é—´å¤§æ¦‚æ˜¯12.427å¤© //tabé¡µå¼€ç€12å¤©æ‰ä¼šè¿‡æœŸ var maxSigned31BitInt = 1073741823; // ç«‹é©¬è¿‡æœŸ ==&gt; ImmediatePriority // Times out immediately var IMMEDIATE_PRIORITY_TIMEOUT = -1; // Eventually times out // 250msä»¥åŽè¿‡æœŸ var USER_BLOCKING_PRIORITY = 250; var NORMAL_PRIORITY_TIMEOUT = 5000; var LOW_PRIORITY_TIMEOUT = 10000; // Never times out // æ°¸ä¸è¿‡æœŸ - ä¸ºä»€ä¹ˆæ˜¯12å¤©ï¼Œ å› ä¸ºv8æ•´æ•°ä¸Šé™ var IDLE_PRIORITY = maxSigned31BitInt; /*æ¯ä¸ªä»»åŠ¡åœ¨æ·»åŠ åˆ°é“¾è¡¨é‡Œçš„æ—¶å€™ï¼Œéƒ½ä¼šé€šè¿‡ performance.now() + timeout æ¥å¾—å‡ºè¿™ä¸ªä»»åŠ¡çš„è¿‡æœŸæ—¶é—´ï¼Œéšç€æ—¶é—´çš„æŽ¨ç§»ï¼Œå½“å‰æ—¶é—´ä¼šè¶Šæ¥è¶ŠæŽ¥è¿‘è¿™ä¸ªè¿‡æœŸæ—¶é—´ï¼Œ æ‰€ä»¥è¿‡æœŸæ—¶é—´è¶Šå°çš„ä»£è¡¨ä¼˜å…ˆçº§è¶Šé«˜ã€‚å¦‚æžœè¿‡æœŸæ—¶é—´å·²ç»æ¯”å½“å‰æ—¶é—´å°äº†ï¼Œ è¯´æ˜Žè¿™ä¸ªä»»åŠ¡å·²ç»è¿‡æœŸäº†è¿˜æ²¡æ‰§è¡Œï¼Œéœ€è¦ç«‹é©¬åŽ»æ‰§è¡Œ(asap)ã€‚*/ // Callbacks are stored as a circular, doubly linked list. //ç¬¬ä¸€ä¸ªä»»åŠ¡èŠ‚ç‚¹ var firstCallbackNode = null; var currentDidTimeout = false; // Pausing the scheduler is useful for debugging. var isSchedulerPaused = false; var currentPriorityLevel = NormalPriority; var currentEventStartTime = -1; var currentExpirationTime = -1; // This is set when a callback is being executed, to prevent re-entrancy. var isExecutingCallback = false; var isHostCallbackScheduled = false; //yideng 1.èŽ·å–å½“å‰ç³»ç»Ÿçš„å¼€å§‹æ—¶é—´-performance.now var hasNativePerformanceNow = typeof performance === "object" &amp;&amp; typeof performance.now === "function"; function ensureHostCallbackIsScheduled() &#123; if (isExecutingCallback) &#123; // Don't schedule work yet; wait until the next time we yield. return; &#125; // Schedule the host callback using the earliest expiration in the list. var expirationTime = firstCallbackNode.expirationTime; // åŠ é” if (!isHostCallbackScheduled) &#123; isHostCallbackScheduled = true; &#125; else &#123; // Cancel the existing host callback. cancelHostCallback(); &#125; requestHostCallback(flushWork, expirationTime); &#125; function flushFirstCallback() &#123; var flushedNode = firstCallbackNode; // Remove the node from the list before calling the callback. That way the // list is in a consistent state even if the callback throws. var next = firstCallbackNode.next; if (firstCallbackNode === next) &#123; // This is the last callback in the list. firstCallbackNode = null; next = null; &#125; else &#123; var lastCallbackNode = firstCallbackNode.previous; firstCallbackNode = lastCallbackNode.next = next; next.previous = lastCallbackNode; &#125; flushedNode.next = flushedNode.previous = null; // Now it's safe to call the callback. var callback = flushedNode.callback; var expirationTime = flushedNode.expirationTime; var priorityLevel = flushedNode.priorityLevel; var previousPriorityLevel = currentPriorityLevel; var previousExpirationTime = currentExpirationTime; currentPriorityLevel = priorityLevel; currentExpirationTime = expirationTime; var continuationCallback; try &#123; continuationCallback = callback(); &#125; finally &#123; currentPriorityLevel = previousPriorityLevel; currentExpirationTime = previousExpirationTime; &#125; // A callback may return a continuation. The continuation should be scheduled // with the same priority and expiration as the just-finished callback. if (typeof continuationCallback === "function") &#123; var continuationNode = &#123; callback: continuationCallback, priorityLevel: priorityLevel, expirationTime: expirationTime, next: null, previous: null &#125;; // Insert the new callback into the list, sorted by its expiration. This is // almost the same as the code in `scheduleCallback`, except the callback // is inserted into the list *before* callbacks of equal expiration instead // of after. if (firstCallbackNode === null) &#123; // This is the first callback in the list. firstCallbackNode = continuationNode.next = continuationNode.previous = continuationNode; &#125; else &#123; var nextAfterContinuation = null; var node = firstCallbackNode; do &#123; if (node.expirationTime &gt;= expirationTime) &#123; // This callback expires at or after the continuation. We will insert // the continuation *before* this callback. nextAfterContinuation = node; break; &#125; node = node.next; &#125; while (node !== firstCallbackNode); if (nextAfterContinuation === null) &#123; // No equal or lower priority callback was found, which means the new // callback is the lowest priority callback in the list. nextAfterContinuation = firstCallbackNode; &#125; else if (nextAfterContinuation === firstCallbackNode) &#123; // The new callback is the highest priority callback in the list. firstCallbackNode = continuationNode; ensureHostCallbackIsScheduled(); &#125; var previous = nextAfterContinuation.previous; previous.next = nextAfterContinuation.previous = continuationNode; continuationNode.next = nextAfterContinuation; continuationNode.previous = previous; &#125; &#125; &#125; function flushImmediateWork() &#123; if ( // Confirm we've exited the outer most event handler currentEventStartTime === -1 &amp;&amp; firstCallbackNode !== null &amp;&amp; firstCallbackNode.priorityLevel === ImmediatePriority ) &#123; isExecutingCallback = true; try &#123; do &#123; flushFirstCallback(); &#125; while ( // Keep flushing until there are no more immediate callbacks firstCallbackNode !== null &amp;&amp; firstCallbackNode.priorityLevel === ImmediatePriority ); &#125; finally &#123; isExecutingCallback = false; if (firstCallbackNode !== null) &#123; // There's still work remaining. Request another callback. ensureHostCallbackIsScheduled(); &#125; else &#123; isHostCallbackScheduled = false; &#125; &#125; &#125; &#125; function flushWork(didTimeout) &#123; // Exit right away if we're currently paused if (enableSchedulerDebugging &amp;&amp; isSchedulerPaused) &#123; return; &#125; isExecutingCallback = true; var previousDidTimeout = currentDidTimeout; currentDidTimeout = didTimeout; try &#123; //å¦‚æžœæ˜¯ä»»åŠ¡è¿‡æœŸäº† èµ¶ç´§æŽ’é˜ŸæŠŠè¿‡æœŸçš„ä»»åŠ¡ç»™æ‰§è¡Œäº† if (didTimeout) &#123; // Flush all the expired callbacks without yielding. while ( firstCallbackNode !== null &amp;&amp; !(enableSchedulerDebugging &amp;&amp; isSchedulerPaused) ) &#123; // TODO Wrap in feature flag // Read the current time. Flush all the callbacks that expire at or // earlier than that time. Then read the current time again and repeat. // This optimizes for as few performance.now calls as possible. var currentTime = exports.unstable_now(); if (firstCallbackNode.expirationTime &lt;= currentTime) &#123; do &#123; flushFirstCallback(); &#125; while ( firstCallbackNode !== null &amp;&amp; firstCallbackNode.expirationTime &lt;= currentTime &amp;&amp; !(enableSchedulerDebugging &amp;&amp; isSchedulerPaused) ); continue; &#125; break; &#125; &#125; else &#123; //å½“å‰å¸§æœ‰å¯Œä½™æ—¶é—´ï¼Œwhileçš„é€»è¾‘æ˜¯åªè¦æœ‰ä»»åŠ¡ä¸”å½“å‰å¸§æ²¡è¿‡æœŸå°±åŽ»æ‰§è¡Œä»»åŠ¡ã€‚ //æ‰§è¡Œé˜Ÿé¦–ä»»åŠ¡ï¼ŒæŠŠé˜Ÿé¦–ä»»åŠ¡ä»Žé“¾è¡¨ç§»é™¤ï¼Œå¹¶æŠŠç¬¬äºŒä¸ªä»»åŠ¡ç½®ä¸ºé˜Ÿé¦–ä»»åŠ¡ã€‚æ‰§è¡Œä»»åŠ¡å¯èƒ½äº§ç”Ÿæ–°çš„ä»»åŠ¡ï¼Œå†æŠŠæ–°ä»»åŠ¡æ’å…¥åˆ°ä»»åŠ¡é“¾è¡¨ // Keep flushing callbacks until we run out of time in the frame. if (firstCallbackNode !== null) &#123; do &#123; if (enableSchedulerDebugging &amp;&amp; isSchedulerPaused) &#123; break; &#125; flushFirstCallback(); //shouldYieldToHostä»£è¡¨å½“å‰å¸§è¿‡æœŸäº†ï¼Œå–åçš„è¯å°±æ˜¯æ²¡è¿‡æœŸã€‚ &#125; while (firstCallbackNode !== null &amp;&amp; !shouldYieldToHost()); &#125; &#125; &#125; finally &#123; isExecutingCallback = false; currentDidTimeout = previousDidTimeout; //æœ€åŽï¼Œå¦‚æžœè¿˜æœ‰ä»»åŠ¡çš„è¯ï¼Œå†å¯åŠ¨ä¸€è½®æ–°çš„ä»»åŠ¡æ‰§è¡Œè°ƒåº¦ if (firstCallbackNode !== null) &#123; // There's still work remaining. Request another callback. ensureHostCallbackIsScheduled(); &#125; else &#123; isHostCallbackScheduled = false; &#125; // Before exiting, flush all the immediate work that was scheduled. //æœ€æœ€åŽï¼Œå¦‚æžœè¿˜æœ‰ä»»åŠ¡ä¸”æœ‰æœ€é«˜ä¼˜å…ˆçº§çš„ä»»åŠ¡ï¼Œå°±éƒ½æ‰§è¡Œä¸€éã€‚ flushImmediateWork(); &#125; &#125; function unstable_runWithPriority(priorityLevel, eventHandler) &#123; switch (priorityLevel) &#123; case ImmediatePriority: case UserBlockingPriority: case NormalPriority: case LowPriority: case IdlePriority: break; default: priorityLevel = NormalPriority; &#125; var previousPriorityLevel = currentPriorityLevel; var previousEventStartTime = currentEventStartTime; currentPriorityLevel = priorityLevel; currentEventStartTime = exports.unstable_now(); try &#123; return eventHandler(); &#125; finally &#123; currentPriorityLevel = previousPriorityLevel; currentEventStartTime = previousEventStartTime; // Before exiting, flush all the immediate work that was scheduled. flushImmediateWork(); &#125; &#125; function unstable_next(eventHandler) &#123; var priorityLevel = void 0; switch (currentPriorityLevel) &#123; case ImmediatePriority: case UserBlockingPriority: case NormalPriority: // Shift down to normal priority priorityLevel = NormalPriority; break; default: // Anything lower than normal priority should remain at the current level. priorityLevel = currentPriorityLevel; break; &#125; var previousPriorityLevel = currentPriorityLevel; var previousEventStartTime = currentEventStartTime; currentPriorityLevel = priorityLevel; currentEventStartTime = exports.unstable_now(); try &#123; return eventHandler(); &#125; finally &#123; currentPriorityLevel = previousPriorityLevel; currentEventStartTime = previousEventStartTime; // Before exiting, flush all the immediate work that was scheduled. flushImmediateWork(); &#125; &#125; function unstable_wrapCallback(callback) &#123; var parentPriorityLevel = currentPriorityLevel; return function() &#123; // This is a fork of runWithPriority, inlined for performance. var previousPriorityLevel = currentPriorityLevel; var previousEventStartTime = currentEventStartTime; currentPriorityLevel = parentPriorityLevel; currentEventStartTime = exports.unstable_now(); try &#123; return callback.apply(this, arguments); &#125; finally &#123; currentPriorityLevel = previousPriorityLevel; currentEventStartTime = previousEventStartTime; flushImmediateWork(); &#125; &#125;; &#125; //yideng 4.æ ¹æ®è¿‡æœŸæ—¶é—´è¿›è¡ŒåŒå‘é“¾è¡¨çš„æŽ’åº function unstable_scheduleCallback(callback, deprecated_options) &#123; var startTime = currentEventStartTime !== -1 ? currentEventStartTime : exports.unstable_now(); var expirationTime; if ( typeof deprecated_options === "object" &amp;&amp; deprecated_options !== null &amp;&amp; typeof deprecated_options.timeout === "number" ) &#123; // FIXME: Remove this branch once we lift expiration times out of React. //å¦‚æžœæ²¡æœ‰ä¼ é€’è¿‡åŽ»æ—¶é—´çš„è¯ç›´æŽ¥æŒ‰ç…§é»˜è®¤çš„ä¼ é€’ expirationTime = startTime + deprecated_options.timeout; &#125; else &#123; switch (currentPriorityLevel) &#123; case ImmediatePriority: expirationTime = startTime + IMMEDIATE_PRIORITY_TIMEOUT; break; case UserBlockingPriority: expirationTime = startTime + USER_BLOCKING_PRIORITY; break; case IdlePriority: expirationTime = startTime + IDLE_PRIORITY; break; case LowPriority: expirationTime = startTime + LOW_PRIORITY_TIMEOUT; break; case NormalPriority: default: expirationTime = startTime + NORMAL_PRIORITY_TIMEOUT; &#125; &#125; //yideng åŒå‘çš„é“¾è¡¨ var newNode = &#123; callback: callback, //ä»»åŠ¡å…·ä½“çš„å†…å®¹ priorityLevel: currentPriorityLevel, //ä»»åŠ¡ä¼˜å…ˆçº§ expirationTime: expirationTime, //ä»»åŠ¡çš„è¿‡æœŸæ—¶é—´ next: null, //ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ previous: null //ä¸Šä¸€ä¸ªèŠ‚ç‚¹ &#125;; // Insert the new callback into the list, ordered first by expiration, then // by insertion. So the new callback is inserted any other callback with // equal expiration. //yidengä»¿ç…§ä¹‹å‰çš„åŒå‘èŠ‚ç‚¹çš„ä¾‹å­ æ’å…¥æŒ‡å®šèŠ‚ç‚¹ if (firstCallbackNode === null) &#123; // This is the first callback in the list. firstCallbackNode = newNode.next = newNode.previous = newNode; //æŽ’å®Œé¡ºåºä¹‹åŽæŒ‰ç…§æŒ‡å®šçš„è§„åˆ™æ‰§è¡Œä»»åŠ¡ //é‚£ä¹ˆä»€ä¹ˆæ˜¯åˆé€‚çš„æ—¶é—´å‘¢ï¼Ÿä¹Ÿå°±æ˜¯ä¹‹å‰è®¨è®ºè¿‡çš„æ¯ä¸€å¸§ç»˜åˆ¶å®Œæˆä¹‹åŽçš„ç©ºé—²æ—¶é—´ //5.æŽ’å®Œåºäº† ç„¶åŽå¦‚ä½•æ‰§è¡Œå‘¢ï¼Ÿï¼Ÿï¼ŸensureHostCallbackIsScheduled ensureHostCallbackIsScheduled(); &#125; else &#123; // ä¸€ç›´æŸ¥æ‰¾é“¾è¡¨, ç›´è‡³æŸä¸ªèŠ‚ç‚¹çš„next === firtNode var next = null; var node = firstCallbackNode; do &#123; // å¯¹æ¯”è¿‡æœŸæ—¶é—´ if (node.expirationTime &gt; expirationTime) &#123; // å¦‚æžœå½“å‰èŠ‚ç‚¹çš„è¿‡æœŸæ—¶é—´ æ¯” æ–°æ¥çš„callback è¿‡æœŸæ—¶é—´è¦æ™š , åˆ™å°†nextæŒ‡å‘å½“å‰çš„èŠ‚ç‚¹ // The new callback expires before this one. next = node; break; &#125; node = node.next; &#125; while (node !== firstCallbackNode); // next === null å°±è¡¨ç¤ºå§‹ç»ˆæœªæ‰¾åˆ°æŸä¸ªèŠ‚ç‚¹æ¯”æ–°æ¥çš„å›žè°ƒè¿‡æœŸæ—¶é—´è¦æ™š, è¿™å°±è¡¨ç¤ºä»–æ˜¯æœ€æ™šçš„, ä»–æ˜¯é“¾è¡¨çš„æœ«å°¾, æ‰€ä»¥æŠŠä»–çš„nextæŒ‡å‘é¦–èŠ‚ç‚¹ if (next === null) &#123; // No callback with a later expiration was found, which means the new // callback has the latest expiration in the list. next = firstCallbackNode; // next === firstCallbackNode è¡¨ç¤ºæ‰¾åˆ°ç¬¦åˆæ¡ä»¶çš„èŠ‚ç‚¹ï¼Œ ä½†æ˜¯è¯¥èŠ‚ç‚¹æ˜¯é¦–èŠ‚ç‚¹ï¼Œ è¿™å°±è¡¨ç¤º æ–°çš„å›žè°ƒ æ¯” firtCallbackNode çš„ä¼˜å…ˆçº§è¿˜è¦é«˜çš„è¯ï¼Œ å°±å°†ä»–ä½œä¸º &#125; else if (next === firstCallbackNode) &#123; // The new callback has the earliest expiration in the entire list. firstCallbackNode = newNode; ensureHostCallbackIsScheduled(); &#125; var previous = next.previous; previous.next = next.previous = newNode; newNode.next = next; newNode.previous = previous; &#125; return newNode; &#125; function unstable_pauseExecution() &#123; isSchedulerPaused = true; &#125; function unstable_continueExecution() &#123; isSchedulerPaused = false; if (firstCallbackNode !== null) &#123; ensureHostCallbackIsScheduled(); &#125; &#125; function unstable_getFirstCallbackNode() &#123; return firstCallbackNode; &#125; function unstable_cancelCallback(callbackNode) &#123; var next = callbackNode.next; if (next === null) &#123; // Already cancelled. return; &#125; if (next === callbackNode) &#123; // This is the only scheduled callback. Clear the list. firstCallbackNode = null; &#125; else &#123; // Remove the callback from its position in the list. if (callbackNode === firstCallbackNode) &#123; firstCallbackNode = next; &#125; var previous = callbackNode.previous; previous.next = next; next.previous = previous; &#125; callbackNode.next = callbackNode.previous = null; &#125; function unstable_getCurrentPriorityLevel() &#123; return currentPriorityLevel; &#125; function unstable_shouldYield() &#123; return ( !currentDidTimeout &amp;&amp; ((firstCallbackNode !== null &amp;&amp; firstCallbackNode.expirationTime &lt; currentExpirationTime) || shouldYieldToHost()) ); &#125; // The remaining code is essentially a polyfill for requestIdleCallback. It // works by scheduling a requestAnimationFrame, storing the time for the start // of the frame, then scheduling a postMessage which gets scheduled after paint. // Within the postMessage handler do as much work as possible until time + frame // rate. By separating the idle call into a separate event tick we ensure that // layout, paint and other browser work is counted against the available time. // The frame rate is dynamically adjusted. // We capture a local reference to any global, in case it gets polyfilled after // this module is initially evaluated. We want to be using a // consistent implementation. var localDate = Date; // This initialization code may run even on server environments if a component // just imports ReactDOM (e.g. for findDOMNode). Some environments might not // have setTimeout or clearTimeout. However, we always expect them to be defined // on the client. https://github.com/facebook/react/pull/13088 var localSetTimeout = typeof setTimeout === "function" ? setTimeout : undefined; var localClearTimeout = typeof clearTimeout === "function" ? clearTimeout : undefined; // We don't expect either of these to necessarily be defined, but we will error // later if they are missing on the client. var localRequestAnimationFrame = typeof requestAnimationFrame === "function" ? requestAnimationFrame : undefined; var localCancelAnimationFrame = typeof cancelAnimationFrame === "function" ? cancelAnimationFrame : undefined; // requestAnimationFrame does not run when the tab is in the background. If // we're backgrounded we prefer for that work to happen so that the page // continues to load in the background. So we also schedule a 'setTimeout' as // a fallback. // TODO: Need a better heuristic for backgrounded work. // â†‘è¿™å¥è¯è¡¨ç¤ºï¼Œä½¿ç”¨setTimeout ä¹Ÿæ˜¯æ— å¥ˆä¹‹ä¸¾ï¼Œ ä¹‹åŽä¼šæ›´ä¼˜åŒ–ï¼Œ å½“ä¸‹æ˜¯è¿«äºŽæµè§ˆå™¨ä¸æ”¯æŒ var ANIMATION_FRAME_TIMEOUT = 100; var rAFID; var rAFTimeoutID; //yideng å¦‚æžœtabä¸æ¿€æ´»çš„è¯ ä½¿ç”¨SetTimeoutè¿›è¡Œå¤„ç† å¦‚æžœæ­£å¸¸æƒ…å†µç›´æŽ¥å¹²æŽ‰timeout //6.æŒ‰ç…§æ¯ä¸€å¸§ä¹‹åŽçš„ç©ºé—²å¼€å§‹è¿›è¡Œæ›´æ–°requestAnimationFrameWithTimeout // // è¿™é‡Œåˆä½¿ç”¨äº† setTimeout åˆä½¿ç”¨äº†RequestAnimationFrame å¹¶ä¸”è¿˜äº’ç›¸æ¸…é™¤ï¼Œ // æ˜¯å› ä¸º RequestAnimationFrame æœ‰ä¸€ä¸ªè½ç‚¹ï¼Œ å°±æ˜¯å½“æµè§ˆå™¨åˆ‡åˆ°å…¶ä»–tabé¡µçš„æ—¶å€™ä¼šæš‚åœæ‰§è¡Œ var requestAnimationFrameWithTimeout = function(callback) &#123; // schedule rAF and also a setTimeout rAFID = localRequestAnimationFrame(function(timestamp) &#123; //æ¯ä¸€æ¬¡ç³»ç»Ÿæ‰§è¡Œçš„performance.now é»˜è®¤é—´éš”æ˜¯16.7 // cancel the setTimeout localClearTimeout(rAFTimeoutID); callback(timestamp); &#125;); rAFTimeoutID = localSetTimeout(function() &#123; // cancel the requestAnimationFrame localCancelAnimationFrame(rAFID); callback(exports.unstable_now()); &#125;, ANIMATION_FRAME_TIMEOUT); &#125;; if (hasNativePerformanceNow) &#123; var Performance = performance; exports.unstable_now = function() &#123; return Performance.now(); &#125;; &#125; else &#123; exports.unstable_now = function() &#123; return localDate.now(); &#125;; &#125; var requestHostCallback; var cancelHostCallback; var shouldYieldToHost; var globalValue = null; if (typeof window !== "undefined") &#123; globalValue = window; &#125; else if (typeof global !== "undefined") &#123; globalValue = global; &#125; if (globalValue &amp;&amp; globalValue._schedMock) &#123; // Dynamic injection, only for testing purposes. var globalImpl = globalValue._schedMock; requestHostCallback = globalImpl[0]; cancelHostCallback = globalImpl[1]; shouldYieldToHost = globalImpl[2]; exports.unstable_now = globalImpl[3]; &#125; else if ( // If Scheduler runs in a non-DOM environment, it falls back to a naive // implementation using setTimeout. typeof window === "undefined" || // Check if MessageChannel is supported, too. typeof MessageChannel !== "function" ) &#123; // If this accidentally gets imported in a non-browser environment, e.g. JavaScriptCore, // fallback to a naive implementation. var _callback = null; var _flushCallback = function(didTimeout) &#123; if (_callback !== null) &#123; try &#123; _callback(didTimeout); &#125; finally &#123; _callback = null; &#125; &#125; &#125;; requestHostCallback = function(cb, ms) &#123; if (_callback !== null) &#123; // Protect against re-entrancy. setTimeout(requestHostCallback, 0, cb); &#125; else &#123; _callback = cb; setTimeout(_flushCallback, 0, false); &#125; &#125;; cancelHostCallback = function() &#123; _callback = null; &#125;; shouldYieldToHost = function() &#123; return false; &#125;; &#125; else &#123; if (typeof console !== "undefined") &#123; // TODO: Remove fb.me link if (typeof localRequestAnimationFrame !== "function") &#123; console.error( "This browser doesn't support requestAnimationFrame. " + "Make sure that you load a " + "polyfill in older browsers. https://fb.me/react-polyfills" ); &#125; if (typeof localCancelAnimationFrame !== "function") &#123; console.error( "This browser doesn't support cancelAnimationFrame. " + "Make sure that you load a " + "polyfill in older browsers. https://fb.me/react-polyfills" ); &#125; &#125; var scheduledHostCallback = null; //ä»£è¡¨ä»»åŠ¡é“¾è¡¨çš„æ‰§è¡Œå™¨ var isMessageEventScheduled = false; var timeoutTime = -1; //ä»£è¡¨æœ€é«˜ä¼˜å…ˆçº§ä»»åŠ¡firstCallbackNodeçš„è¿‡æœŸæ—¶é—´ var isAnimationFrameScheduled = false; var isFlushingHostCallback = false; var frameDeadline = 0; //ä»£è¡¨ä¸€å¸§çš„è¿‡æœŸæ—¶é—´ï¼Œé€šè¿‡rAFå›žè°ƒå…¥å‚tåŠ ä¸ŠactiveFrameTimeæ¥è®¡ç®— // We start out assuming that we run at 30fps but then the heuristic tracking // will adjust this value to a faster fps if we get more frequent animation // frames. var previousFrameTime = 33; // ä¸€å¸§çš„æ¸²æŸ“æ—¶é—´33msï¼Œè¿™é‡Œå‡è®¾ 1s 30å¸§ var activeFrameTime = 33; shouldYieldToHost = function() &#123; return frameDeadline &lt;= exports.unstable_now(); &#125;; // We use the postMessage trick to defer idle work until after the repaint. //å¦‚ä¸‹æ˜¯æ•´ä¸ªçš„æ‰§è¡Œæµç¨‹ï¼Œ //8.é…åˆMessageChannelè¿›è¡Œå…·ä½“çš„è°ƒåº¦ä»»åŠ¡ //8-1.åœ¨æ¯ä¸€å¸§å¼€å§‹çš„rAFçš„å›žè°ƒé‡Œè®°å½•æ¯ä¸€å¸§çš„å¼€å§‹æ—¶é—´ï¼Œå¹¶è®¡ç®—æ¯ä¸€å¸§çš„è¿‡æœŸæ—¶é—´ï¼Œ //8-2.é€šè¿‡messageChannelå‘é€æ¶ˆæ¯ã€‚åœ¨å¸§æœ«messageChannelçš„å›žè°ƒé‡ŒæŽ¥æ”¶æ¶ˆæ¯ï¼Œ //8-3.æ ¹æ®å½“å‰å¸§çš„è¿‡æœŸæ—¶é—´å’Œå½“å‰æ—¶é—´è¿›è¡Œæ¯”å¯¹æ¥å†³å®šå½“å‰å¸§èƒ½å¦æ‰§è¡Œä»»åŠ¡ï¼Œ //8-4.å¦‚æžœèƒ½çš„è¯ä¼šä¾æ¬¡ä»Žä»»åŠ¡é“¾è¡¨é‡Œæ‹¿å‡ºé˜Ÿé¦–ä»»åŠ¡æ¥æ‰§è¡Œ //8-5.æ‰§è¡Œå°½å¯èƒ½å¤šçš„ä»»åŠ¡åŽå¦‚æžœè¿˜æœ‰ä»»åŠ¡ï¼Œä¸‹ä¸€å¸§å†é‡æ–°è°ƒåº¦ã€‚ var channel = new MessageChannel(); var port = channel.port2; //ä¸‹é¢çš„ä»£ç é€»è¾‘å†³å®šå½“å‰å¸§è¦ä¸è¦æ‰§è¡Œä»»åŠ¡ // 1ã€å¦‚æžœå½“å‰å¸§æ²¡è¿‡æœŸï¼Œè¯´æ˜Žå½“å‰å¸§æœ‰å¯Œä½™æ—¶é—´ï¼Œå¯ä»¥æ‰§è¡Œä»»åŠ¡ // 2ã€å¦‚æžœå½“å‰å¸§è¿‡æœŸäº†ï¼Œè¯´æ˜Žå½“å‰å¸§æ²¡æœ‰æ—¶é—´äº†ï¼Œè¿™é‡Œå†çœ‹ä¸€ä¸‹å½“å‰ä»»åŠ¡firstCallbackNode //æ˜¯å¦è¿‡æœŸï¼Œå¦‚æžœè¿‡æœŸäº†ä¹Ÿè¦æ‰§è¡Œä»»åŠ¡ï¼›å¦‚æžœå½“å‰ä»»åŠ¡æ²¡è¿‡æœŸï¼Œè¯´æ˜Žä¸ç€æ€¥ï¼Œé‚£å°±å…ˆä¸æ‰§è¡ŒåŽ» channel.port1.onmessage = function(event) &#123; isMessageEventScheduled = false; var prevScheduledCallback = scheduledHostCallback; var prevTimeoutTime = timeoutTime; scheduledHostCallback = null; timeoutTime = -1; var currentTime = exports.unstable_now(); var didTimeout = false; if (frameDeadline - currentTime &lt;= 0) &#123; // There's no time left in this idle period. Check if the callback has // a timeout and whether it's been exceeded. if (prevTimeoutTime !== -1 &amp;&amp; prevTimeoutTime &lt;= currentTime) &#123; // Exceeded the timeout. Invoke the callback even though there's no // time left. //ä»»åŠ¡è¿‡æœŸ didTimeout = true; &#125; else &#123; // No timeout. //å½“å‰å¸§ç”±äºŽæµè§ˆå™¨æ¸²æŸ“ç­‰åŽŸå› è¿‡æœŸäº†ï¼Œé‚£å°±åŽ»ä¸‹ä¸€å¸§å†å¤„ç† if (!isAnimationFrameScheduled) &#123; // Schedule another animation callback so we retry later. isAnimationFrameScheduled = true; requestAnimationFrameWithTimeout(animationTick); &#125; // Exit without invoking the callback. scheduledHostCallback = prevScheduledCallback; timeoutTime = prevTimeoutTime; return; &#125; &#125; if (prevScheduledCallback !== null) &#123; isFlushingHostCallback = true; try &#123; prevScheduledCallback(didTimeout); &#125; finally &#123; isFlushingHostCallback = false; &#125; &#125; &#125;; //7.animationTickæ˜¯çº¿ç´¢ è®¡ç®—å¸§è¿‡æœŸæ—¶é—´å¹¶åŽ‹ç¼©å¸§ var animationTick = function(rafTime) &#123; if (scheduledHostCallback !== null) &#123; //æœ‰ä»»åŠ¡å†è¿›è¡Œé€’å½’ï¼Œæ²¡ä»»åŠ¡çš„è¯ä¸éœ€è¦å·¥ä½œ // Eagerly schedule the next animation callback at the beginning of the // frame. If the scheduler queue is not empty at the end of the frame, it // will continue flushing inside that callback. If the queue *is* empty, // then it will exit immediately. Posting the callback at the start of the // frame ensures it's fired within the earliest possible frame. If we // waited until the end of the frame to post the callback, we risk the // browser skipping a frame and not firing the callback until the frame // after that. requestAnimationFrameWithTimeout(animationTick); &#125; else &#123; // No pending work. Exit. isAnimationFrameScheduled = false; return; &#125; // rafTime å°±æ˜¯ requestAnimationFrame å›žè°ƒæŽ¥æ”¶çš„æ—¶é—´ var nextFrameTime = rafTime - frameDeadline + activeFrameTime; //ç”¨è¿žç»­çš„ä¸¤æ¬¡æ—¶é—´ è¢«ä¸æ–­çš„åŽ‹ç¼©activeFrameTime if ( nextFrameTime &lt; activeFrameTime &amp;&amp; previousFrameTime &lt; activeFrameTime ) &#123; if (nextFrameTime &lt; 8) &#123; // Defensive coding. We don't support higher frame rates than 120hz. // If the calculated frame time gets lower than 8, it is probably a bug. nextFrameTime = 8; &#125; // If one frame goes long, then the next one can be short to catch up. // If two frames are short in a row, then that's an indication that we // actually have a higher frame rate than what we're currently optimizing. // We adjust our heuristic dynamically accordingly. For example, if we're // running on 120hz display or 90hz VR display. // Take the max of the two in case one of them was an anomaly due to // missed frame deadlines. activeFrameTime = nextFrameTime &lt; previousFrameTime ? previousFrameTime : nextFrameTime; &#125; else &#123; previousFrameTime = nextFrameTime; &#125; //è®¡ç®—å½“å‰å¸§çš„æˆªæ­¢æ—¶é—´ï¼Œç”¨å¼€å§‹æ—¶é—´åŠ ä¸Šæ¯ä¸€å¸§çš„æ¸²æŸ“æ—¶é—´ frameDeadline = rafTime + activeFrameTime; if (!isMessageEventScheduled) &#123; isMessageEventScheduled = true; //port2 è´Ÿè´£å‘é€æ•°æ® //port2ç›‘å¬æ¶ˆæ¯çš„å›žè°ƒæ¥åšä»»åŠ¡è°ƒåº¦çš„å…·ä½“å·¥ä½œ port.postMessage(undefined); &#125; &#125;; // æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ flushwork å’Œ è¿‡æœŸæ—¶é—´ requestHostCallback = function(callback, absoluteTimeout) &#123; scheduledHostCallback = callback; // è¿‡æœŸæ—¶é—´ timeoutTime = absoluteTimeout; if (isFlushingHostCallback || absoluteTimeout &lt; 0) &#123; // Don't wait for the next frame. Continue working ASAP, in a new event. port.postMessage(undefined); &#125; else if (!isAnimationFrameScheduled) &#123; // If rAF didn't already schedule one, we need to schedule a frame. // TODO: If this rAF doesn't materialize because the browser throttles, we // might want to still have setTimeout trigger rIC as a backup to ensure // that we keep performing work. isAnimationFrameScheduled = true; requestAnimationFrameWithTimeout(animationTick); &#125; &#125;; cancelHostCallback = function() &#123; scheduledHostCallback = null; isMessageEventScheduled = false; timeoutTime = -1; &#125;; &#125; exports.unstable_ImmediatePriority = ImmediatePriority; exports.unstable_UserBlockingPriority = UserBlockingPriority; exports.unstable_NormalPriority = NormalPriority; exports.unstable_IdlePriority = IdlePriority; exports.unstable_LowPriority = LowPriority; exports.unstable_runWithPriority = unstable_runWithPriority; exports.unstable_next = unstable_next; exports.unstable_scheduleCallback = unstable_scheduleCallback; exports.unstable_cancelCallback = unstable_cancelCallback; exports.unstable_wrapCallback = unstable_wrapCallback; exports.unstable_getCurrentPriorityLevel = unstable_getCurrentPriorityLevel; exports.unstable_shouldYield = unstable_shouldYield; exports.unstable_continueExecution = unstable_continueExecution; exports.unstable_pauseExecution = unstable_pauseExecution; exports.unstable_getFirstCallbackNode = unstable_getFirstCallbackNode; &#125;)();&#125; åŒå‘é“¾è¡¨å®žçŽ°1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768// 1.åŒå‘é“¾è¡¨æ˜¯æŒ‡æ¯ä¸ªèŠ‚ç‚¹æœ‰previouså’Œnextä¸¤ä¸ªå±žæ€§æ¥åˆ†åˆ«æŒ‡å‘å‰åŽä¸¤ä¸ªèŠ‚ç‚¹ã€‚// 2.å¾ªçŽ¯çš„æ„æ€æ˜¯ï¼Œæœ€åŽä¸€ä¸ªèŠ‚ç‚¹çš„nextæŒ‡å‘ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œ// ä¸‹é¢å‡è®¾æœ‰ä¸€ç¾¤äººéœ€è¦æŒ‰ç…§å¹´é¾„è¿›è¡ŒæŽ’é˜Ÿï¼Œå°å­©ç«™å‰è¾¹ï¼Œå¤§äººç«™åŽè¾¹ã€‚// åœ¨ä¸€ä¸ªè¿‡ç¨‹å†…ä¼šä¸æ–­æœ‰äººè¿‡æ¥ï¼Œæˆ‘ä»¬éœ€è¦æŠŠä»–æ’åˆ°æ­£ç¡®çš„ä½ç½®ã€‚åˆ é™¤çš„è¯åªè€ƒè™‘æ¯æ¬¡æŠŠæŽ’å¤´çš„äººç»™åŽ»æŽ‰ã€‚//personçš„ç±»åž‹å®šä¹‰interface Person &#123; name: string; //å§“å age: number; //å¹´é¾„ï¼Œä¾èµ–è¿™ä¸ªå±žæ€§æŽ’åº next: Person; //ç´§è·Ÿåœ¨åŽé¢çš„äºº,é»˜è®¤æ˜¯null previous: Person; //å‰é¢ç›¸é‚»çš„é‚£ä¸ªäºº,é»˜è®¤æ˜¯null&#125;var firstNode = null; //ä¸€å¼€å§‹é“¾è¡¨é‡Œæ²¡æœ‰èŠ‚ç‚¹//æ’å…¥çš„é€»è¾‘function insertByAge(newPerson: Person) &#123; if ((firstNode = null)) &#123; //å¦‚æžœ firstNodeä¸ºç©ºï¼Œè¯´æ˜ŽnewPersonæ˜¯ç¬¬ä¸€ä¸ªäººï¼Œ //æŠŠå®ƒèµ‹å€¼ç»™firstNodeï¼Œå¹¶æŠŠnextå’Œpreviouså±žæ€§æŒ‡å‘è‡ªèº«ï¼Œè‡ªæˆä¸€ä¸ªçŽ¯ã€‚ firstNode = newPerson.next = newPerson.previous = newPerson; &#125; else &#123; //é˜Ÿä¼é‡Œæœ‰äººäº†ï¼Œæ–°æ¥çš„äººè¦æ‰¾å‡†è‡ªå·±çš„ä½ç½® var next = null; //è®°å½•newPersonæ’å…¥åˆ°å“ªä¸ªäººå‰è¾¹ var person = firstNode; // person åœ¨ä¸‹è¾¹çš„å¾ªçŽ¯ä¸­ä¼šä»Žç¬¬ä¸€ä¸ªäººå¼€å§‹å¾€åŽæ‰¾ do &#123; if (person.age &gt; newPerson.age) &#123; //å¦‚æžœpersonçš„å¹´é¾„æ¯”æ–°æ¥çš„äººå¤§ï¼Œè¯´æ˜Žæ–°æ¥çš„äººæ‰¾åˆ°ä½ç½®äº†ï¼Œä»–æ°å¥½è¦æŽ’åœ¨personçš„å‰è¾¹ï¼Œç»“æŸ next = person; break; &#125; //ç»§ç»­æ‰¾åŽé¢çš„äºº node = node.next; &#125; while (node !== firstNode); //è¿™é‡Œçš„whileæ˜¯ä¸ºäº†é˜²æ­¢æ— é™å¾ªçŽ¯ï¼Œæ¯•ç«Ÿæ˜¯çŽ¯å½¢çš„ç»“æž„ if (next === null) &#123; //æ‰¾äº†ä¸€åœˆå‘çŽ° æ²¡æœ‰personçš„ageæ¯”newPersonå¤§ï¼Œè¯´æ˜ŽnewPersonåº”è¯¥æ”¾åˆ°é˜Ÿä¼çš„æœ€åŽ,ä¹Ÿå°±æ˜¯è¯´newPersonçš„åŽé¢åº”è¯¥æ˜¯firstNodeã€‚ next = firstNode; &#125; else if (next === firstNode) &#123; //æ‰¾ç¬¬ä¸€ä¸ªçš„æ—¶å€™å°±æ‰¾åˆ°nextäº†ï¼Œè¯´æ˜ŽnewPersonè¦æ”¾åˆ°firstNodeå‰é¢ï¼Œè¿™æ—¶å€™firstNodeå°±è¦æ›´æ–°ä¸ºnewPerson firstNode = newPerson; &#125; //ä¸‹é¢æ˜¯newPersonçš„æ’å…¥æ“ä½œï¼Œç»™nextåŠpreviousä¸¤ä¸ªäººçš„å‰åŽé“¾æŽ¥éƒ½å…³è”åˆ°newPerson var previous = next.previous; previous.next = next.previous = newPerson; newPerson.next = next; newPerson.previous = previous; &#125; //æ’å…¥æˆåŠŸ&#125;//åˆ é™¤ç¬¬ä¸€ä¸ªèŠ‚ç‚¹function deleteFirstPerson() &#123; if (firstNode === null) return; //é˜Ÿä¼é‡Œæ²¡æœ‰äººï¼Œè¿”å›ž var next = firstNode.next; //ç¬¬äºŒä¸ªäºº if (firstNode === next) &#123; //è¿™æ—¶å€™åªæœ‰ä¸€ä¸ªäºº firstNode = null; next = null; &#125; else &#123; var lastPerson = firstNode.previous; //æ‰¾åˆ°æœ€åŽä¸€ä¸ªäºº firstNode = lastPerson.next = next; //æ›´æ–°æ–°çš„ç¬¬ä¸€äºº next.previout = lastPerson; //å¹¶åœ¨æ–°çš„ç¬¬ä¸€äººå’Œæœ€åŽä¸€äººä¹‹é—´å»ºç«‹è¿žæŽ¥ &#125;&#125;]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>Fiber</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®—æ³•ã€‘ç†è§£Dom-diff]]></title>
    <url>%2F2019%2F06%2F23%2F%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E7%90%86%E8%A7%A3Dom-diff%2F</url>
    <content type="text"><![CDATA[ç®—æ³•å¤æ‚åº¦æ¯”è¾ƒä¸¤æ£µDOMæ ‘çš„å·®å¼‚æ˜¯ Virtual Dom ç®—æ³•æœ€æ ¸å¿ƒçš„éƒ¨åˆ†ï¼Œ è¿™ä¹Ÿæ˜¯æ‰€è°“çš„Virtual Domçš„ diffç®—æ³•ã€‚ ä¸¤ä¸ªæ ‘çš„å®Œå…¨çš„diffç®—æ³•æ˜¯ä¸€ä¸ªæ—¶é—´å¤æ‚åº¦ä¸º Oï¼ˆn^3ï¼‰ çš„é—®é¢˜ã€‚ ä½†æ˜¯åœ¨å‰ç«¯å½“ä¸­ï¼Œ ä½ å¾ˆå°‘ä¼šè·¨è¶Šå±‚çº§åœ°ç§»åŠ¨Domå…ƒç´ ã€‚ æ‰€ä»¥ Virtual Domåªä¼šå¯¹åŒä¸€ä¸ªå±‚çº§çš„å…ƒç´ è¿›è¡Œå¯¹æ¯”ã€‚ ä¸‹é¢çš„divæŒ‡æŒ¥å’ŒåŒä¸€å±‚çº§çš„divå¯¹æ¯”ï¼Œ ç¬¬äºŒå±‚çº§çš„æ™ºæ…§è·Ÿç¬¬äºŒå±‚çº§å¯¹æ¯”ã€‚ è¿™æ ·ç®—æ³•å¤æ‚åº¦å°±å¯ä»¥è¾¾åˆ°O(n)ã€‚ å¯¹æ¯”æ–¹å¼å®žé™…çš„ä»£ç ä¸­ï¼Œ ä¼šå¯¹æ–°æ—§ä¸¤æ£µæ ‘è¿›è¡Œä¸€ä¸ªæ·±åº¦ä¼˜å…ˆçš„éåŽ†ï¼Œè¿™æ ·æ¯ä¸ªèŠ‚ç‚¹éƒ½ä¼šæœ‰ä¸€ä¸ªå”¯ä¸€çš„æ ‡è®°ï¼Œ åœ¨æ·±åº¦ä¼˜å…ˆéåŽ†çš„æ—¶å€™ï¼Œ æ¯éåŽ†åˆ°ä¸€ä¸ªèŠ‚ç‚¹å°±æŠŠè¯¥èŠ‚ç‚¹å’Œæ–°çš„æ ‘è¿›è¡Œå¯¹æ¯”ã€‚ å¦‚æžœæœ‰å·®å¼‚çš„è¯å°±è®°å½•åˆ°ä¸€ä¸ªå¯¹è±¡é‡Œé¢ã€‚ å®žè·µä¸€ä¸‹æ‰€è°“çš„dom-diff æŠ›åŽ»å…·ä½“çš„domå¤„ç†é€»è¾‘ï¼Œ å…¶æ ¸å¿ƒæ€æƒ³è¿˜æ˜¯æ¯”è¾ƒç®€å•çš„ï¼Œ å…¶å®žå°±æ˜¯ä¸€ä¸ªæ·±åº¦ä¼˜å…ˆéåŽ†ã€‚ æˆ‘ä»¬å°±æ¥å°è¯•å®žçŽ°ä¸€ä¸‹ä¸€ä¸ªç®€å•çš„dom-diff é¦–å…ˆ æ¨¡æ‹Ÿdomç»“æž„ä»¥é¢å‘å¯¹è±¡çš„ç¼–ç¨‹æ–¹å¼ï¼Œ æž„å»ºå‡ºä¸€ä¸ªdomèŠ‚ç‚¹æ‰€å¿…è¦çš„å±žæ€§ 1234567class Element &#123; constructor(type, props, children) &#123; this.type = type this.props = props this.children = children &#125;&#125; ç„¶åŽæˆ‘ä»¬å†å®žçŽ°ä¸€ä¸ªåˆ›å»ºè™šæ‹ŸdomèŠ‚ç‚¹çš„å¿«æ·æ–¹å¼ 123function createElement (type, props, children) &#123; return new Element(type, props, children)&#125; æ—¢ç„¶æœ‰äº†åˆ›å»ºæ–¹æ³•ï¼Œ é‚£çŽ°åœ¨å°±å¯ä»¥è¯•ç€åˆ›å»ºå‡ ä¸ªdomäº†ï¼Œ123456789101112131415let virtualDom1 = createElement("ul", &#123; class: "list"&#125;, [ createElement("li", &#123; class: "item"&#125;, ["1"]), createElement("li", &#123; class: "item"&#125;, ["2"]), createElement("li", &#123; class: "item"&#125;, ["3"])])let virtualDom2 = createElement("ul", &#123; class: "list-new"&#125;, [ createElement("li", &#123; class: "item"&#125;, ["a"]), createElement("li", &#123; class: "item"&#125;, ["444"]), createElement("li", &#123; class: "item"&#125;, ["c"])]) è¿™æ˜¯ä¸¤ä¸²æ¨¡æ‹Ÿul &gt; liçš„ä»£ç ï¼Œ ç›¸ä¿¡èªæ˜Žçš„ä½ å¯ä»¥çœ‹çš„å‡ºæ¥ å¯¹æ¯”å·®å¼‚æ—¢ç„¶æž„å»ºå¥½äº†ç®€å•çš„è™šæ‹Ÿdomï¼Œ æŽ¥ä¸‹æ¥è¦åšçš„æ— éžå°±æ˜¯æ¯”å¯¹äº† åœ¨å¯¹æ¯”å·®å¼‚çš„è¿‡ç¨‹ä¸­ï¼Œ æˆ‘ä»¬è¿˜è¦è®°å½•æœ€ç»ˆçš„å·®å¼‚ç»“æžœï¼Œ æŠŠå½“å‰ä¿®å¤æ‰¹æ¬¡è®°å½•ä¸‹æ¥ï¼Œ ç”¨äºŽä¹‹åŽåŒä¸€å¤„ç† å¼€å§‹æ¯”å¯¹ä¹‹å‰ï¼Œ æˆ‘ä»¬è¦å…ˆæžæ¸…æ¥šæ•´ä½“çš„é€»è¾‘ï¼Œ æˆ‘ä»¬åº”è¯¥æ¯”å¯¹å“ªäº›å·®å¼‚ï¼Ÿ æ ‡ç­¾ç±»åž‹çš„å·®å¼‚ï¼Œ æœ‰å¯èƒ½æ˜¯pï¼Œ æœ‰å¯èƒ½æ˜¯divï¼Œ è¿˜æœ‰å¯èƒ½æ˜¯çº¯æ–‡æœ¬ domçš„å±žæ€§æ”¹å˜äº† ï¼Œ æœ‰å¯èƒ½æ˜¯classå˜äº†ï¼Œ æœ‰å¯èƒ½æ˜¯è‡ªå®šä¹‰å±žæ€§å˜äº† domçš„å†…å®¹æ”¹å˜äº†ï¼Œ è¿™å°±æ˜¯æœ€åŸºæœ¬çš„å˜åŒ–äº†ï¼Œ domçš„å†…å®¹å‘ç”Ÿäº†æ”¹å˜ 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960import _ from './util.js'// ç”Ÿæˆçš„è¡¥ä¸åŒ…let patchs = &#123;&#125;// è®°å½•let globalIndex = 0// dom-diffçš„ä¸»è¦å…¥å£å‡½æ•°function diff(oldTree, newTree) &#123; dfswalk(oldTree, newTree, globalIndex) return patchs&#125;// æ·±åº¦ä¼˜å…ˆéåŽ† -- é€’å½’function dfswalk(oldTree, newTree, globalIndex)&#123; // è®°å½•å½“å‰æ‰¹æ¬¡çš„ä¿®æ”¹é˜Ÿåˆ— let currentPatchs = [] // å¦‚æžœæ—§èŠ‚ç‚¹æ˜¯æ–‡æœ¬ if( _.isString(oldTree) ) &#123; // å¦‚æžœæ–°æ ‘ä¹Ÿæ˜¯å­—ç¬¦ä¸² å¹¶ä¸” ä½†æ˜¯ä¸å’Œæ–°æ ‘ç›¸åŒ if(_.isString(newTree) &amp;&amp; oldTree !== newTree) &#123; // å°†å½“å‰çš„æ›´æ”¹è¿½åŠ å…¥å½“å‰éœ€è¦ä¿®æ”¹çš„é˜Ÿåˆ—ä¸­ currentPatchs.push(&#123; type: "TEXT", text: newTree &#125;) &#125; // å¦‚æžœç±»åž‹ç›¸åŒçš„ &#125; else if( oldTree.type === newTree.type ) &#123; // è°ƒç”¨å¯¹æ¯”å±žæ€§çš„å‡½æ•° diffProps(oldTree.props, newTree.props) // æ¯”èŠ‚ç‚¹ =&gt; å°¾è°ƒç”¨ä¼˜åŒ– diffChildren(oldTree.children, newTree.children) &#125; // å¦‚æžœæœ¬æ¬¡æ£€æµ‹åˆ°äº†ä¿®æ”¹ æŠŠæ¯ä¸€æ¬¡diffçš„ç»“æžœæ”¾åˆ°patchs if(currentPatchs.length &gt; 0) &#123; // è®°å½•åˆ°å¯¹åº”çš„èŠ‚ç‚¹ä¸Šsdcxz patchs[globalIndex] = currentPatchs &#125;&#125;// å¯¹æ¯”ä¸¤ä¸ªdomçš„ å±žæ€§function diffProps() &#123; // å¯¹æ¯”props&#125;// è´Ÿè´£å¾ªçŽ¯æ–°æ—§domdeçš„å­èŠ‚ç‚¹ï¼Œ ä»¥æ—§èŠ‚ç‚¹çš„ç´¢å¼•åŽ»åŒ¹é…åŽ»åŒ¹é…ç›¸åº”ä½ç½®çš„æ–°èŠ‚ç‚¹function diffChildren(oldChildrens, newChildrens) &#123; // éåŽ†æ—§dom ,å¯¹æ¯”ç›¸åŒç´¢å¼•çš„æ–°dom oldChildrens.forEach((child, index) =&gt; &#123; // è¢«å¾ªçŽ¯åŽåˆåŽ»è°ƒç”¨æ–°æ—§domçš„æ¯”å¯¹ dfswalk(child, newChildrens[index], ++globalIndex) &#125;)&#125;export &#123; diff&#125; Vue å¯¹dom-diffçš„ä¼˜åŒ–vue åœ¨å¯¹æ¯” oldTree å’Œ newTree æ—¶ä¼šåˆ†åˆ«ç»™æ–°æ—§æ ‘çš„å¯¹æ¯”ä¸­ä¼šåˆ†é…ä¸¤ä¸ªæŒ‡é’ˆï¼Œåˆ†åˆ«æ˜¯oldStartã€oldEnd ã€ newStartã€newEnd ï¼Œ ç„¶åŽ start æŒ‡é’ˆå’Œ end æŒ‡é’ˆéƒ½ä¼šåœ¨æ¯æ¬¡å¯¹æ¯”åŽç›¸äº’é è¿‘ï¼Œ ç›´è‡³ç›¸é‡ï¼Œ å…·ä½“å¯¹æ¯”è§„åˆ™å¦‚ä¸‹ å…ˆå¯¹æ¯”å¤´å¤´ã€ å°¾å°¾æ˜¯å¦ä¸€è‡´ å¯¹æ¯”å¤´å°¾ã€ å°¾å¤´ï¼Œ å¦‚æžœç›¸åŒï¼Œåˆ™å¤´å°¾å…ˆäº’ç›¸æ‹·è´æ’å…¥ï¼Œ ç„¶åŽåˆ é™¤æ—§çš„ å¦‚æžœ newStart å’Œ oldStart ç›¸å¯¹æ¯”ï¼Œ newStartæœ‰ä½†oldStartæ²¡æœ‰æ­¤èŠ‚ç‚¹ï¼Œ åˆ™å°† newStart å¯¹åº”çš„èŠ‚ç‚¹æ’å…¥è‡³ oldStartèŠ‚ç‚¹çš„å‰é¢ï¼Œ å¹¶ä¸”å°† newStartæŒ‡é’ˆå‰è¿›ä¸€æ ¼ï¼Œ è€ŒoldStartæŒ‡é’ˆä¸åŠ¨ï¼Œ ç›´è‡³æ‰¾åˆ°åŒ¹é… å¦‚æžœoldEnd å’Œ newEnd ä¸åŒæ—¶ï¼Œ åˆ™å°†oldEnd çš„å…ƒç´ å…ˆæ‰“ä¸Šåˆ é™¤æ ‡è®°ï¼Œ ç„¶åŽå‰è¿›ä¸€æ ¼ï¼Œ newEnd å…ƒç´ åˆ™åœç•™åœ¨åŽŸå¤„ï¼Œç›´è‡³æ‰¾åˆ°åŒ¹é… å¯¹æ¯”é˜¶æ®µï¼Œ å¯¹æ¯”ç±»åž‹ï¼Œ å¦‚æžœç±»åž‹ä¸åŒå°±ç›´æŽ¥æ”¾å¼ƒæ²¡å¿…è¦ç»§ç»­å¯¹æ¯”äº† æœ€ç»ˆstart ä¸Ž end äº¤æ±‡åŽï¼Œ éåŽ†ä¸€é oldTree ,å°†æ ‡è®°ä¸ºåˆ é™¤çš„èŠ‚ç‚¹åˆ é™¤æŽ‰ Vue ä¸ºä»€ä¹ˆéœ€è¦keyé¦–å…ˆï¼Œ å¦‚æžœä¸ä½¿ç”¨keyï¼ŒVueä¼šä½¿ç”¨ä¸€ç§æœ€å¤§é™åº¦å‡å°‘åŠ¨æ€å…ƒç´ å¹¶ä¸”å°½å¯èƒ½çš„å°è¯•ä¿®å¤/å†åˆ©ç”¨ç›¸åŒç±»åž‹å…ƒç´ çš„ç®—æ³•ã€‚ä½¿ç”¨keyï¼Œå®ƒä¼šåŸºäºŽkeyçš„å˜åŒ–é‡æ–°æŽ’åˆ—å…ƒç´ é¡ºåºï¼Œå¹¶ä¸”ä¼šç§»é™¤keyä¸å­˜åœ¨çš„å…ƒç´ ã€‚ å¹¶ä¸”ï¼Œ diffç®—æ³•å°±å¯ä»¥å¿«é€Ÿåˆ‡æ­£ç¡®çš„æ‰¾åˆ°æ­¤èŠ‚ç‚¹ï¼Œ æ‰¾åˆ°æ­£ç¡®çš„ä½ç½®æ’å…¥æ–°çš„èŠ‚ç‚¹ï¼Œ é™ä½ŽèŠ‚ç‚¹æŸ¥æ‰¾æ—¶é—´ï¼Œ å½“æœ‰æ’å…¥èŠ‚ç‚¹éœ€è¦æ—¶ï¼Œ æœ‰Key çš„è¯å°±å¯ä»¥ ç±»ä¼¼äºŽç´¢å¼•è®¿é—®çš„å½¢å¼ç›´è¾¾ç›®æ ‡èŠ‚ç‚¹ï¼Œ è€Œä¸æ˜¯éåŽ†ä¸€éæ‰€æœ‰èŠ‚ç‚¹æ¥æŸ¥æ‰¾ç›®æ ‡èŠ‚ç‚¹ åˆ©ç”¨keyçš„å°æŠ€å·§å®ƒä¹Ÿå¯ä»¥ç”¨äºŽå¼ºåˆ¶æ›¿æ¢å…ƒç´ /ç»„ä»¶è€Œä¸æ˜¯é‡å¤ä½¿ç”¨å®ƒã€‚å½“ä½ é‡åˆ°å¦‚ä¸‹åœºæ™¯æ—¶å®ƒå¯èƒ½ä¼šå¾ˆæœ‰ç”¨: å®Œæ•´åœ°è§¦å‘ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸé’©å­è§¦å‘è¿‡æ¸¡ 123&lt;transition&gt; &lt;span :key=&quot;text&quot;&gt;&#123;&#123; text &#125;&#125;&lt;/span&gt;&lt;/transition&gt; æ€»ç»“ keyæ˜¯ä¸ºäº†é™ä½Ždiffæ—¶çš„èŠ‚ç‚¹æŸ¥æ‰¾å¤æ‚åº¦ï¼Œ å¹¶ä¸”å¦‚æžœèŠ‚ç‚¹çš„keyéƒ½ä¸ç›¸åŒæˆ–è€…æ˜¯è¯´keyéƒ½å˜äº†ï¼Œé‚£å°±ç›´æŽ¥åˆ¤å®šä¸ºdomå‘ç”Ÿå˜åŒ–ï¼Œ æ¸²æŸ“æ–°çš„]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>DomDiff</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è‹±è¯­å­¦ä¹ ã€‘åŸºç¡€è¯­æ³•]]></title>
    <url>%2F2019%2F06%2F22%2F%E3%80%90%E8%8B%B1%E8%AF%AD%E5%AD%A6%E4%B9%A0%E3%80%91%E5%9F%BA%E7%A1%80%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[è‹±è¯­è¯­æ³•åˆ†ä¸ºï¼š å¥æ³•éƒ¨åˆ† è¯­æ³•éƒ¨åˆ† å¥æ³•éƒ¨åˆ†åå¤§è¯ç±»ã€ ä¸¤å¤§å¥åž‹ã€å…«å¤§å¥å­æˆåˆ†ã€ä¸»ä»Žå¥å•å¤è¯ è¯ç±» åè¯ã€ åŠ¨è¯ã€å½¢å®¹è¯ã€å‰¯è¯ã€æ•°è¯ã€ä»£è¯ã€è¯­æ°”è¯ã€æ„Ÿå¹è¯ã€ ä»‹è¯ã€ è¿žè¯ åè¯ äº‹ç‰©çš„åç§°å«åè¯ ä¸‡äº‹ä¸‡ç‰©â€“å®žä½“ï¼Œ éžå®žä½“éƒ½æœ‰å…¶å åŠ¨è¯ åŠ¨ä½œçš„åç§°å°±å«åŠ¨è¯ è¡¨ç¤ºäº‹ç‰©ä¹‹é—´çš„å˜åŒ–æˆ–è‡ªèº«å†…åœ¨çš„å˜åŒ–çš„è¯å°±æ˜¯åŠ¨è¯ã€‚ å½¢å®¹è¯ å½¢å®¹åè¯çš„è¯ï¼Œ å«å½¢å®¹è¯ åè¯å¤ªå•è°ƒäº†ï¼Œ éœ€è¦å½¢å®¹è¯å›´ç»•åè¯è¿›è¡Œå„ç§ä¿®é¥°ï¼Œ å¦‚å½¢çŠ¶ã€è‰²å½©ã€å¤§å°ã€ç¾Žä¸‘ç­‰ã€‚ å‰¯è¯ å½¢å®¹åŠ¨è¯çš„è¯ï¼Œ å°±å«å‰¯è¯ åŠ¨è¯å¤ªå•è°ƒäº†ï¼Œ éœ€è¦å‰¯è¯å›´ç»•åŠ¨è¯è¿›è¡Œå„ç§ä¿®é¥°ï¼Œ å¦‚æç»˜åŠ¨ä½œçš„ç¨‹åº¦ã€ é¢‘çŽ‡ã€ æ–¹å¼ã€ æ—¶é—´ç­‰ æ•°æ¬¡ ç»™åè¯è®¡æ•°çš„è¯ï¼Œ å°±å«æ•°è¯ åˆ†ä¸ºåŸºæ•°è¯ï¼Œ 1ã€2ã€3ã€4ã€5 ç¬¬1ã€ç¬¬2ã€ç¬¬3ã€ç¬¬4ã€ç¬¬5ç­‰ ä»£è¯ ä»£æ›¿åè¯çš„è¯å°±å«ä»£è¯ å¦‚ï¼š ä½ ã€æˆ‘ã€å¥¹ã€å®ƒã€ä½ ä»¬çš„ã€ æˆ‘ä»¬çš„ã€ä»–ä»¬çš„ç­‰ç­‰ ä»‹è¯ è¡¨ç¤ºä¸¤ä¸ªåè¯ä¹‹é—´æ—¶ç©ºå…³ç³»çš„è¯ï¼Œ å°±å«ä»‹è¯ å¦‚ â€œé¸¡è›‹åœ¨(in)ç¯®å­é‡Œâ€ â€œé¸¡è›‹åœ¨(on)æ¡Œå­ä¸Šâ€ â€œé¸¡è›‹åœ¨(under)æ¡Œå­ä¸‹â€ å† è¯ ç‰¹æŒ‡æˆ–æ³›æŒ‡æŸä¸€åè¯äº‹ç‰©çš„å°±å«å† è¯ å¦‚ï¼š a/anä¸å®šå† è¯ï¼Œ the å®šå† è¯ è¿žè¯ è¿žæŽ¥ä¸¤ä¸ªæ€§è´¨ç›¸åŒçš„è¯ã€ çŸ­å¥ã€ å¥å­çš„è¯å«è¿žè¯ å¹è¯è¯­æ°”åŠ©è¯å«å¹è¯ è¿™åå¤§è¯ç±»åˆå¯ä»¥åˆ†ä¸º åè¯ç±»ï¼Œ å³ä»¥åè¯ä¸ºæ ¸å¿ƒçš„è¯ç±»ã€‚ å¦‚ï¼š åè¯ã€ ä»£è¯ã€ å½¢å®¹è¯ã€ æ•°è¯ã€ å† è¯ã€ä»‹è¯ å’ŒåŠ¨è¯ç±»: å¦‚: åŠ¨è¯ã€ å‰¯è¯ åŠ¨è¯åŽŸå½¢ åŠ¨è¯åŽŸå½¢æ˜¯ä¸å«æœ‰æ—¶é—´ä¿¡æ¯ä¹Ÿä¸å«æœ‰çŠ¶æ€ä¿¡æ¯çš„åŠ¨è¯çš„æœ¬æºï¼Œ æ˜¯è„±ç¦»äº†æ—¶ç©ºæ¦‚å¿µçš„åŠ¨ä½œæœ¬èº«ã€‚ ä¸‹å›¾ä¸­ï¼Œ ä¸­é—´è¿™ä¸ªeat å°±æ˜¯åŠ¨è¯åŽŸå½¢ è¿™å°±åƒä¸€ç²’ç§å­å¯ä»¥å˜æ¢ä¸º4ç§çŠ¶æ€ éžè°“è¯­åŠ¨è¯æœ‰çŠ¶æ€ä½†æ˜¯æ²¡æœ‰æ—¶é—´ è°“è¯­åŠ¨è¯æœ‰æ—¶é—´æœ‰çŠ¶æ€ ä¸€å¥è¯è§£é‡Š: å¦‚æžœä»¥äººä½œä¸ºæ¯”å–»ï¼Œ é‚£ä¹ˆåŠ¨è¯åŽŸå½¢æ˜¯å—ç²¾åµï¼Œ éžè°“è¯­åŠ¨è¯æ˜¯èƒŽå„¿ åŠ¨è¯åŽŸå½¢åªæ˜¯ä¸ªæ¦‚å¿µï¼Œ å®ƒä¸èƒ½å‡ºçŽ°äºŽä»»ä½•å¥å­ï¼Œ ä»»ä½•çŸ­è¯­ä¹‹ä¸­ï¼Œ åŠ¨è¯åŽŸå½¢åªèƒ½ä½œä¸ºè¯å…¸æ¡ç›® åŠ¨è¯æœ‰ä»€ä¹ˆâ€œæ€â€ åŠ¨è¯çš„â€œæ€â€å°±æ˜¯åŠ¨ä½œå‘å±•çš„â€œé˜¶æ®µâ€ åŠ¨è¯åŽŸå½¢ç©¿ä¸Šâ€œæ€â€è¿™ä»¶è¡£æœå°±æˆäº†éžè°“è¯­åŠ¨è¯ ç»™éžè°“è¯­åŠ¨è¯ç©¿ä¸Šæ—¶æ€è¿™ä»¶è¡£æœ è°“è¯­åŠ¨è¯è‹±è¯­çš„è°“è¯­åŠ¨è¯ï¼Œ ç¬¬ä¸€ä¸ªè¯ä¸€å®šè¡¨è¾¾æ—¶é—´ï¼Œ æœ€åŽä¸€ä¸ªè¯ä¸€å®šè¡¨è¾¾çŠ¶æ€ï¼Œ å¦‚:is eatingï¼Œ iså°±æ˜¯æ—¶é—´ï¼Œ eating å°±æ˜¯çŠ¶æ€ è¯­æ³•éƒ¨åˆ†è°“è¯­åŠ¨è¯çš„å˜åŒ–ã€ éžè°“è¯­åŠ¨è¯çš„å˜åŒ– æ—¶æ€è‹±è¯­åˆ°åº•æœ‰å¤šå°‘ç§æ—¶æ€]]></content>
      <categories>
        <category>è‹±è¯­</category>
      </categories>
      <tags>
        <tag>è‹±è¯­è¯­æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Nodeã€‘äº†è§£koaæºç ]]></title>
    <url>%2F2019%2F06%2F16%2F%E3%80%90Node%E3%80%91%E4%BA%86%E8%A7%A3koa%E6%BA%90%E7%A0%81%2F</url>
    <content type="text"><![CDATA[æƒ³è¦æŸ¥çœ‹æºç ï¼Œ é¦–å…ˆæˆ‘ä»¬1npm i Koa -S æ‰“å¼€node_modulesï¼Œ æ‰¾åˆ°koaç›®å½•ä¸‹çš„application æ–‡ä»¶ï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å¹³æ—¶ä½¿ç”¨çš„ app åŠå…¶ç›¸å…³æ–¹æ³•å°±åœ¨è¿™é‡Œ, åˆ é™¤äº†ä¸å¿…è¦çš„ä»£ç åŽï¼Œ æˆ‘ä»¬çœ‹çœ‹ç®€æ˜“ç‰ˆ 1234567891011121314151617181920212223242526272829303132333435363738394041424344454647484950515253545556575859606162636465666768697071727374757677787980818283848586878889909192939495969798module.exports = class Application extends Emitter &#123; constructor() &#123; super(); this.proxy = false; this.middleware = []; this.subdomainOffset = 2; this.env = process.env.NODE_ENV || 'development'; this.context = Object.create(context); this.request = Object.create(request); this.response = Object.create(response); if (util.inspect.custom) &#123; this[util.inspect.custom] = this.inspect; &#125; &#125; listen(...args) &#123; debug('listen'); const server = http.createServer(this.callback()); return server.listen(...args); &#125; toJSON() &#123; return only(this, [ 'subdomainOffset', 'proxy', 'env' ]); &#125; inspect() &#123; return this.toJSON(); &#125; use(fn) &#123; this.middleware.push(fn); return this; &#125; callback() &#123; const fn = compose(this.middleware); const handleRequest = (req, res) =&gt; &#123; const ctx = this.createContext(req, res); return this.handleRequest(ctx, fn); &#125;; return handleRequest; &#125; handleRequest(ctx, fnMiddleware) &#123; const res = ctx.res; res.statusCode = 404; const onerror = err =&gt; ctx.onerror(err); const handleResponse = () =&gt; respond(ctx); onFinished(res, onerror); return fnMiddleware(ctx).then(handleResponse).catch(onerror); &#125; createContext(req, res) &#123; const context = Object.create(this.context); const request = context.request = Object.create(this.request); const response = context.response = Object.create(this.response); context.app = request.app = response.app = this; context.req = request.req = response.req = req; context.res = request.res = response.res = res; request.ctx = response.ctx = context; request.response = response; response.request = request; context.originalUrl = request.originalUrl = req.url; context.state = &#123;&#125;; return context; &#125; /** * Default error handler. * * @param &#123;Error&#125; err * @api private */ onerror(err) &#123; const msg = err.stack || err.toString(); console.error(msg.replace(/^/gm, ' ')); &#125;&#125;;function respond(ctx) &#123; const res = ctx.res; let body = ctx.body; const code = ctx.status; // body: json body = JSON.stringify(body); res.end(body);&#125; çµé­‚éƒ¨åˆ†12345678910111213141516171819202122232425262728293031function compose (middleware) &#123; if (!Array.isArray(middleware)) throw new TypeError('Middleware stack must be an array!') // æ£€æµ‹ä¸­é—´ä»¶ç±»åž‹ for (const fn of middleware) &#123; if (typeof fn !== 'function') throw new TypeError('Middleware must be composed of functions!') &#125; return function (context, next) &#123; // last called middleware # let index = -1 return dispatch(0) // æ‰§è¡Œæ•´è¿™ä¸ªå‡½æ•° function dispatch (i) &#123; index = i // å–å‡ºå½“å‰ä¸­é—´ä»¶ let fn = middleware[i] // å¦‚æžœç´¢å¼•è·Ÿä¸­é—´ä»¶é•¿åº¦ä¸€æ ·äº†,å®žé™…ä¸Šå°±ç­‰äºŽè®¿é—®å®Œäº†, fnæ˜¯ç©º, next ä¹Ÿæ˜¯ç©º, è¿™é‡Œåº”è¯¥æ˜¯ä¿è¯ä¸€ä¸‹next ç¡®å®žä¸å­˜åœ¨ if (i === middleware.length) fn = next // æœ€åŽä¸€ä¸ªä¸­é—´ä»¶æ²¡æœ‰ next å°±ç†„ç«äº† if (!fn) return Promise.resolve() try &#123; // fn å°±æ˜¯ä¸­é—´ä»¶, ä¸­é—´ä»¶æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°, context å’Œ Next return Promise.resolve(fn(context, dispatch.bind(null, i + 1))); &#125; catch (err) &#123; // å‡ºé”™ return Promise.reject(err) &#125; &#125; &#125;&#125; å¾—å‡ºçš„ä¸€ä¸ªæ•´ä½“ç»“æž„å°±æ˜¯1234567console.log(1) console.log(1) console.log(1) Promise.resolve() // ä¸­é—´ä»¶å…¨éƒ¨æ‰§è¡Œå®Œæ¯• console.log(1) console.log(1)console.log(1)]]></content>
      <categories>
        <category>NodeJs</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
        <tag>Koa</tag>
        <tag>æºç </tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘é€’å½’ã€å°¾é€’å½’ä¸Žå°¾è°ƒç”¨]]></title>
    <url>%2F2019%2F06%2F16%2F%E3%80%90JS%E3%80%91%E9%80%92%E5%BD%92%E3%80%81%E5%B0%BE%E9%80%92%E5%BD%92%E4%B8%8E%E5%B0%BE%E8%B0%83%E7%94%A8%2F</url>
    <content type="text"><![CDATA[å°¾è°ƒç”¨æ‰€è°“çš„å°¾è°ƒç”¨ï¼Œ å°¾è°ƒç”¨æ˜¯æˆ‘ä»¬å¹³æ—¶å®žçŽ°é€’å½’æ“ä½œçš„ä¸€ç§æ–¹å¼, é€šè¿‡åœ¨å‡½æ•°æœ«å°¾è°ƒç”¨å¦ä¸€ä¸ªå‡½æ•°ï¼Œ æ¥æŠ¹é™¤ä¸Šä¸€ä¸ªå‡½æ•°çš„å †æ ˆè®°å½•ï¼Œ å¯ä»¥ç†è§£ä¸ºæ˜¯ä¸€ç§ä»»åŠ¡æ‰¿æŽ¥çš„æ–¹å¼ demo:12345678910function f(index, total) &#123; if(index-- === 1) &#123; return total &#125; g(index, total + index)&#125;function g( index, total ) &#123; f( index, total )&#125; å°¾é€’å½’å°¾é€’å½’å’Œæ™®é€šé€’å½’çš„åŒºåˆ«å°±æ˜¯ï¼Œ å°¾é€’å½’çš„é€’å½’æ–¹å¼æ˜¯åœ¨å‡½æ•°æœ€åŽä¸€æ­¥æ“ä½œè°ƒç”¨è‡ªèº«ï¼Œ å¹¶å°†æœ¬è½®è®¡ç®—ç»“æžœä»¥å‚æ•°å½¢å¼ä¼ å…¥ demo:12345678function loop(index, total) &#123; if(index-- === 1) &#123; return total &#125; return loop(index, total + index)&#125;loop(100, 0) å°¾è°ƒç”¨ä¼˜åŒ–åœ¨ES6ä¸­ï¼Œ æˆ‘ä»¬å°†è¿Žæ¥å°¾é€’å½’ä¼˜åŒ–ï¼Œ é€šè¿‡å°¾é€’å½’ä¼˜åŒ–ï¼Œ javascriptä»£ç åœ¨è§£é‡Šæˆæœºå™¨ç çš„æ—¶å€™ï¼Œ å°†ä¼šå‘whileçœ‹é½ï¼Œ ä¹Ÿå°±æ˜¯è¯´ï¼Œ åŒæ—¶æ‹¥æœ‰æ•°å­¦è¡¨è¾¾èƒ½åŠ›å’Œwhileçš„æ•ˆèƒ½ã€‚ ES6çš„â€œå°¾è°ƒç”¨ä¼˜åŒ–â€çš„åŽŸç†å°±æ˜¯è¦†ç›–æŽ‰è‡ªèº«çš„å‡½æ•°æ‰§è¡Œè®°å½•ï¼Œ ä¹Ÿå°±æ˜¯å°†é€’å½’å˜ä¸ºå¾ªçŽ¯ï¼Œ åªä¿å­˜ä¸€ä¸ªè°ƒç”¨è®°å½•ï¼Œè¿™æ ·å°±ä¸ä¼šå‘ç”Ÿçˆ†æ ˆçš„æƒ…å†µäº† æµè§ˆå™¨çš„å®žçŽ°æƒ…å†µè™½ç„¶æ˜¯ES6çš„è§„èŒƒï¼Œ æµè§ˆå™¨ä¹Ÿå®žçŽ°äº†ï¼Œ ä½†å®žé™…ä¸Šå¹³æ—¶ä½¿ç”¨æ—¶â€œå°¾è°ƒç”¨ä¼˜åŒ–â€æ˜¯é»˜è®¤å…³é—­çš„ã€‚ ä¸ºä»€ä¹ˆï¼å› ä¸ºæµè§ˆå™¨ä¸æ•¢å¼€å“¦ã€‚ å› ä¸ºä¸€æ—¦å¼€äº†å°¾è°ƒç”¨ä¼˜åŒ–ï¼Œ å°±ç­‰äºŽæ”¾å¼ƒäº†å­˜ç•™å‡½æ•°çš„å †æ ˆä¿¡æ¯ï¼Œ å½“å¼€å‘è€…è°ƒé”™æ—¶ä¼šååˆ†å›°éš¾ï¼Œ æ‰¾ä¸åˆ°æ­£ç¡®çš„å †æ ˆä¿¡æ¯ï¼Œ å½“ç„¶å¯ä»¥åˆ©ç”¨jsçš„å…ƒç¼–ç¨‹å¼ºè¡Œå¼€å¯ å…¶ä»–é¿å…çˆ†æ ˆæ‰‹æ®µ ä½¿ç”¨è¹¦åºŠå‡½æ•°ï¼Œ å°†é€’å½’æ‹‰å¹³ ç›´æŽ¥å°†é€’å½’æ”¹å†™æˆå¾ªçŽ¯ ä½¿ç”¨å…ƒç¼–ç¨‹å¼ºè¡Œå¼€å¯æµè§ˆå™¨çš„â€œå°¾é€’å½’ä¼˜åŒ–â€]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>å°¾é€’å½’</tag>
        <tag>å°¾è°ƒç”¨</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘ä»€ä¹ˆæ˜¯AO-VO]]></title>
    <url>%2F2019%2F06%2F10%2F%E3%80%90JS%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AFAO-VO-GO%2F</url>
    <content type="text"><![CDATA[GO glbal Context å…¨å±€æ‰§è¡Œä¸Šä¸‹æ–‡ é¦–å…ˆåœ¨jsæ‰§è¡Œçš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ªGOï¼Œ è¢«åŽ‹å…¥ ESC Stack æ ˆåº• EC execution æ‰§è¡Œä¸Šä¸‹æ–‡ åœ¨æ¯ä¸ªå‡½æ•°æ‰§è¡Œçš„æ—¶å€™ä¼šåˆ›å»ºä¸€ä¸ªECï¼ˆæ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ åœ¨å‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ä¸­ï¼Œ è¿˜ä¼šæœ‰ä¸¤ä¸ªä¸œè¥¿è¢«åˆ›å»ºå‡ºæ¥ï¼š AOã€VO AO Activation Object æ´»åŠ¨å¯¹è±¡ AOæ˜¯åœ¨å‡½æ•°æ‰§è¡Œçš„é˜¶æ®µ argumentsçš„callee length å†…éƒ¨å®šä¹‰çš„å‡½æ•° ç»‘å®šå¯¹åº”çŽ¯å¢ƒå˜é‡ å†…éƒ¨å®šä¹‰çš„å˜é‡ AOçš„é˜¶æ®µåˆå¯ä»¥ç»†åˆ†ä¸º: å®šä¹‰é˜¶æ®µ æ‰§è¡Œé˜¶æ®µ æµè§ˆå™¨è§£æžé˜¶æ®µè¿™å°±æ˜¯æµè§ˆå™¨è§£æžjsçš„æ—¶å€™ï¼Œ å½“v8æ‹¿åˆ°å‡½æ•°çš„æ—¶å€™ï¼Œ éƒ½ç»™ä½ å…ˆç¼–è¯‘æˆæ¯”è¾ƒæ…¢çš„å­—èŠ‚ç ï¼Œ ç„¶åŽå¯¹å­—èŠ‚ç è¿›è¡Œä¼˜åŒ–ï¼Œ æŽ¥ç€ç»è¿‡é™æ€åˆ†æžè¿›è¡Œæœ¬åœ°æ›¿æ¢é‚£äº›é¢‘ç¹ä½¿ç”¨åˆ°çš„å­—èŠ‚ç æ®µï¼Œ æ›¿æ¢æˆä¼˜åŒ–åŽçš„å­—èŠ‚ç ï¼Œä¸ºä»€ä¹ˆä¸éƒ½è¿›è¡Œä¼˜åŒ–ï¼Œ å› ä¸ºä¼˜åŒ–åŽçš„å­—èŠ‚ç ä½“ç§¯ä¼šæ¯”è¾ƒå¤§ã€‚ åˆå§‹åŒ–é˜¶æ®µåˆ›å»ºä½œç”¨åŸŸé“¾ï¼ˆScope Chainï¼‰åˆ›å»ºå˜é‡ï¼Œå‡½æ•°å’Œå‚æ•°ã€‚å®šä¹‰thisä½†ä¸ç¡®è®¤ è®©æˆ‘ä»¬é€šè¿‡è¿™æ®µä»£ç çœ‹ä¸€ä¸‹AOçš„å…·ä½“æƒ…å†µ:12345678function test(a, b) &#123; var c = 10 function d() &#123;&#125; var e = function _e()&#123;&#125;; (function x() &#123;&#125;)&#125;test(10) é‚£æ­¤æ—¶è¿™ä¸ª test å‡½æ•°çš„AOæƒ…å†µå¦‚ä¸‹ 1234567891011121314EC(test) = &#123; // è‡ªå·±ç»´æŠ¤çš„scopeChain ä½œç”¨åŸŸé“¾ scopeChain: &#123; Scope &#125;, // æŒ‡å‘ä¸‹é¢çš„Scope // é¢„è§£æžçš„åŽŸç† AO(test): &#123; a: 10, b: undefind, c: undefind, e: undefind &#125;, this: 'å…ˆå®šä¹‰ä½†ä¸ç¡®è®¤', Scope: [AO, glbalContext.vo]&#125; æ‰§è¡Œé˜¶æ®µ123456789101112131415161718EC(test) = &#123; scopeChain: &#123; Scope &#125;, // é¢„è§£æžçš„åŽŸç† AO(test): &#123; arguments: &#123; 0: 11, 1: 22, length: 3 &#125;, a: 10, b: undefind, c: undefind, e: undefind &#125;, this: 'thisæŒ‡å‘å‡½æ•°æ‰§è¡Œæ ˆæ ˆé¡¶', Scope: [AO, glbalContext.vo]&#125; VO Variable object å˜é‡å¯¹è±¡ æ¯ä¸ªå‡½æ•°éƒ½æœ‰è‡ªå·±çš„VOå¯¹è±¡ï¼Œ å­˜å‚¨ç€è¿™äº› å‡½æ•°å£°æ˜Žï¼ˆä¸åŒ…å«å‡½æ•°è¡¨è¾¾å¼ï¼‰ å‡½æ•°çš„å½¢å‚ å˜é‡çš„å£°æ˜Ž æ€»çš„æ¥è¯´ç¯‡ï¼Œ VOè¦æ¯”AOçš„èŒƒå›´å¤§å¾—å¤šï¼Œ VOæ˜¯è´Ÿè´£æŠŠå„ä¸ªè°ƒç”¨çš„å‡½æ•°ä¸²è”èµ·æ¥çš„ã€‚ ä»–æ˜¯å¤–éƒ¨çš„ï¼Œ è€ŒAOæ˜¯å‡½æ•°è‡ªèº«å†…éƒ¨çš„ è·ç¦»ï¼Œ å½“æ‰§è¡Œ fun1:1VO(fun1) = AO // æ‰§è¡Œåˆ°fun1 æ—¶å¯ä»¥åœ¨VOä¸­çš„fun1å°±æ˜¯æ­¤æ—¶çš„AO åˆæˆ–è€…å†ä¸¾ä¸ªä¾‹å­ï¼Œæœ‰è¿™æ ·ä¸€æ®µä»£ç è¦æ‰§è¡Œ123456var a = 10function test(x) &#123; var b = 20 &#125;test(30) æ­¤æ—¶æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹VOçš„çŠ¶æ€ 123456789101112// VOä¸­çš„ GO VO(globalContext) = &#123; a: 1, test: '&lt;reference to function&gt;'&#125;;// VO ä¸­çš„ testå‡½æ•°VO(test) = &#123; x: 30, // ä¼ å…¥çš„å‚æ•° b: 20&#125; ä¸Šé¢çš„è¿™äº›ä¹Ÿå°±æž„æˆäº† ECS Stack å‡½æ•°æ‰§è¡Œæ ˆ ESC Stack executions statck æ‰§è¡Œä¸Šä¸‹æ–‡æ ˆ å¾ˆå¤šä¸ªå‡½æ•°å­˜åœ¨ä¸€èµ·çš„æ—¶å€™ä¼šå­˜åœ¨ä¸€ä¸ªESC Stack æ‰€è°“çš„ stack å®ƒå°±æ˜¯ä¸€ä¸ªæ ˆï¼Œ å…ˆè¿›å…¥ å½“jså¼€å§‹è¿è¡Œæ—¶å°±åˆ›å»ºä¸€ä¸ª globalContext åŽ‹å…¥æ ˆåº•ï¼Œ ä¹Ÿå°±æ˜¯å•ä½“å†…ç½®å¯¹è±¡Global, åœ¨æµè§ˆå™¨ä¸­é€šå¸¸æ˜¯ window è¢«åŽ‹å…¥æ ˆçš„æƒ…å†µå¤§è‡´å¦‚ä¸‹123ECStatck = [ globalContext] å½“ä¸€æ®µä»£ç æ‰§è¡Œäº†å¥½å¤šå‡½æ•°æ—¶ï¼Œ æ¯”å¦‚è¿™æ ·ä¸€æ®µä»£ç :12345678910function fun3() &#123;&#125;function fun2() &#123; fun3()&#125;function fun1() &#123; fun2()&#125;fun1() å®žé™…å…¥æ ˆè¿‡ç¨‹æ˜¯è¿™æ ·çš„:123456ECStatck = [ fun3, fun2, fun1, globalContext] å½“ä¸€ä¸ªå‡½æ•°å…¥æ ˆï¼Œ å®ƒæ‰€å±žçš„å˜é‡ä¹Ÿéšä¹‹å…¥æ ˆï¼Œ å½“å‡½æ•°å‡ºæ ˆï¼Œ å˜é‡ä¹Ÿå°±è·Ÿç€å‡ºæ ˆäº†ï¼Œ æ¯ä¸ªå‡½æ•°éƒ½ä¼šæ‹¥æœ‰å„è‡ªçš„ ECï¼ˆå‡½æ•°æ‰§è¡Œä¸Šä¸‹æ–‡ï¼‰ï¼Œ ä¹Ÿå°±æœ‰å„è‡ªçš„ AOã€VO, ä½ è‚¯å®šä¼šç–‘æƒ‘é—­åŒ…å‘¢ï¼Œ å‡½æ•°å‡ºæ ˆäº†ï¼Œ é‚£é—­åŒ…åŽ»å“ªäº†å…¶å®žï¼Œjsçš„é—­åŒ…æ˜¯å­˜åœ¨å †é‡Œçš„ï¼Œ è·Ÿæ™®é€šå‡½æ•°ä¸ä¸€æ ·ï¼Œ æ‰€ä»¥ä¸ä¼šè·Ÿç€å‡ºæ ˆå‡½æ•°ä¸€èµ·è¢«å›žæ”¶]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>jsæ‰§è¡Œæœºåˆ¶</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®—æ³•ã€‘é€’å½’ç®—æ³•]]></title>
    <url>%2F2019%2F06%2F08%2F%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[æ ¸å¿ƒæ€æƒ³ï¼šé€šè¿‡é‡å¤å°†é—®é¢˜åˆ†è§£ä¸ºåŒç±»çš„å­é—®é¢˜è€Œè§£å†³é—®é¢˜çš„æ–¹æ³•ã€‚ ç‰¹ç‚¹ï¼š å‡½æ•°å¯ä»¥é€šè¿‡è°ƒç”¨è‡ªèº«æ¥è¿›è¡Œé€’å½’ é€’å½’å¯ä»¥å®Œå…¨å–ä»£å¾ªçŽ¯ é€’å½’ç”±ä¸‹é¢ä¸¤éƒ¨åˆ†ç»„æˆï¼š ï¼ˆ1ï¼‰é€’å½’ä¸»ä½“ï¼Œå°±æ˜¯è¦å¾ªçŽ¯è§£å†³é—®é¢˜çš„ä»£ç  ï¼ˆ2ï¼‰é€’å½’çš„è·³å‡ºæ¡ä»¶ï¼Œé€’å½’ä¸èƒ½ä¸€ç›´é€’å½’ä¸‹åŽ»ï¼Œéœ€è¦å®Œæˆä¸€å®šæ¡ä»¶åŽè·³å‡º]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®—æ³•ã€‘æžšä¸¾ç®—æ³•åŸºæœ¬æ¦‚å¿µ]]></title>
    <url>%2F2019%2F06%2F08%2F%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E6%9E%9A%E4%B8%BE%E7%AE%97%E6%B3%95%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5%2F</url>
    <content type="text"><![CDATA[æ ¸å¿ƒæ€æƒ³ï¼šæžšä¸¾æ‰€æœ‰çš„å¯èƒ½ã€‚ æœ¬è´¨ï¼šå°±æ˜¯ä»Žæ‰€æœ‰å€™é€‰ç­”æ¡ˆä¸­åŽ»æœç´¢æ­£ç¡®çš„è§£,ä½¿ç”¨è¯¥ç®—æ³•éœ€è¦æ»¡è¶³ä¸¤ä¸ªæ¡ä»¶ (1)å¯é¢„å…ˆç¡®å®šå€™é€‰ç­”æ¡ˆçš„æ•°é‡ï¼› (2)å€™é€‰ç­”æ¡ˆçš„èŒƒå›´åœ¨æ±‚è§£ä¹‹å‰å¿…é¡»æœ‰ä¸€ä¸ªç¡®å®šçš„é›†åˆã€‚ ç‰¹ç‚¹ï¼š æžšä¸¾ç®—æ³•ç®€å•ç²—æš´ï¼Œæš´åŠ›çš„æžšä¸¾æ‰€æœ‰å¯èƒ½ï¼Œå°½å¯èƒ½åœ°å°è¯•æ‰€æœ‰çš„æ–¹æ³•ã€‚ é€Ÿåº¦å¯èƒ½å¾ˆæ…¢ï¼Œå´æ˜¯æˆ‘ä»¬æœ€åº”è¯¥ä¼˜å…ˆè€ƒè™‘çš„ã€‚ å®žçŽ°æœ€ç®€å•ï¼Œå¹¶ä¸”å¾—åˆ°çš„ç»“æžœæ€»æ˜¯æ­£ç¡®çš„ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®—æ³•ã€‘ä»€ä¹ˆæ˜¯ç®—æ³•]]></title>
    <url>%2F2019%2F06%2F08%2F%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E7%AE%97%E6%B3%95%2F</url>
    <content type="text"><![CDATA[ç®—æ³•æ˜¯å®ŒæˆæŸä¸ªç‰¹å®šä»»åŠ¡çš„è¿‡ç¨‹ã€‚ é€šå¸¸æ•°æ®ç»“æž„ä½œä¸ºå·¥å…·æ¥è¾…åŠ©è¿›è¡Œç®—æ³•ï¼Œ æ‰€ä»¥æœ‰äº†ä¸€ä¸ªæµä¼ ç”šå¹¿çš„å…¬å¼ï¼š ç¨‹åº = æ•°æ®ç»“æž„ + ç®—æ³• ç®—æ³•ä¸æ˜¯æ•°å­¦ï¼Œ ä½†æ˜¯å¯ä»¥ç”¨æ•°å­¦æ¥æè¿° æˆ‘ä»¬è¦åšä¸€ä»¶äº‹æƒ…ï¼Œ æ•´ä¸ªè¿‡ç¨‹æœ¬èº«å°±æ˜¯ç®—æ³• æˆ‘ä»¬æœ€å¸¸ç”¨çš„å¢žåˆ æ”¹æŸ¥æ˜¯ç®—æ³•çš„ä¸€éƒ¨åˆ† ç®—æ³•å¯ä»¥ç”¨è‡ªç„¶è¯­è¨€ã€ æµç¨‹å›¾ã€ ä¼ªä»£ç å’Œè®¡ç®—æœºè¯­è¨€ç­‰æ‰‹æ®µæ¥è¡¨ç¤º åœ¨é¢å‘å¯¹è±¡è¯­è¨€ä¸­ï¼Œ ç®—æ³•é€šå¸¸é€šè¿‡ç±»çš„æ–¹æ³•å®žçŽ° ç®—æ³•çš„ç‰¹å¾ç®—æ³•çš„äº”å¤§ç‰¹å¾ï¼š æœ‰ç©·æ€§ï¼š ç®—æ³•å¿…é¡»èƒ½åœ¨æ‰§è¡Œæœ‰é™ä¸ªæ­¥éª¤åŽç»ˆæ­¢ ç¡®åˆ‡æ€§ï¼š æ¯ä¸€æ­¥éª¤å¿…é¡»ç”±ç¡®åˆ‡çš„å®šä¹‰ è¾“å…¥é¡¹ï¼š æœ‰0ä¸ªæˆ–å¤šä¸ªè¾“å…¥ï¼Œ ç”¨æ¥è§„å®šåˆå§‹æƒ…å†µï¼Œ æ‰€è°“0 ä¸ªè¾“å…¥æ˜¯æŒ‡ç®—æ³•æœ¬èº«å®šå‡ºäº†åˆå§‹æ¡ä»¶ è¾“å‡ºé¡¹ï¼š æœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¾“å‡ºï¼Œ æ˜¯å¯¹è¾“å…¥æ•°æ®å¤„ç†åŽçš„ç»“æžœã€‚ æ²¡æœ‰è¾“å‡ºçš„ç®—æ³•æ¯«æ— æ„ä¹‰ å¯è¡Œæ€§ï¼š ç®—æ³•æ‰§è¡Œçš„ä»»ä½•è®¡ç®—æ­¥éª¤éƒ½æ˜¯å¯ä»¥è¢«åˆ†è§£ä¸ºåŸºæœ¬çš„å¯æ‰§è¡Œçš„æ“ä½œæ­¥éª¤ï¼Œæ¯ä¸ªè®¡ç®—æ­¥éª¤éƒ½å¯ä»¥åœ¨æœ‰é™æ—¶é—´å†…å®Œæˆï¼ˆä¹Ÿç§°ä¹‹ä¸ºæœ‰æ•ˆæ€§ã€‚ï¼‰ å¦‚ä½•è¡¡é‡ç®—æ³•çš„å¥½å ç®—æ³•çš„å¥½åä¸»è¦é€šè¿‡ç®—æ³•å¤æ‚åº¦æ¥è¡¡é‡ æ—¶é—´å¤æ‚åº¦ ç©ºé—´å¤æ‚åº¦ æ­£ç¡®æ€§ å¯è¯»æ€§ å¥å£®æ€§ å¸¸è§çš„å¤æ‚åº¦ å¸¸æ•°é˜¶ O(1) å¯¹æ•°é˜¶ O(logN) çº¿æ€§é˜¶ O(n) çº¿æ€§å¯¹æ•°é˜¶ O(nlogN) å¹³æ–¹é˜¶ O(n^2) ç«‹æ–¹é˜¶ O(n^3) kæ¬¡æ–¹é˜¶ O(n ^ k) æŒ‡æ•°é˜¶O(2 ^ n) è®¡ç®—å¤æ‚åº¦ logN å°±æ˜¯ç±»ä¼¼å¾ªçŽ¯æ“ä½œçš„é€†è¿ç®—ï¼Œæ¯æ¬¡è®¡ç®—éƒ½å°†è®¡ç®—é‡å‡å°‘ä¸€åŠ éšç€é—®é¢˜è§„æ¨¡ n çš„ä¸æ–­å¢žåŠ ï¼Œ æ—¶é—´å¤æ‚åº¦ä¸æ–­å¢žå¤§ï¼Œ ç®—æ³•çš„æ‰§è¡Œæ•ˆçŽ‡è¶Šä½Ž ä¸€èˆ¬åšç®—æ³•å¤æ‚åº¦åˆ†æžçš„æ—¶å€™ï¼Œ éµå¾ªä¸‹é¢çš„æŠ€å·§: æœ‰å‡ é‡å¾ªçŽ¯ï¼Œ ä¸€èˆ¬æ¥è¯´å°±æ˜¯O(n), ä¸¤é‡å°±æ˜¯Oï¼ˆn^2ï¼‰, ä¾æ­¤ç±»æŽ¨ å¦‚æžœæœ‰äºŒåˆ†ï¼Œ åˆ™ä¸ºOï¼ˆlogNï¼‰ ä¿ç•™æœ€é«˜é¡¹ï¼Œ åŽ»é™¤å¸¸æ•°é¡¹ è®¡ç®—ä¾‹å­]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘ä»€ä¹ˆæ˜¯å›¾]]></title>
    <url>%2F2019%2F06%2F08%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E5%9B%BE%2F</url>
    <content type="text"><![CDATA[ç”±é¡¶ç‚¹çš„é›†åˆï¼ˆä¸èƒ½æ˜¯ç©ºé›†ï¼‰ å’Œè¾¹çš„é›†åˆç»„æˆçš„ç»“æž„ï¼Œ è¡¨çŽ°çš„æ˜¯å¤šå¯¹å¤šçš„å…³ç³» æ•°å­¦åŸºç¡€æ˜¯ï¼š å›¾è®º å‡ ä¸ªåŸºæœ¬æ¦‚å¿µï¼š é¡¶ç‚¹ï¼ˆåœ¨æ ‘é‡Œå«èŠ‚ç‚¹ï¼‰ è¾¹ æƒ æœ‰å‘å›¾å’Œæ— å‘å›¾]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘ä»€ä¹ˆæ˜¯æ ‘]]></title>
    <url>%2F2019%2F06%2F02%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E6%A0%91%2F</url>
    <content type="text"><![CDATA[æ ‘æ˜¯ç”±è‹¥å¹²ä¸ªæœ‰é™èŠ‚ç‚¹ç»„æˆçš„ä¸€ä¸ªå…·æœ‰å±‚æ¬¡å…³ç³»çš„é›†åˆ æ ‘çš„ç‰¹ç‚¹ æ•°å­¦åŸºç¡€æ˜¯: å›¾è®º ä¸€æ£µæ ‘ä¸­æ¯ä¸¤ä¸ªç‚¹ä¹‹é—´éƒ½æœ‰ä¸”åªæœ‰ä¸€æ¡è·¯ ä¸€é¢—æœ‰Nä¸ªç‚¹çš„æ ‘æœ‰N-1æ¡è¾¹ ç»“æž„ä¸Žåç§° åƒå›¾ä¸­çš„åœˆæˆ‘ä»¬ç§°ä¹‹ä¸ºâ€œèŠ‚ç‚¹â€ï¼Œ èŠ‚ç‚¹ä¸ŽèŠ‚ç‚¹ä¹‹é—´çš„çº¿ç§°ä¹‹ä¸ºâ€œè¾¹â€ï¼Œ æœ€èµ·å§‹çš„èŠ‚ç‚¹å«â€œæ ¹â€ ä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢çš„èŠ‚ç‚¹æˆä¸ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ï¼Œ è¯¥èŠ‚ç‚¹æ˜¯å…¶å­èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ èŠ‚ç‚¹çš„å±‚çº§ç”¨â€œæ·±â€æ¥è¡¨ç¤ºï¼Œ å¹¶ä¸”ä»¥0å¼€å§‹è®¡æ•° å½“èŠ‚ç‚¹ä¸å†åˆ†å‰æ—¶ï¼Œ æœ«å°¾çš„èŠ‚ç‚¹ç§°ä¸ºâ€œå¶å­èŠ‚ç‚¹â€ ä¸€ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ç§°ä¸ºâ€œåº¦â€ï¼Œ å¦‚æžœä¸€ä¸ªèŠ‚ç‚¹æœ‰3ä¸ªå­èŠ‚ç‚¹ï¼Œ é‚£ä¹ˆå®ƒçš„åº¦ä¸º3ï¼Œ å½“åº¦ä¸º0æ—¶å°±æ˜¯å¶å­èŠ‚ç‚¹ ä¸€ä¸ªèŠ‚ç‚¹åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹ä¹‹é—´çš„è¿žçº¿ ç§°ä¸ºâ€œè·¯å¾„â€ æ ‘å’Œéžæ ‘çš„å…¸åž‹ ç©ºæ ‘æ˜¯æŒ‡ï¼Œæœ‰äº†æ ‘çš„ç»“æž„ï¼Œ ä½†æ˜¯è¿˜æ²¡æœ‰å¡«å……èŠ‚ç‚¹ æ ‘çš„éåŽ† æ ‘çš„éåŽ†åˆ†ä¸ºï¼Œä¸¤å¤§ç±»ï¼Œ å››å°ç±» æŒ‰ç…§æŸç§è§„åˆ™ï¼Œ ä¸é‡å¤åœ°è®¿é—®æŸç§æ ‘çš„æ‰€æœ‰èŠ‚ç‚¹ å…ˆåºéåŽ†(æ·±åº¦ä¼˜å…ˆ) ä¸­åºéåŽ†(æ·±åº¦ä¼˜å…ˆ) åŽç»­éåŽ†(æ·±åº¦ä¼˜å…ˆ) å±‚åºéåŽ†(å¹¿åº¦ä¼˜å…ˆ) å…ˆã€ ä¸­ã€åŽéƒ½æ˜¯é’ˆå¯¹çš„æ ¹èŠ‚ç‚¹æ¥è¯´çš„ï¼Œ å¹¶ä¸”æ ‘æ˜¯ä¸€ç§è‡ªç›¸ä¼¼çš„ç»“æž„ï¼Œ å¯ä»¥é‡‡ç”¨é€’å½’ï¼Œ æ‰€ä»¥æ¯”è¾ƒå¥½è®°å¿† 1.å…ˆåºéåŽ† å·¦ã€ä¸­ã€å³ ä¼˜å…ˆè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œ ç„¶åŽè®¿é—®å…¶å·¦å­æ ‘ï¼Œ å¦‚æžœå·¦å­èŠ‚ç‚¹è¿˜æœ‰å…¶å·¦å­èŠ‚ç‚¹ï¼Œ å†ç»§ç»­å¾€ä¸‹è®¿é—®å…¶å·¦å­èŠ‚ç‚¹ï¼Œ ç›´è‡³æ²¡æœ‰ï¼Œ ç„¶åŽè®¿é—®å…¶èŠ‚ç‚¹çš„çˆ¶èŠ‚ç‚¹ï¼Œ æœ€åŽè®¿é—®å…¶çˆ¶èŠ‚ç‚¹çš„å³å­èŠ‚ç‚¹ï¼Œ å°±è¿™æ ·ä¸€å±‚ä¸€å±‚å‘ä¸Šï¼Œç›´è‡³æ ¹èŠ‚ç‚¹çš„æ•´ä¸ªå·¦å­æ ‘éåŽ†å®Œï¼Œ åŽ»å¯¹å³å­æ ‘åšåŒæ ·çš„æ“ä½œ 2. ä¸­åºéåŽ† ä¸­ã€å·¦ã€å³ ä¼˜å…ˆè®¿é—®å·¦å­æ ‘ï¼Œ ç„¶åŽè®¿é—®æ ¹èŠ‚ç‚¹ï¼Œ æœ€åŽè®¿é—®å³èŠ‚ç‚¹ 3. åŽåºéåŽ† å·¦ã€ å³ã€ ä¸­ ä¼˜å…ˆè®¿é—®å·¦å­æ ‘ã€ ç„¶åŽè®¿é—®å³å­æ ‘ï¼Œ æœ€åŽè®¿é—®æ ¹èŠ‚ç‚¹ 4. å±‚åºéåŽ†å¹¿åº¦ä¼˜å…ˆé€å±‚è®¿é—®èŠ‚ç‚¹ï¼Œ ç›´è‡³è¯¥å±‚æ²¡æœ‰ï¼Œ ç„¶åŽå†å¾€ä¸‹æ‰Ž æ ‘çš„è¡ç”Ÿæ— åºæ ‘: æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å­èŠ‚ç‚¹ä¹‹é—´æ²¡æœ‰é¡ºåºå…³ç³»ï¼Œ è¿™ç§æ ‘ç§°ä¸ºæ— åºæ ‘ï¼Œ ä¹Ÿç§°ä¸ºè‡ªç”±æ ‘ æœ‰åºæ ‘ï¼š æ ‘ä¸­ä»»æ„èŠ‚ç‚¹çš„å­ç»“ç‚¹ä¹‹é—´æœ‰é¡ºåºå…³ç³» äºŒå‰æ ‘ï¼š æ¯ä¸ªèŠ‚ç‚¹æœ€å¤šå«æœ‰ä¸¤ä¸ªå­æ ‘çš„æ ‘ç§°ä¸ºäºŒå‰æ ‘ å®Œå…¨äºŒå‰æ ‘ï¼š é™¤äº†æœ€åŽä¸€å±‚ï¼Œ å…¶ä»–å„å±‚èŠ‚ç‚¹æ•°éƒ½è¾¾åˆ°æœ€å¤§ æ»¡äºŒå‰æ ‘ï¼š æ¯ä¸€å±‚ä¸Šçš„èŠ‚ç‚¹æ•°éƒ½æ˜¯æœ€å¤§èŠ‚ç‚¹æ•° éœå¤«æ›¼æ ‘ï¼š å¸¦æƒè·¯å¾„æœ€çŸ­çš„äºŒå‰æ ‘ï¼Œ ä¹Ÿå«æœ€ä¼˜äºŒå‰æ ‘ æŽ’åºç®—æ³•çš„å¤æ‚åº¦ä¸Žç¨³å®šæ€§ å…³äºŽæŸ¥æ‰¾ç®—æ³•]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘çº¿æ€§è¡¨ä¹‹'ä¸²']]></title>
    <url>%2F2019%2F06%2F02%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B-%E4%B8%B2%2F</url>
    <content type="text"><![CDATA[æ¯”å¦‚ï¼š å­—ç¬¦ä¸²ã€ å­—èŠ‚æµ ä¸²çš„æ¦‚å¿µå­—ç¬¦ä¸²ç®€ç§°ä¸²ï¼Œæ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§è¡¨ï¼Œå®ƒçš„æ•°æ®å…ƒç´ ä»…ç”±ä¸€ä¸ªå­—ç¬¦ç»„æˆã€‚ ä¸²çš„å®šä¹‰ä¸²(String)æ˜¯ç”±é›¶ä¸ªæˆ–å¤šä¸ªå­—ç¬¦ç»„æˆçš„æœ‰é™åºåˆ—ï¼Œåˆç§°å­—ç¬¦ä¸²ã€‚ ä¸²çš„ç‰¹æ®Šåœ¨äºŽï¼Œ åœ¨ä¸€ä¸ªå¤§çš„çº¿æ€§è¡¨ä¸­å¯¹ä¸€ä¸ªå°çº¿æ€§è¡¨æ“ä½œ]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€canvasã€‘å¦‚ä½•å¤„ç†Retinaå±æ¨¡ç³Šé—®é¢˜]]></title>
    <url>%2F2019%2F05%2F21%2F%E3%80%90canvas%E3%80%91%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86Retina%E5%B1%8F%E6%A8%A1%E7%B3%8A%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯Retinaå±ï¼Ÿæ‰€è°“â€œRetinaâ€æ˜¯ä¸€ç§æ˜¾ç¤ºæ ‡å‡†ï¼Œæ˜¯æŠŠæ›´å¤šçš„åƒç´ ç‚¹åŽ‹ç¼©è‡³ä¸€å—å±å¹•é‡Œï¼Œä»Žè€Œè¾¾åˆ°æ›´é«˜çš„åˆ†è¾¨çŽ‡å¹¶æé«˜å±å¹•æ˜¾ç¤ºçš„ç»†è…»ç¨‹åº¦ã€‚ç”±æ‘©æ‰˜ç½—æ‹‰å…¬å¸ç ”å‘ã€‚æœ€åˆè¯¥æŠ€æœ¯æ˜¯ç”¨äºŽMoto Auraä¸Šã€‚è¿™ç§åˆ†è¾¨çŽ‡åœ¨æ­£å¸¸è§‚çœ‹è·ç¦»ä¸‹è¶³ä»¥ä½¿äººè‚‰çœ¼æ— æ³•åˆ†è¾¨å…¶ä¸­çš„å•ç‹¬åƒç´ ã€‚ä¹Ÿè¢«ç§°ä¸ºè§†ç½‘è†œæ˜¾ç¤ºå±ã€‚ canvasåœ¨Retina å±å¹•æ¨¡ç³Šæ€Žä¹ˆåŠž DPIï¼ˆDots Per Inchï¼Œæ¯è‹±å¯¸ç‚¹æ•°ï¼‰æ˜¯ä¸€ä¸ªé‡åº¦å•ä½ï¼Œç”¨äºŽç‚¹é˜µæ•°ç å½±åƒï¼ŒæŒ‡æ¯ä¸€è‹±å¯¸é•¿åº¦ä¸­ï¼Œå–æ ·ã€å¯æ˜¾ç¤ºæˆ–è¾“å‡ºç‚¹çš„æ•°ç›®ã€‚ åˆ©ç”¨èŽ·å–è®¾å¤‡çš„dpi, å°†canvas ç”»å¸ƒæ‰©å¤§è‡³dpiçš„å€æ•°ï¼Œ ç„¶åŽå°†å…¶ç¼©å°ï¼Œ å°±å¯ä»¥å¾—åˆ°æ¸…æ™°çš„canvas æ•ˆæžœ]]></content>
      <categories>
        <category>Canvas</category>
      </categories>
      <tags>
        <tag>Canvas</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘å¦‚ä½•æµ‹è¯•Jsä»£ç æ€§èƒ½]]></title>
    <url>%2F2019%2F05%2F11%2F%E3%80%90JS%E3%80%91%E5%A6%82%E4%BD%95%E6%B5%8B%E8%AF%95Js%E4%BB%A3%E7%A0%81%E6%80%A7%E8%83%BD%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨ benchmark.js è¿›è¡Œå‰ç«¯ä»£ç åŸºå‡†æµ‹è¯•]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€JSã€‘V8å¼•æ“Žé‡Œforå’ŒforEach]]></title>
    <url>%2F2019%2F05%2F11%2F%E3%80%90JS%E3%80%91V8%E5%BC%95%E6%93%8E%E9%87%8Cfor%E5%92%8CforEach%2F</url>
    <content type="text"><![CDATA[ä¸€èˆ¬æ˜¯for å¾ªçŽ¯æ¯”è¾ƒå¿«, ä½†æ˜¯V8ä¸­æ¯ä¸ªæ•°ç»„è‡ªå¸¦çš„æ–¹æ³•ä¸€å®šç¨‹åº¦ä¸Šæ˜¯å¯¹æ•°ç»„æ•°é‡çº§çš„ä¼˜åŒ–, åœ¨ä¸€å®šæ•°é‡çš„æ•°æ®ä¸‹, forEach è¦ä¼˜äºŽ for å¾ªçŽ¯, æ‰€ä»¥çœ‹åœºæ™¯é€‰æ‹©å§, å…·ä½“è¯·çœ‹v8æºç ]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘webpack + ts + antd æŒ‰éœ€åŠ è½½æ— æ•ˆå¤„ç†]]></title>
    <url>%2F2019%2F05%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91webpack-ts-antd-%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD%E6%97%A0%E6%95%88%E5%A4%84%E7%90%86%2F</url>
    <content type="text"><![CDATA[webpackåŠ  babel æœ¬æ¥æ­é… babel-plugin-import å¯ä»¥å®žçŽ°æ’ä»¶çš„æŒ‰éœ€å¼•å…¥ï¼Œ ä½†æ˜¯æ—¶ä»£åœ¨å˜åŒ–å•Šï¼Œ çŽ°åœ¨æµè¡Œts äº†ï¼Œ ä½ ä¸€å®šä¼šæƒ³åœ¨ä½ çš„é¡¹ç›®ä¸­åŠ å…¥å®ƒï¼Œ ä½ ä¹Ÿä¸€å®šä¼šæœç´¢åˆ° â€˜ts-loaderâ€™ çš„ç§ç§ï¼Œ ä½†æ•ˆæžœä¸å°½å¦‚äººæ„ï¼Œ ä½¿ç”¨äº†â€™ts-loaderâ€™ ä¹‹åŽï¼Œ ä½ ä¼šå‘çŽ°ï¼Œ æŒ‰éœ€å¼•å…¥æ€Žä¹ˆé…ç½®éƒ½å¤±è´¥äº†ï¼Œ äºŽæ˜¯ä½ ä¸€å®šä¼šå°è¯•è¿™æ ·12345678&#123; test: /\.tsx?$/, exclude: /node_modules/, use: [ loader: &apos;babel-loader&apos;, loader: &apos;ts-loader&apos;, ]&#125; å…ˆæŠŠts è½¬æˆ es6, ç„¶åŽç”¨babelæŠŠES6 è½¬ä¸º es5 ä½†çŽ°åœ¨ä¸æ˜¯é‚£ç§ä¸Šå¤æ´ªè’æ—¶ä»£äº†ï¼Œ babel ç»Ÿä¸€æ·»åŠ ï¼Œ è®©æˆ‘ä»¬å¯ä»¥ä¸éœ€è¦åœ¨ç¼–è¯‘ä¸¤è½®äº† åœ¨ babel 7 ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨æ–°çš„ @babel/preset-typescript (å…¶é›†æˆäº† @babel/plugin-transform-typescript) æˆ‘ä»¬çš„ .babelrc é…ç½®å°†å˜æˆè¿™æ ·ï¼š 1234567&#123; &quot;presets&quot;: [ &quot;@babel/env&quot;, &quot;@babel/react&quot;, &quot;@babel/typescript&quot; ]&#125; å‚è€ƒåœ°å€: https://github.com/frontend9/fe9-library/issues/23 https://www.jishuwen.com/d/2MbR/zh-tw]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘çº¿æ€§è¡¨ä¹‹é¡ºåºè¡¨]]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%A1%BA%E5%BA%8F%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[é¡ºåºè¡¨ä¼˜ç‚¹é¡ºåºè¡¨çš„ä¼˜åŠ¿åœ¨äºŽæ¯”é“¾è¡¨è¦æ›´èŠ‚çœå†…å­˜ï¼Œ å› ä¸ºæ— éœ€å­˜å‚¨é¢å¤–çš„æŒ‡é’ˆ ç¼ºç‚¹ä½†ç¼ºç‚¹åœ¨äºŽï¼Œ çº¿æ€§è¡¨ç”³è¯·å®Œå†…å­˜åŽï¼Œ æ— æ³•è¿›è¡Œç¼©æ”¾å†…å­˜ï¼Œ ä½ éœ€è¦ç”¨å¤šå¤§ä½ å°±ä¸€æ¬¡æ€§è¿žç»­ç”³è¯·å¤šå¤§ï¼Œ å¦‚æžœä½ åŽæœŸéœ€è¦å˜æ›´ï¼Œ åªèƒ½ç”³è¯·æ–°çš„ å¹¶ä¸”å½“ä½ éœ€è¦åœ¨é¡ºåºè¡¨ä¸­æ’å…¥æ•°æ®æ—¶ï¼Œ éœ€è¦å°†æ’å…¥ç›®æ ‡ä½ç½®åŽé¢çš„æ•°æ®å…¨éƒ¨å‘åŽæŒªåŠ¨ï¼Œ è¿™éžå¸¸çš„è€—è´¹æ€§èƒ½ï¼Œ é“¾è¡¨åˆ™ä¸ç”¨ï¼Œ åªéœ€è¦åˆ‡æ¢ä¸€ä¸‹æŒ‡é’ˆå³å¯]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘çº¿æ€§è¡¨ä¹‹é“¾è¡¨]]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%93%BE%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[é“¾è¡¨å¦‚æžœæŒ‰å­˜å‚¨ç»“æž„æ¥åˆ†ï¼Œ æ˜¯å±žäºŽé“¾å¼å­˜å‚¨ç»“æž„ é“¾è¡¨çš„æ¯ä¸€é¡¹æ•°æ®å…ƒç´ ä¹‹é—´æœ‰è¡”æŽ¥å…³ç³»(åœˆèµ·æ¥è¦è€ƒ) é“¾è¡¨çš„ä¼˜åŠ¿åœ¨äºŽçµæ´»ï¼Œä¸å—ç”³è¯·æ—¶çš„å†…å­˜å¤§å°çº¦æŸï¼Œé“¾è¡¨æ’å…¥æ•°æ®ï¼Œ åªéœ€è¦åˆ‡æ¢ä¸€ä¸‹æŒ‡é’ˆå³å¯ é“¾è¡¨é“¾è¡¨åˆ†ä¸ºï¼š å•å‘é“¾è¡¨ åŒå‘é“¾è¡¨ å•å‘é“¾è¡¨é“¾è¡¨åœ¨æ¯ä¸€ä¸ªæ•°æ®å…ƒç´ ä¸­åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œ ä¸€ä¸ªç”¨æ¥å­˜å‚¨è‡ªèº«çš„æ•°æ®ï¼Œ å¦ä¸€éƒ¨åˆ†å­˜å‚¨ä¸‹ä¸€é¡¹çš„æŒ‡é’ˆï¼ˆç§°ä¸ºåŽç»§æŒ‡é’ˆï¼‰ åŒå‘é“¾è¡¨åŒå‘é“¾è¡¨é¡¾åæ€ä¹‰ï¼Œ å°±æ˜¯æ”¯æŒä¸¤ä¸ªæ–¹å‘çš„é“¾è¡¨ï¼ˆå‰é©±å’ŒåŽç»§ï¼‰]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘çº¿æ€§è¡¨ä¹‹é˜Ÿåˆ—]]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B%E9%98%9F%E5%88%97%2F</url>
    <content type="text"><![CDATA[é˜Ÿåˆ—æ˜¯ä¸€ç§è¢«é™åˆ¶æ“ä½œçš„çº¿æ€§è¡¨ã€‚ FIFOï¼ˆFirst In First Outï¼‰ï¼Œ éµå¾ªé€‰å…¥å…ˆå‡º ç”¨é€”ï¼šæ¶ˆæ¯é˜Ÿåˆ—ã€è§†é¢‘å¼¹å¹•]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘ä»€ä¹ˆæ˜¯çº¿æ€§è¡¨]]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E7%BA%BF%E6%80%A7%E8%A1%A8%2F</url>
    <content type="text"><![CDATA[çº¿æ€§è¡¨çº¿æ€§ç»“æž„ä¸­çš„æ•°æ®å…ƒç´ ä¹‹é—´æ˜¯ä¸€å¯¹ä¸€çš„å…³ç³»ã€‚ä¹Ÿå°±æ˜¯æ•°æ®å…ƒç´ ä¸€ä¸ªæŽ¥ä¸€ä¸ªåœ°æŽ’åˆ—ã€‚ ç”¨æ¥å­˜æ”¾ç‰¹å®šçš„æŸä¸€ä¸ªç±»åž‹çš„å…ƒç´  ç‰©ç†ç»“æž„ä¸ºé¡ºåºè¡¨å’Œé“¾è¡¨ï¼ˆé“¾å¼ç»“æž„ï¼‰ å…³äºŽå­˜æ”¾ç‰¹å®šç±»åž‹å…ƒç´ çš„è§£é‡Š: Javaç­‰è¯­è¨€çš„æ³›åž‹å®žé™…ä¸Šä¹Ÿæ˜¯åœ¨éµå®ˆè¿™ä¸€è§„åˆ™ï¼Œ å› ä¸ºä»–ä»¬çš„åŸºç±»ç›¸åŒJSä¹Ÿæ˜¯å¦‚æ­¤ï¼Œ å› ä¸ºjsä¸‡ç‰©çš†å¯¹è±¡ï¼Œ å­˜å‚¨æ—¶éƒ½ä¼šè¢«ä¸€ä¸ªå®¹å™¨ç»™åŒ…è£¹äº†ï¼Œ æ‰€ä»¥ç±»åž‹ç›¸åŒ é¡ºåºè¡¨ä¸Žé“¾è¡¨å¯¹æ¯” é¡ºåºè¡¨: ä¸çµæ´»ï¼Œçœå†…å­˜ é“¾è¡¨ï¼š çµæ´»ï¼Œ å¤šè€—ä¸€ç‚¹å†…å­˜ é¡ºåºè¡¨çš„ä¼˜åŠ¿åœ¨äºŽæ¯”é“¾è¡¨è¦æ›´èŠ‚çœå†…å­˜ï¼Œ å› ä¸ºæ— éœ€å­˜å‚¨é¢å¤–çš„æŒ‡é’ˆ ä½†ç¼ºç‚¹åœ¨äºŽï¼Œ çº¿æ€§è¡¨ç”³è¯·å®Œå†…å­˜åŽï¼Œ æ— æ³•è¿›è¡Œç¼©æ”¾å†…å­˜ï¼Œ ä½ éœ€è¦ç”¨å¤šå¤§ä½ å°±ä¸€æ¬¡æ€§è¿žç»­ç”³è¯·å¤šå¤§ï¼Œ å¦‚æžœä½ åŽæœŸéœ€è¦å˜æ›´ï¼Œ åªèƒ½ç”³è¯·æ–°çš„ çº¿æ€§è¡¨çš„è¡ç”Ÿç»“æž„ å¯åœ¨æœ¬ç«™ä¸­æœç´¢ æ ˆ é˜Ÿåˆ— ä¸²]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘ä»€ä¹ˆæ˜¯é›†åˆ]]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E4%BB%80%E4%B9%88%E6%98%AF%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[é›†åˆæ•°æ®ç»“æž„ä¸­çš„é›†åˆå…³ç³»å°±ç±»ä¼¼äºŽæ•°å­¦ä¸­çš„é›†åˆã€‚ é›†åˆä¸­çš„æ•°æ®æˆå‘˜æ˜¯æ— åºçš„ã€‚ æ¯ä¸ªæ•°æ®æˆå‘˜åœ¨é›†åˆä¸­ä¸èƒ½é‡å¤ï¼Œä»…ä¸”åªå‡ºçŽ°ä¸€æ¬¡ã€‚]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€æ•°æ®ç»“æž„ã€‘çº¿æ€§è¡¨ä¹‹'æ ˆ']]></title>
    <url>%2F2019%2F05%2F01%2F%E3%80%90%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E3%80%91%E7%BA%BF%E6%80%A7%E8%A1%A8%E4%B9%8B'%E6%A0%88'%2F</url>
    <content type="text"><![CDATA[æ ˆæ˜¯ä¸€ç§è¢«é™åˆ¶æ“ä½œçš„çº¿æ€§è¡¨ã€‚ LIFOï¼ˆLast In First Outï¼‰ï¼ŒåŽå…¥å…ˆå‡º ç”¨é€”ï¼š è§£å†³æ‹¬å·åŒ¹é…æ£€æŸ¥ æµè§ˆå™¨çš„åŽé€€æˆ–ç¼–è¾‘å™¨çš„undoåŠŸèƒ½]]></content>
      <categories>
        <category>æ•°æ®ç»“æž„</category>
      </categories>
      <tags>
        <tag>æ•°æ®ç»“æž„</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°æ®ç»“æž„ä¸Žç®—æ³•åŸºç¡€å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2019%2F05%2F01%2F%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[åŸºæœ¬æ¦‚å¿µ æ•°æ®åªè¦èƒ½è¢«æ•°å­—åŒ–å°±å¯ä»¥ç§°ä¸ºæ•°æ® æ•°æ®å¯¹è±¡å¯ä»¥å®Œæ•´çš„æè¿°ä¸€ä»¶ä¸œè¥¿ï¼Œé€šå¸¸æ˜¯äº§ç”Ÿåœ¨å†…å­˜ä¸­çš„æ–‡ä»¶ï¼Œ é“¾è¡¨ã€é˜Ÿåˆ—ç­‰éƒ½ç®—æ•°æ®å¯¹è±¡ æ•°æ®å…ƒç´ å­˜åœ¨äºŽæ•°æ®å¯¹è±¡ä¸­çš„ä¸€ä»½ä¸€ä»½çš„æ•°æ®ï¼Œå°±æ˜¯æ•°æ®å…ƒç´  æ•°æ®é¡¹ç”¨æ¥æè¿°æŸä¸€ç‰¹å¾çš„ï¼Œ å¯ä»¥å‚è€ƒå¯¹è±¡çš„å±žæ€§ï¼Œ ä½†ä¸å®Œå…¨ç›¸åŒ æµ…æžæ•°æ®ç»“æž„æ•°æ®å…ƒç´ ç›¸äº’ä¹‹é—´çš„å…³ç³»ç§°ä¸ºç»“æž„ã€‚æ•°æ®ç»“æž„æ˜¯ä¸Žç®—æ³•ç´§å¯†ç»“åˆçš„ é€»è¾‘ç»“æž„ï¼šåæ˜ æ•°æ®å…ƒç´ ä¹‹é—´çš„é€»è¾‘å…³ç³»ã€‚ å­˜å‚¨ç»“æž„ï¼šæ•°æ®ç»“æž„åœ¨è®¡ç®—æœºä¸­çš„è¡¨ç¤ºã€‚ ç®—æ³•ï¼šå¯¹æ•°æ®çš„æ“ä½œ åŸºæœ¬é€»è¾‘ç»“æž„ å†…å­˜ä¸Žå­˜å‚¨ç»“æž„æŒ‰ç…§åœ¨å†…å­˜ä¸­å­˜å‚¨çš„æ–¹å¼æ¥åŒºåˆ†ï¼Œ ç®€å•äº†è§£è®¡ä¸€äº›ç®—æœºä¸­å†…å­˜ç›¸å…³çš„çŸ¥è¯†ï¼š å†…å­˜çš„åŽŸç†ä¸Žæž„é€ ã€‚ åœ°å€ã€æŒ‡é’ˆä¸Žå¼•ç”¨ã€‚ å­˜å‚¨ç»“æž„ä¸Žå†…å­˜ç®¡ç†]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ•°å­¦åŸºç¡€å…¥é—¨]]></title>
    <url>%2F2019%2F05%2F01%2F%E6%95%B0%E5%AD%A6%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€ç®—æ³•ã€‘äºŒå‰æ ‘å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2019%2F04%2F24%2F%E3%80%90%E7%AE%97%E6%B3%95%E3%80%91%E4%BA%8C%E5%8F%89%E6%A0%91%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[æ ‘ç”±è¾¹å’ŒèŠ‚ç‚¹ç»„æˆ æ¦‚å¿µå’Œç”¨é€” æ ‘æ˜¯ä¸€ç§éžçº¿æ€§çš„æ•°æ®ç»“æž„ï¼Œ åˆ†å±‚å­˜å‚¨ã€‚ æ ‘è¢«ç”¨æ¥å­˜å‚¨å…·æœ‰å±‚çº§å…³ç³»çš„æ•°æ®ï¼Œ è¿˜è¢«ç”¨æ¥å­˜å‚¨æœ‰åºåˆ—è¡¨ã€‚ äºŒå‰æ ‘è¿›è¡ŒæŸ¥æ‰¾ç‰¹åˆ«å¿«ï¼Œ ä¸ºäºŒå‰æ ‘æ·»åŠ æˆ–åˆ é™¤å…ƒç´ ä¹Ÿä¹Ÿåˆ«å¿« é›†åˆä¸­ä¸å…è®¸ç›¸åŒæˆå‘˜å­˜åœ¨ã€‚ å…³é”®æ¦‚å¿µå®šä¹‰ æ ‘ç”±ä¸€ç»„ä»¥è¾¹è¿žæŽ¥çš„èŠ‚ç‚¹ç»„æˆ ä¸€æ£µæ ‘æœ€ä¸Šé¢çš„èŠ‚ç‚¹ç§°ä¸ºæ ¹èŠ‚ç‚¹ï¼Œ å¦‚æžœä¸€ä¸ªèŠ‚ç‚¹ä¸‹é¢è¿žæŽ¥å¤šä¸ªèŠ‚ç‚¹ï¼Œ é‚£ä¹ˆè¯¥èŠ‚ç‚¹ç§°ä¸ºçˆ¶èŠ‚ç‚¹ï¼Œ å®ƒä¸‹é¢çš„èŠ‚ç‚¹è¢«ç§°ä¸ºå­èŠ‚ç‚¹ã€‚ ä¸€ä¸ªèŠ‚ç‚¹å¯ä»¥æœ‰0ä¸ªã€ 1ä¸ªæˆ–å¤šä¸ªå­èŠ‚ç‚¹ã€‚ æ²¡æœ‰ä»»ä½•å­èŠ‚ç‚¹çš„èŠ‚ç‚¹ç§°ä¸ºå¶å­èŠ‚ç‚¹ã€‚ äºŒå‰æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ ‘ï¼Œ å­èŠ‚ç‚¹ä¸ªå±žä¸è¶…è¿‡ä¸¤ä¸ªã€‚ ä»Žä¸€ä¸ªèŠ‚ç‚¹èµ°åˆ°å¦ä¸€ä¸ªèŠ‚ç‚¹çš„è¿™ä¸€ç»„ç§°ä¸ºè·¯å¾„ ä»¥æŸç§ç‰¹å®šé¡ºåºè®¿é—®æ ‘ä¸­çš„æ‰€æœ‰èŠ‚ç‚¹ç§°ä¸ºæ ‘çš„éåŽ† æ ‘åˆ†ä¸ºå‡ ä¸ªå±‚æ¬¡ï¼Œ æ ¹èŠ‚ç‚¹æ˜¯ç¬¬0å±‚ï¼Œ å®ƒçš„å­èŠ‚ç‚¹æ˜¯ç¬¬ä¸€å±‚ï¼Œ ä¸€æ¬¡ç±»æŽ¨ã€‚ æˆ‘ä»¬å®šä¹‰æ ‘çš„å±‚æ•°å°±æ˜¯æ ‘çš„æ·±åº¦ ã€‚ æ¯ä¸ªèŠ‚ç‚¹éƒ½æœ‰ä¸€ä¸ªä¸Žä¹‹ç›¸å…³çš„å€¼ï¼Œ è¯¥å€¼æœ‰æ—¶è¢«ç§°ä¸ºé”®ã€‚ ä¸€ä¸ªçˆ¶èŠ‚ç‚¹çš„ä¸¤ä¸ªå­èŠ‚ç‚¹åˆ†åˆ«ç§°ä¸ºå·¦èŠ‚ç‚¹å’Œå³èŠ‚ç‚¹ã€‚ äºŒå‰æŸ¥æ‰¾æ ‘æ˜¯ä¸€ç§ç‰¹æ®Šçš„äºŒå‰æ ‘ï¼Œ ç›¸å¯¹è¾ƒå°çš„å€¼ä¿å­˜åœ¨å·¦èŠ‚ç‚¹ï¼Œ è¾ƒå¤§çš„å€¼ä¿å­˜åœ¨å³èŠ‚ç‚¹ï¼Œ è¿™ä¸€ç‰¹æ€§ä½¿å¾—æŸ¥æ‰¾æ•ˆçŽ‡å¾ˆé«˜ã€‚]]></content>
      <categories>
        <category>ç®—æ³•</category>
      </categories>
      <tags>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vuecli3è„šæ‰‹æž¶çŽ¯å¢ƒå˜é‡]]></title>
    <url>%2F2019%2F04%2F24%2Fvuecli3%E8%84%9A%E6%89%8B%E6%9E%B6%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%2F</url>
    <content type="text"><![CDATA[çŽ¯å¢ƒå˜é‡ çŽ¯å¢ƒå˜é‡, åœ¨å¼€å‘å’Œç”Ÿäº§çŽ¯å¢ƒä¸­ä¼šç»å¸¸ä½¿ç”¨åˆ° ä¸¾ä¸€ä¸ªä¾‹å­ åœ¨å¼€å‘è¿‡ç¨‹ä¸­æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªæœ¬åœ°çš„æŽ¥å£ä½†æ˜¯åœ¨æˆ‘ä»¬æ‰“åŒ…ä¸Šçº¿çš„æ—¶å€™, æˆ‘ä»¬ä¼šä½¿ç”¨çº¿ä¸Šçš„æŽ¥å£è¿™æ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡çŽ¯å¢ƒå˜é‡æ¥é…ç½® å¦‚ä½•åˆ›å»ºçŽ¯å¢ƒå˜é‡ è¿›å…¥è„šæ‰‹æž¶æ ¹ç›®å½• , æ–°å»ºä¸€ä¸ª .env æ–‡ä»¶ , è¿™å°±æ˜¯ä¸€ä¸ªçŽ¯å¢ƒå˜é‡æ–‡ä»¶ .env ä¼˜å…ˆçº§æœ€ä½Žçš„é…ç½®æ–‡ä»¶, ä¸¤ç§çŽ¯å¢ƒéƒ½å¯ä»¥ç”¨.env.development å¼€å‘çŽ¯å¢ƒ, æ—¶ä¼˜å…ˆä½¿ç”¨çš„çŽ¯å¢ƒå˜é‡.env.production ç”Ÿäº§çŽ¯èŠ‚, æ‰“åŒ…æ—¶ä½¿ç”¨çš„çŽ¯å¢ƒå˜é‡ çŽ¯å¢ƒå˜é‡è¯­æ³• VUE_APP_è¡”æŽ¥ä¸Šä¸€ä¸ªåå­—=â€™ä½ çš„å˜é‡â€™ å¦‚: VUE_APP_URL=â€™https://baidu.com&#39; å¦‚ä½•åœ¨ç»„ä»¶ä¸­èŽ·å–çŽ¯å¢ƒå˜é‡ process.env.VUE_APP_URLç„¶åŽæŒ‚è½½åˆ°å½“å‰ç»„ä»¶çš„data ä¸Š ,å¦‚ä¸‹ 12345data()&#123; return &#123; url: process.env.VUE_APP_URL &#125;&#125; è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vueçš„addå‘½ä»¤ä¸Žnpmçš„å°åŒºåˆ«]]></title>
    <url>%2F2019%2F04%2F24%2Fvue%E7%9A%84add%E5%91%BD%E4%BB%A4%E4%B8%8Enpm%E7%9A%84%E5%B0%8F%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[addå¦‚æžœä½ ä¸‹è½½çš„åº“, ç‰¹åˆ«æ˜¯ Ui åº“, å¸Œæœ›å¯¹è„šæ‰‹æž¶ç»“æž„äº§ç”Ÿå½±å“, é‚£å°±é€‰æ‹© vue add xxx npmå¦‚æžœä¸å¸Œæœ›å¯¹è„šæ‰‹æž¶ç»“æž„äº§ç”Ÿå½±å“, åªæ˜¯å•çº¯çš„ä½¿ç”¨, æ¯”å¦‚ axios è¿™ä¸ªæ’ä»¶é‚£å°±é€‰æ‹© npm install xxx è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[vue-cli3è„šæ‰‹æž¶é…ç½®px2remé€‚é…æ–¹æ¡ˆ]]></title>
    <url>%2F2019%2F04%2F24%2Fvue-cli3%E8%84%9A%E6%89%8B%E6%9E%B6%E9%85%8D%E7%BD%AEpx2rem%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88%2F</url>
    <content type="text"><![CDATA[å®‰è£…12npm i lib-flexible --savenpm install px2rem-loader å¼•å…¥ main.js 1import &apos;lib-flexible/flexible&apos; index.html 1&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt; æ ¹ç›®å½•æ–°å»º vue.config.js æ–‡ä»¶ å¤åˆ¶å¦‚ä¸‹ä»£ç ï¼Œ é‡å¯ï¼Œ æžå®š 123456789101112131415// vue.config.jsmodule.exports = &#123; chainWebpack: config =&gt; &#123; config.module .rule(&apos;css&apos;) .test(/\.css$/) .oneOf(&apos;vue&apos;) .resourceQuery(/\?vue/) .use(&apos;px2rem&apos;) .loader(&apos;px2rem-loader&apos;) .options(&#123; remUnit: 75 &#125;) &#125;&#125; è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>é€‚é…</tag>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘Fluxæž¶æž„æ˜¯ä»€ä¹ˆ]]></title>
    <url>%2F2019%2F04%2F16%2F%E3%80%90React%E3%80%91Flux%E6%9E%B6%E6%9E%84%E6%98%AF%E4%BB%80%E4%B9%88%2F</url>
    <content type="text"><![CDATA[ä¸ºäº†é¿å…Reactçš„stateæ··ä¹±ï¼Œ è®©Reactä¸“æ³¨äºŽui, Fluxå°±åº”è¿è€Œç”Ÿäº† Fluxæ˜¯ä¸€ç§æž¶æž„æ€æƒ³ï¼Œ ä¸“é—¨è§£å†³è½¯ä»¶çš„ç»“æž„é—®é¢˜ã€‚ä»–è·ŸMVCæž¶æž„æ˜¯åŒä¸€ç±»ä¸œè¥¿ï¼Œ ä½†æ˜¯æ›´åŠ ç®€å•å’Œæ¸…æ™°ã€‚ Fluxæž„æˆ Viewè§†å›¾å±‚ Action(åŠ¨ä½œ): è§†å›¾å±‚å‘å‡ºçš„æ¶ˆæ¯(æ¯”å¦‚mouseClick) Dispatcher(æ´¾å‘å™¨): ç”¨æ¥æŽ¥æ”¶Actions, æ‰§è¡Œå›žè°ƒå‡½æ•° Store(æ•°æ®å±‚): ç”¨æ¥å­˜æ”¾åº”ç”¨çš„çŠ¶æ€ï¼Œ ä¸€æ—¦å‘ç”Ÿå˜åŠ¨ï¼Œ å°±æé†’Viewsè¦æ›´æ–°é¡µé¢ Flux çš„æœ€å¤§ç‰¹ç‚¹ï¼Œå°±æ˜¯æ•°æ®çš„â€å•å‘æµåŠ¨â€ã€‚ ç”¨æˆ·è®¿é—® View View å‘å‡ºç”¨æˆ·çš„ Action Dispatcher æ”¶åˆ° Actionï¼Œè¦æ±‚ Store è¿›è¡Œç›¸åº”çš„æ›´æ–° Store æ›´æ–°åŽï¼Œå‘å‡ºä¸€ä¸ªâ€changeâ€äº‹ä»¶ View æ”¶åˆ°â€changeâ€äº‹ä»¶åŽï¼Œæ›´æ–°é¡µé¢ ä¸Šé¢è¿‡ç¨‹ä¸­ï¼Œæ•°æ®æ€»æ˜¯â€å•å‘æµåŠ¨â€ï¼Œä»»ä½•ç›¸é‚»çš„éƒ¨åˆ†éƒ½ä¸ä¼šå‘ç”Ÿæ•°æ®çš„â€åŒå‘æµåŠ¨â€ã€‚è¿™ä¿è¯äº†æµç¨‹çš„æ¸…æ™°ã€‚ Fluxä¸ŽReduxå› ä¸ºFluxçš„ä¸å¥½ç†è§£ï¼Œ æ‰€ä»¥ç¤¾åŒºåšå‡ºäº†å¾ˆå¤šçš„åŠªåŠ›ï¼Œ å¸¸ç”¨çš„Reduxå°±æ˜¯Fluxçš„å…¶ä¸­ä¸€ç§å®žçŽ° ä¼˜è´¨æ–‡çŒ® é˜®ä¸€å³°çš„flux]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘fiberå¸¦æ¥çš„API]]></title>
    <url>%2F2019%2F04%2F15%2F%E3%80%90React%E3%80%91%E9%9D%A9%E5%91%BD%E6%80%A7%E7%9A%84fiber%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[githubåœ°å€â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘â†‘ React Fiberå¼‚æ­¥æ¸²æŸ“unstable_ConcurrentModeReact.unstable_ConcurrentMode æ˜¯ä¸€ä¸ªä½¿å­ç»„ä»¶ä¸­çš„æ›´æ–°å¼‚æ­¥çš„ç»„ä»¶ï¼Œè¿™æ„å‘³ç€æ›´æ–°è¢«è§†ä¸ºä½Žä¼˜å…ˆçº§ã€‚1234const ConcurrentMode = React.unstable_ConcurrentMode;&lt;ConcurrentMode&gt; &lt;App /&gt; // Low Priority by default&lt;/ConcurrentMode&gt; flushSyncå¦‚æžœæ‚¨æƒ³åœ¨ç»„ä»¶å†…éƒ¨ä½¿ç”¨åŒæ­¥æ›´æ–°ï¼Œåˆ™å¯ä»¥ä½¿ç”¨ReactDOM.flushSync(cb)ã€‚åœ¨ReactDOM.flushSyncå›žè°ƒå†…éƒ¨ï¼Œæ›´æ–°è¢«è§†ä¸ºåŒæ­¥ä¼˜å…ˆçº§ï¼Œè¿™æ˜¯v16çš„é»˜è®¤ä¼˜å…ˆçº§ã€‚12345flushSync(() =&gt; &#123; this.setState(&#123; num: newNum, &#125;)&#125;)]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘æ‹¥æŠ±å‡½æ•°ç»„ä»¶çš„Hooks]]></title>
    <url>%2F2019%2F04%2F14%2F%E3%80%90React%E3%80%91%E6%8B%A5%E6%8A%B1%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E7%9A%84Hooks%2F</url>
    <content type="text"><![CDATA[React16å¸¦æ¥äº†æƒŠäººçš„æ”¹å˜ï¼Œ amazing~ hookså¸¦æ¥çš„å¥½å¤„å’Œç‰¹ç‚¹ åªèƒ½åœ¨å‡½æ•°ç»„ä»¶ä¸­ä½¿ç”¨ å‡½æ•°ç»„ä»¶åŽæœŸçš„ä¸šåŠ¡å˜æ›´æ— éœ€ä¿®æ”¹ä¸ºclassç»„ä»¶ å‘Šåˆ«äº†éº»çƒ¦this å’Œéš¾è®°çš„ç”Ÿå‘½å‘¨æœŸ åˆå¹¶äº†ç”Ÿå‘½å‘¨æœŸcomponentDidMountã€componentDidUpdateå’ŒcomponentWillUnmountçš„ä½œç”¨ å¯ä»¥åŒ…è£…è‡ªå·±çš„hooksï¼ŒåŸºäºŽçº¯å‘½ä»¤å¼çš„API æ›´å¥½çš„å®ŒæˆçŠ¶æ€ä¹‹é—´çš„å…±äº«ï¼Œ è§£å†³åŽŸæ¥classç»„ä»¶å†…éƒ¨å°è£…é—®é¢˜ã€‚ ä¹Ÿè§£å†³é«˜é˜¶ç»„ä»¶åµŒå¥—è¿‡æ·± useReduceré›†æˆredux useEffectæŽ¥å—è„æ“ä½œç­‰åˆ°reactæ›´æ–°äº†domåŽï¼Œ å®ƒå†ä¾æ¬¡æ‰§è¡Œæˆ‘ä»¬å®šä¹‰çš„å‰¯ä½œç”¨å‡½æ•°ã€‚ è¿™é‡Œå°±æ˜¯ä¸€ä¸ªioä¸”æ˜¯å¼‚æ­¥çš„ èµ·æ­¥å…ˆæ¥çœ‹çœ‹æœ€å¸¸ç”¨çš„ä¸¤ä¸ªhooksï¼š useState, useEffect useState ä¼ å…¥ä¸€ä¸ªåˆå§‹å€¼ï¼Œ è¿”å›ž countã€setCount,countç”¨æ¥è¯»ï¼Œ setCountç”¨æ¥å†™ 12345678910export default () =&gt; &#123; const [ count, setCount ] = useState(0) return ( &lt;div&gt; count: &#123; count &#125; &#123;/* ç‚¹å‡»äº‹ä»¶è§¦å‘setCountæ–¹æ³• */&#125; &lt;button onclick=&#123; setCount &#125;&gt;å¢žåŠ Count&lt;/button&gt; &lt;/div&gt; )&#125; æ­¤æ—¶é¡µé¢å°±æ˜¯è¿™ä¸ªæ ·å­çš„ ç„¶åŽæˆ‘ç‚¹å‡»ä¸€æ¬¡æŒ‰é’® æ­¤æ—¶countå°±å‘ç”Ÿäº†å˜åŒ–å˜ä¸ºäº†1ï¼Œ å°±å¥½åƒæˆ‘ä»¬ä½¿ç”¨äº†setStateæ–¹æ³•ä¸€æ ·ç¥žå¥‡ useEffect å‰¯ä½œç”¨ï¼Œ å¦‚æžœä½ å¯¹å‡½æ•°å¼ç¼–ç¨‹æœ‰ä¸€å®šçš„äº†è§£ï¼Œ é‚£åº”è¯¥èƒ½æ˜Žç™½è¿™ä¸ªè¯ å®ƒä¸»è¦ç”¨æ¥æ‰¿æ‹…componentDidMountã€componentDidUpdateå’ŒcomponentWillUnmountçš„ä½œç”¨ å®ƒä¼ å…¥ä¸€ä¸ªå‡½æ•°ï¼Œç”¨äºŽåœ¨ç»„ä»¶renderæ—¶è§¦å‘ï¼Œ å…¶ä¸­éœ€è¦è¿”å›žä¸€ä¸ªå‡½æ•°ï¼Œè¿”å›žçš„å‡½æ•°åœ¨ç»„ä»¶å¸è½½æ—¶è¢«è§¦å‘1234567useEffect(() =&gt; &#123; console.log("æ›´æ–°æ¸²æŸ“é˜¶æ®µ") document.title = `æ ‡é¢˜-$&#123;count&#125; times` return () =&gt; &#123; console.log("å¸è½½é˜¶æ®µ") &#125;&#125;) åœ¨useStateä¾‹å­åŸºç¡€ä¸Šæˆ‘ä»¬æ·»åŠ äº†useEffectåŽï¼Œ æ•ˆæžœå¦‚ä¸‹ï¼š æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ åˆ·æ–°é¡µé¢åŽé¦–å…ˆå‡ºçŽ°çš„æ˜¯â€æ›´æ–°æ¸²æŸ“é˜¶æ®µâ€ï¼Œå½“æˆ‘ä»¬ç‚¹å‡»äº†æŒ‰é’®åŽï¼Œ ç«‹å³å‡ºçŽ°äº†â€œå¸è½½é˜¶æ®µâ€ï¼Œ ç„¶åŽå‡ºçŽ°äº†â€æ›´æ–°æ¸²æŸ“é˜¶æ®µâ€ è¿™å°±è¯æ˜Žè¯¥å‰¯ä½œç”¨æ˜¯åœ¨æ¯æ¬¡ç»„ä»¶æ›´æ–°æ—¶éƒ½ä¼šè¢«è§¦å‘çš„ã€‚ è‡ªå®šä¹‰è§¦å‘useEffectä¸ä»…èƒ½å¤Ÿæ›¿ä»£é‚£äº›ä¸ªè€ç”Ÿå‘½å‘¨æœŸï¼Œ è¿˜èƒ½å¤Ÿè‡ªå®šä¹‰æ ¹æ®æŸä¸ªå€¼æ¥è§¦å‘ useEffectçš„èƒ½æŽ¥æ”¶ä¸¤ä¸ªå‚æ•°ï¼Œ ç¬¬ä¸€ä¸ªå°±æ˜¯åˆšåˆšæˆ‘ä»¬å°è¯•çš„å›žè°ƒï¼Œ ç¬¬äºŒä¸ªå‚æ•°å¯ä¼ å¯ä¸ä¼ ï¼Œ ä»–æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ å¦‚æžœä½ ä¸ä¼ ï¼Œå°±å’Œä¸Šé¢çš„ä¾‹å­ä¸€æ ·ï¼Œ é»˜è®¤å…¨éƒ¨è§¦å‘ï¼Œå¦‚æžœä½ ä¼ å…¥çš„æ˜¯ä¸€ä¸ªç©ºæ•°ç»„[]ï¼Œé‚£å°±åªåœ¨ç¬¬ä¸€æ¬¡æ¸²æŸ“æ—¶è§¦å‘å¦‚æžœä½ æ•°ç»„é‡Œåˆ¶å®šäº†å€¼ï¼Œ é‚£å°±åªåœ¨è¿™äº›å€¼å˜åŒ–æ—¶è§¦å‘ æ¯”å¦‚æˆ‘è¦æŒ‡å®šåªæœ‰ countå˜åŒ–æ—¶æ‰ä¼šè§¦å‘1234567useEffect(() =&gt; &#123; console.log("æ›´æ–°æ¸²æŸ“é˜¶æ®µ") document.title = `æ ‡é¢˜-$&#123;count&#125; times` return () =&gt; &#123; console.log("å¸è½½é˜¶æ®µ") &#125;&#125;, [count]) api ability state è¿”å›žæœ‰çŠ¶æ€å€¼, ä»¥åŠæ›´æ–°è¿™ä¸ªçŠ¶æ€å€¼çš„å‡½æ•° useEffect æŽ¥æ”¶åŒ…å«å‘½ä»¤å¼ï¼Œ å¯èƒ½æœ‰å‰¯ä½œç”¨ä»£ç çš„å‡½æ•° useContext æŽ¥å—ä¸Šä¸‹æ–‡å¯¹è±¡ï¼ˆä»ŽReact.createContextè¿”å›žçš„å€¼ï¼‰ useReducer useStateçš„æ›¿ä»£æ–¹æ¡ˆ useCallback è¿”å›žä¸€ä¸ªå›žå¿†çš„memoizedç‰ˆæœ¬ï¼Œ useMemo çº¯çš„ä¸€ä¸ªè®°å¿†å‡½æ•° useRef è¿”å›žä¸€ä¸ªå¯å˜çš„refå¯¹è±¡ useImperativeMethods è‡ªå®šä¹‰ä½¿ç”¨refæ—¶å…¬å¼€ç»™çˆ¶ç»„ä»¶çš„å®žä¾‹å€¼ä¹‹å‰ useMutationEffect æ›´æ–°å…„å¼Ÿç»„ä»¶ä¹‹å‰ï¼Œ å®ƒdomæ”¹å˜å‰æ‰§è¡Œ useLayoutEffect Domæ”¹å˜åŽåŒæ­¥è§¦å‘]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘reactç”Ÿå‘½å‘¨æœŸçš„å˜åŒ–]]></title>
    <url>%2F2019%2F04%2F13%2F%E3%80%90React%E3%80%91react%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84%E5%8F%98%E5%8C%96%2F</url>
    <content type="text"><![CDATA[React16å¸¦æ¥äº†æ–°çš„ç”Ÿå‘½å‘¨æœŸï¼Œ ä¸ºäº†æ›´å¥½çš„è´´åˆfiberæž¶æž„ï¼Œ ç§»é™¤äº†å‡ ä¸ªæ—§çš„ç”Ÿå‘½å‘¨æœŸï¼Œ è¿™å‡ ä¸ªç”Ÿå‘½å‘¨æœŸä¹Ÿç¡®å®žä¸å¤ªå¸¸ç”¨ æˆ‘ä»¬å…ˆæ¥çœ‹çœ‹è€çš„ç”Ÿå‘½å‘¨æœŸ react15ç”Ÿå‘½å‘¨æœŸ å…‰çœ‹æ²¡ç”¨å‘€ï¼Œè®°ä¸ä½ï¼Œæˆ‘ä»¬æ¥å®žé™…çœ‹ä¸€ä¸‹å®ƒçš„æ‰“å°é¡ºåºã€‚åˆæ¬¡åŠ è½½æ—¶ï¼š ç‚¹å‡»æŒ‰é’®æ›´æ–°ç»„ä»¶ï¼Œä½¿å¾—ä¼ å…¥Propså‘ç”Ÿæ”¹å˜ï¼Œè§¦å‘å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ react16ç”Ÿå‘½å‘¨æœŸ åºŸå¼ƒçš„ä¸‰ä¸ªç”Ÿå‘½å‘¨æœŸï¼š componentWillMount componentWillReceiveProps componentWillUpdate å¦‚æžœä½ åœ¨react16ä¸­è¿˜ç»§ç»­ä½¿ç”¨è¿™å‡ ä¸ªä»€ä¹ˆå‘¨æœŸï¼Œ ä»–å°±ä¼šæç¤ºä½ è¿™æ˜¯ä¸å®‰å…¨çš„ æ–°å¢žçš„ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸ: ä¸ºäº†é…åˆfiber getDerivedStateFromProps getSnapshotBeforeUpdate æˆ‘è¿™ä¸ªäººè¯´è¯æ¯”è¾ƒç®€å•ï¼Œ æˆ‘å°±ç®€ä»‹çš„è¯´ä¸€ä¸‹è¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸä¸»è¦çš„åŠŸèƒ½åŠè§£å†³çš„é—®é¢˜ï¼Œ å…·ä½“çš„é•¿ç¯‡å¤§è®ºä¸å¥½æè¿°ï¼Œä¹Ÿä¸æ˜¯æˆ‘æ“…é•¿çš„äº‹æƒ…ï¼Œ æˆ‘åœ¨ä¸‹é¢ç»™å‡ºäº†ä¸¤ä»½ä¸é”™çš„æ–‡ç« ï¼Œ æ–¹ä¾¿è‡ªå·±å›žå¿†ç»†èŠ‚ï¼Œ ä¹Ÿæ–¹ä¾¿å¤§å®¶ç†è§£ getDerivedStateFromProps ç”¨æ¥å–ä»£componentWillReceiveProps, æ˜¯ä¸€ä¸ªé™æ€æ–¹æ³• æŽ¥æ”¶ä¸¤ä¸ªå‚æ•° nextProps, prePropsæ˜¯ä¸€ä¸ªå°†æŽ¥æ”¶åˆ°çš„propsæ˜ å°„åˆ°stateçš„æ–¹æ³•å…·ä½“æ˜ å°„è§„åˆ™æ ¹æ®è¯¥æ–¹æ³•çš„è¿”å›žå€¼ï¼Œ æ¯”å¦‚ï¼Œå¦‚æžœè¿™æ ·ï¼Œè¿”å›žä¸€ä¸ªname123static getDerivedStateFromProps(nextProps, prevProps) &#123; return &#123; name: "å¼ ä¸‰" &#125;&#125; éšå³æˆ‘ä»¬æ‰“å°ä¸€ä¸‹stateæˆ‘ä»¬å‘çŽ°ï¼Œè¿”å›žçš„name ç¡®å®žå‡ºçŽ°åœ¨äº†state, å°½ç®¡è¿™æ˜¯æˆ‘åˆ›é€ å‡ºæ¥çš„ï¼Œ è€Œä¸æ˜¯propsä¸Šä¼ å…¥çš„ å¦‚æžœæˆ‘ä»¬ä¸æƒ³å®ƒæ˜ å°„åˆ°state, æˆ‘ä»¬å¯ä»¥è¿”å›žä¸€ä¸ªnull æ ¹æ®è¿™ä¸ªç‰¹æ€§åˆ©ç”¨ä¼ å…¥çš„nextProps, prevPropsä¸¤ä¸ªå‚æ•°ï¼Œ æˆ‘ä»¬å°±å¯ä»¥åšç±»ä¼¼ shouldComponentUpdateçš„æ“ä½œ getSnapshotBeforeUpdate è¯¥æ–¹æ³•èŽ·å–ä¸Šä¸€æ¬¡renderæ—¶çš„é•œåƒ æŽ¥æ”¶ prevProps, prevState ä¸¤ä¸ªå‚æ•° æ–°çš„getSnapshotBeforeUpdateç”Ÿå‘½å‘¨æœŸåœ¨æ›´æ–°ä¹‹å‰è¢«è°ƒç”¨ï¼ˆä¾‹å¦‚ï¼Œåœ¨DOMè¢«æ›´æ–°ä¹‹å‰ï¼‰ã€‚æ­¤ç”Ÿå‘½å‘¨æœŸçš„è¿”å›žå€¼å°†ä½œä¸ºç¬¬ä¸‰ä¸ªå‚æ•°ä¼ é€’ç»™componentDidUpdateã€‚ ï¼ˆè¿™ä¸ªç”Ÿå‘½å‘¨æœŸä¸æ˜¯ç»å¸¸éœ€è¦çš„ï¼Œä½†å¯ä»¥ç”¨äºŽåœ¨æ¢å¤æœŸé—´æ‰‹åŠ¨ä¿å­˜æ»šåŠ¨ä½ç½®çš„æƒ…å†µã€‚ï¼‰ ä¸ŽcomponentDidUpdateä¸€èµ·ï¼Œè¿™ä¸ªæ–°çš„ç”Ÿå‘½å‘¨æœŸå°†è¦†ç›–æ—§ç‰ˆcomponentWillUpdateçš„æ‰€æœ‰ç”¨ä¾‹ã€‚ æ¥çœ‹ä¸€ä¸‹æ¯æ¬¡çš„æ‰“å°ç»“æžœ12345getSnapshotBeforeUpdate(prevProps, prevState) &#123; console.log(`---ç¬¬$&#123;times++&#125;æ¬¡renders---`) console.log('prevProps', prevProps) console.log('prevState', prevState)&#125; å…³äºŽè¿™ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸï¼Œ æœ‰ä¸¤ä¸ªä¸ªæ¯”è¾ƒå¥½çš„æ–‡ç« ï¼š ç†è®ºåž‹æ–‡ç«  ä½¿ç”¨åž‹æ–‡ç«  å‚è€ƒæ–‡çŒ®: https://www.jianshu.com/p/50fe3fb9f7c3https://blog.csdn.net/nnxxyy1111/article/details/80832525#%E4%BB%80%E4%B9%88%E6%98%AFmemoizationhttps://www.zcfy.cc/article/update-on-async-rendering]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘react16æ–°å¢žé”™è¯¯å¤„ç†ç”Ÿå‘½å‘¨æœŸ]]></title>
    <url>%2F2019%2F04%2F12%2F%E3%80%90React%E3%80%91react16%E6%96%B0%E5%A2%9E%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%2F</url>
    <content type="text"><![CDATA[React16æ–°å¢žäº†ä¸€ä¸ªç”¨äºŽé”™è¯¯å¤„ç†çš„ç”Ÿå‘½å‘¨æœŸï¼Œ æœ‰äº†è¿™ä¸ªæ³•å®ï¼Œæˆ‘ä»¬å°±èƒ½é’ˆå¯¹ç»„ä»¶çš„é”™è¯¯åšå¾ˆå¤šäº‹æƒ…å•¦ï¼Œ æ¥çœ‹çœ‹æ€Žä¹ˆç”¨ ä½¿ç”¨ç¤ºä¾‹1234567891011121314151617181920export default class Errorfun extends Component &#123; constructor( props) &#123; super(props) this.state = &#123; hasError: false &#125; &#125; // æ•æ‰é”™è¯¯å’Œé”™è¯¯ä¸ŠæŠ¥ç¨‹åºåº“ä¸€èµ·ä½¿ç”¨ componentDidCatch(err, info) &#123; this.setState(&#123; hasError: true &#125;) &#125; render() &#123; if ( this.state.hasError ) &#123; return &lt;div&gt;Somthing error &lt;/div&gt; &#125; return ( &lt;div&gt; Hello React &lt;/div&gt; ) &#125;&#125;]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>é”™è¯¯å¤„ç†</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘react16ä¸­å¦‚ä½•ä½¿ç”¨ref]]></title>
    <url>%2F2019%2F04%2F12%2F%E3%80%90React%E3%80%91react16%E4%B8%AD%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8ref%2F</url>
    <content type="text"><![CDATA[åœ¨ React16 æ–°ç‰ˆæœ¬ä¸­ï¼Œæ–°å¼•å…¥äº† React.createRef ä¸Ž React.forwardRef ä¸¤ä¸ª APIï¼Œæœ‰è®¡åˆ’ç§»é™¤è€çš„ string refï¼Œä½¿ ref çš„ä½¿ç”¨æ›´åŠ ä¾¿æ·ä¸Žæ˜Žç¡®ã€‚å¦‚æžœä½ çš„åº”ç”¨å·²ç»å‡çº§åˆ° React16.3+ ç‰ˆæœ¬ï¼Œé‚£å°±æ”¾å¿ƒå¤§èƒ†ä½¿ç”¨ React.createRef å§ï¼Œå¦‚æžœæš‚æ—¶æ²¡æœ‰çš„è¯ï¼Œå»ºè®®ä½¿ç”¨ callback ref æ¥ä»£æ›¿ string refã€‚ æ–°ç‰ˆçš„refå†…éƒ¨ä½¿ç”¨Symbolæ¥ä½œä¸ºæ ‡è¯†ï¼Œ å¯ä»¥çŒœæµ‹å‡ºï¼ŒReactçš„ç”¨æ„æ˜¯æƒ³é¿å…string refå¯èƒ½å¼•èµ·é‡å¤çš„é—®é¢˜ å…³è”refä½¿ç”¨æ–°ç‰ˆæœ¬çš„ref12345678910111213141516export default class Reftest extends Component &#123; constructor(props) &#123; super(props); // åˆ›å»ºref this.myRef = React.createRef(); &#125; componentDidMount() &#123; // æ‰“å°ref console.log(this.myRef) this.myRef.current.focus(); &#125; render() &#123; // æŒ‚è½½ ref return &lt;input ref=&#123;this.myRef&#125; /&gt;; &#125;&#125; ä¼ é€’å’Œè½¬å‘refåˆ©ç”¨ React.forwardRef ä¼ é€’å¤ç”¨ ref 123456789101112131415161718192021import React, &#123; Component &#125; from 'react'const TargetComponent = React.forwardRef((props, ref) =&gt; &#123; return &lt;input type="text" ref=&#123;ref&#125; /&gt;&#125;)export default class Reftest extends Component &#123; constructor(props) &#123; super(props); // åˆ›å»ºref this.myRef = React.createRef(); &#125; componentDidMount() &#123; // æ”¹å˜value this.myRef.current.value = "ä¼ é€’refæˆåŠŸ" &#125; render() &#123; // æŒ‚è½½ ref, è®©ç»„ä»¶ä¹Ÿä¿æŒrefå†™æ³• return &lt;TargetComponent ref=&#123;this.myRef&#125; /&gt; &#125;&#125; ç»“æžœå¦‚ä¸‹: å‚è€ƒæ–‡çŒ®: https://blog.csdn.net/qq_24147051/article/details/81218688]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘ä½¿ç”¨Contexté¿å…å¤šå±‚åµŒå¥—]]></title>
    <url>%2F2019%2F04%2F12%2F%E3%80%90React%E3%80%91%E4%BD%BF%E7%94%A8Context%E9%81%BF%E5%85%8D%E5%A4%9A%E5%B1%82%E5%B5%8C%E5%A5%97%2F</url>
    <content type="text"><![CDATA[ç”¨è¿‡redux + react-reduxçš„åŒå­¦ï¼Œåº”è¯¥ä¼šè§‰å¾—æ–°çš„Context APIå¾ˆçœ¼ç†Ÿã€‚è€Œæœ‰çœ‹è¿‡react-reduxæºç çš„åŒå­¦å°±çŸ¥é“ï¼Œreact-reduxæœ¬èº«å°±æ˜¯åŸºäºŽæ—§ç‰ˆæœ¬çš„Context APIå®žçŽ°çš„ã€‚ æ—¢ç„¶å·²ç»æœ‰äº†çŽ°æˆçš„è§£å†³æ–¹æ¡ˆï¼Œä¸ºä»€ä¹ˆè¿˜ä¼šæœ‰æ–°çš„Context APIå‘¢ï¼Ÿ çŽ°æœ‰Context APIçš„å®žçŽ°å­˜åœ¨ä¸€å®šé—®é¢˜ï¼šæ¯”å¦‚å½“çˆ¶ç»„ä»¶çš„shouldComponentUpdateæ€§èƒ½ä¼˜åŒ–ï¼Œå¯èƒ½ä¼šå¯¼è‡´æ¶ˆè´¹äº†contextæ•°æ®çš„å­ç»„ä»¶ä¸æ›´æ–°ã€‚ é™ä½Žå¤æ‚åº¦ï¼šç±»ä¼¼reduxå…¨å®¶æ¡¶è¿™æ ·çš„è§£å†³æ–¹æ¡ˆï¼Œç»™é¡¹ç›®å¼•å…¥äº†ä¸€å®šçš„å¤æ‚åº¦ï¼Œå°¤å…¶æ˜¯å¯¹æ–¹æ¡ˆäº†è§£ä¸è¶³çš„åŒå­¦ï¼Œé‡åˆ°é—®é¢˜å¯èƒ½ä¸€ç­¹èŽ«å±•ã€‚æ–°Context APIçš„å¼•å…¥ï¼Œä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥å‡å°‘ä¸å°‘é¡¹ç›®å¯¹reduxå…¨å®¶æ¡¶çš„ä¾èµ–ã€‚ è§£å†³å¤šå±‚ç»„ä»¶åµŒå¥— åˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡åˆ©ç”¨æ–°çš„APIåˆ›å»ºä¸€ä¸ªä¸Šä¸‹æ–‡ï¼Œ æŽ¥æ”¶è¿”å›žçš„Provider, Consumer12import React, &#123; Component &#125; from 'react'const &#123; Provider, Consumer &#125; = React.createContext("default") å®šä¹‰çˆ¶å®¹å™¨åœ¨æ­¤çˆ¶å®¹å™¨å†…éƒ¨ä½¿ç”¨ProvideråŒ…è£¹ä½æ’æ§½ä¼ å…¥çš„å­ç»„ä»¶ï¼Œ ä¼ å…¥Providerçš„å€¼å’ŒstateæŒ‚é’©ï¼Œ å¹¶ä¸”æˆ‘å°†ä¸¤ä¸ªå€¼éƒ½å®žçŽ°äº†åŒå‘ç»‘å®šï¼Œä»¥ä¾¿äºŽæŸ¥çœ‹ä½¿ç”¨contextæ–¹æ³•ä¼ é€’çš„å˜é‡èƒ½å¦åŠæ—¶åˆ·æ–° 12345678910111213141516171819202122class Parent extends Component &#123; state = &#123; name: "å¼ ä¸‰", age: 12 &#125; render() &#123; const &#123; name, age &#125; = this.state return ( &lt;div&gt; å§“åï¼š &lt;input onChange=&#123; e=&gt; this.setState(&#123; name: e.target.value &#125;)&#125; value=&#123;name&#125; /&gt; å¹´é¾„: &lt;input onChange=&#123; e=&gt; this.setState(&#123; age: e.target.value &#125;)&#125; value=&#123;age&#125; /&gt; &lt;Provider value=&#123;&#123; name, age &#125;&#125;&gt; &#123;this.props.children&#125; &lt;/Provider&gt; &lt;/div&gt; ) &#125;&#125; åˆ›å»ºä¸¤ä¸ªå­ç»„ä»¶ä¸¤ä¸ªå­ç»„ä»¶åˆ†åˆ«ç”¨æŽ¥æ”¶ä¸€ä¸ªå‚æ•°ï¼Œ å½“ç„¶ä½ ä¹Ÿå¯ä»¥æŽ¥æ”¶å¤šä¸ªçš„123456789101112131415161718192021222324// æˆ‘ç”¨æ¥å±•ç¤ºnamefunction Child01() &#123; return ( &lt;Consumer&gt; &#123; value =&gt; ( &lt;div&gt;&#123;value.name&#125;&lt;/div&gt; ) &#125; &lt;/Consumer&gt; )&#125;// æˆ‘ç”¨æ¥å±•ç¤ºagefunction Child02() &#123; return ( &lt;Consumer&gt; &#123; value =&gt; ( &lt;div&gt;&#123;value.age&#125;&lt;/div&gt; ) &#125; &lt;/Consumer&gt; )&#125; ç»„ä»¶æ•´åˆç”¨Parentç»„ä»¶å°†ä¸¤ä¸ªChildåŒ…è£¹ï¼Œ ä¹Ÿå°±æ˜¯ä¸Šé¢è¯´çš„æ’æ§½123456export default () =&gt; ( &lt;Parent &gt; &lt;Child01 /&gt; &lt;Child02 /&gt; &lt;/Parent&gt;) æœ€ç»ˆæ•ˆæžœ: å®Œæ•´ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455import React, &#123; Component &#125; from 'react'const &#123; Provider, Consumer &#125; = React.createContext("default")class Parent extends Component &#123; state = &#123; name: "å¼ ä¸‰", age: 12 &#125; render() &#123; const &#123; name, age &#125; = this.state return ( &lt;div&gt; å§“åï¼š &lt;input onChange=&#123; e=&gt; this.setState(&#123; name: e.target.value &#125;)&#125; value=&#123;name&#125; /&gt; å¹´é¾„: &lt;input onChange=&#123; e=&gt; this.setState(&#123; age: e.target.value &#125;)&#125; value=&#123;age&#125; /&gt; &lt;Provider value=&#123;&#123; name, age &#125;&#125;&gt; &#123;this.props.children&#125; &lt;/Provider&gt; &lt;/div&gt; ) &#125;&#125;function Child01() &#123; return ( &lt;Consumer&gt; &#123; value =&gt; ( &lt;div&gt;&#123;value.name&#125;&lt;/div&gt; ) &#125; &lt;/Consumer&gt; )&#125;function Child02() &#123; return ( &lt;Consumer&gt; &#123; value =&gt; ( &lt;div&gt;&#123;value.age&#125;&lt;/div&gt; ) &#125; &lt;/Consumer&gt; )&#125;export default () =&gt; ( &lt;Parent &gt; &lt;Child01 /&gt; &lt;Child02 /&gt; &lt;/Parent&gt;)]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘memoä¸ºå‡½æ•°ç»„ä»¶åˆ›é€ shouldComponentUpdate]]></title>
    <url>%2F2019%2F04%2F12%2F%E3%80%90React%E3%80%91memo%E4%B8%BA%E5%87%BD%E6%95%B0%E7%BB%84%E4%BB%B6%E5%88%9B%E9%80%A0shouldComponentUpdate%2F</url>
    <content type="text"><![CDATA[React v16.6.0å‡ºäº†ä¸€äº›æ–°çš„åŒ…è£…å‡½æ•°(wrapped functions)ï¼Œä¸€ç§ç”¨äºŽå‡½æ•°ç»„ä»¶PureComponent / shouldComponentUpdateå½¢å¼çš„React.memo() React.memo()æ˜¯ä¸€ä¸ªé«˜é˜¶å‡½æ•°ï¼Œå®ƒä¸Ž React.PureComponentç±»ä¼¼ï¼Œä½†æ˜¯ä¸€ä¸ªå‡½æ•°ç»„ä»¶è€Œéžä¸€ä¸ªç±»ã€‚ åˆ©ç”¨memoæˆ‘ä»¬å°±èƒ½å‡½æ•°ç»„ä»¶åˆ›é€ ä¸ºPurecomponent æ€»ä¹‹å°±æ˜¯ï¼Œ åœ¨ä»Šå¤©ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½ä¸ºå‡½æ•°ç»„ä»¶åšæ€§èƒ½ä¼˜åŒ–äº†ï¼Œ å°±è®©æˆ‘ä»¬æ¥æ¼”ç¤ºä¸‹å…·ä½“å¦‚ä½•ä½¿ç”¨ å…ˆåˆ›å»ºä¸€ä¸ªæ™®é€šçš„å‡½æ•°ç»„ä»¶è¿™æ˜¯ä¸€ä¸ªæœ€æ™®é€šçš„å‡½æ•°ç»„ä»¶ï¼Œ æŽ¥æ”¶ä¸€ä¸ªnameçš„propså‚æ•°12345// åˆ›å»ºä¸€ä¸ªå‡½æ•°ç»„ä»¶function Child(&#123; name &#125;) &#123; console.log('I am rendering') return &lt;div&gt;Memoç»„ä»¶ name =&gt; &#123; name &#125;&lt;/div&gt;&#125; æ˜¾å¼åœ°shouldComponentUpdateç„¶åŽæˆ‘ä»¬ä¸ºå…¶é‡èº«å®šåˆ¶ä¸€ä¸ªshouldComponentUpdate1234567function areEqual(prevProps, nextProps) &#123; if( prevProps.name == nextProps.name ) &#123; return true &#125; else &#123; return false &#125;&#125; äº§ç”Ÿå‡ºä¸€ä¸ªæ–°ç»„ä»¶åˆ©ç”¨memoè¿™ä¸ªé«˜é˜¶å‡½æ•°ï¼Œæˆ‘ä»¬åˆ›é€ å‡ºä¸€ä¸ªæ–°çš„ç»„ä»¶ï¼Œè¿™å°†ä¼šæ˜¯ä¸ªæ‹¥æœ‰shouldComponentUpdateçš„å‡½æ•°ç»„ä»¶12import React, &#123; memo, Component &#125; from 'react'const DemoComponent = memo(Child, areEqual) æŸ¥çœ‹ç»“æžœæœ€åŽæˆ‘ä»¬å°†å…¶æ”¾å…¥renderå‡½æ•°ï¼Œ è®©å®ƒæ¸²æŸ“å‡ºæ¥ï¼Œ å¹¶ä¼ å…¥åˆšåˆšè®¾å®šçš„nameå‚æ•°1234567891011export default class Menotest extends Component &#123; render() &#123; return ( &lt;div&gt; &#123;/* secondsä½œä¸ºPropsä¼ å…¥ */&#125; &lt;DemoComponent name="å°æ˜Ž" /&gt; &lt;/div&gt; ) &#125;&#125; ç»“æžœå¦‚ä¸‹: å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627import React, &#123; memo, Component &#125; from 'react'// åˆ›å»ºä¸€ä¸ªå‡½æ•°ç»„ä»¶function Child(&#123; name &#125;) &#123; console.log('I am rendering') return &lt;div&gt;Memoç»„ä»¶ name =&gt; &#123; name &#125;&lt;/div&gt;&#125;// æ³¨æ„ å‡½æ•°ç»„ä»¶æ²¡æœ‰state , æ˜¾å¼çš„shouldComponentUpdatefunction areEqual(prevProps, nextProps) &#123; if( prevProps.name == nextProps.name ) &#123; return true &#125; else &#123; return false &#125;&#125;const DemoComponent = memo(Child, areEqual)export default class Menotest extends Component &#123; render() &#123; return ( &lt;div&gt; &#123;/* secondsä½œä¸ºPropsä¼ å…¥ */&#125; &lt;DemoComponent name="å°æ˜Ž" /&gt; &lt;/div&gt; ) &#125;&#125;]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘react16.6ä¸­å¦‚ä½•å¤„ç†å¼‚æ­¥&&æŒ‰éœ€åŠ è½½]]></title>
    <url>%2F2019%2F04%2F11%2F%E3%80%90React%E3%80%91react16.6%E4%B8%AD%E5%A6%82%E4%BD%95%E5%A4%84%E7%90%86%E5%BC%82%E6%AD%A5%26%26%E6%8C%89%E9%9C%80%E5%8A%A0%E8%BD%BD%2F</url>
    <content type="text"><![CDATA[å½“å‰å¤§éƒ¨åˆ† React åº”ç”¨éœ€è¦ä½¿ç”¨ code splitting çš„æ—¶å€™ï¼Œéƒ½é€‰æ‹©ä½¿ç”¨ä¼˜ç§€çš„ react-loadable æ¥å¤„ç†æ£€æµ‹ä»£ç æ®µæ˜¯å¦å·²åŠ è½½ã€‚ç„¶è€Œï¼Œéšç€React v16.6 çš„å‘å¸ƒï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªéžå¸¸éš¾å¾—çš„æœºä¼š ï¼Œå¯ä»¥åˆ é™¤æˆ‘ä»¬çš„ç¬¬ä¸‰æ–¹ä¾èµ–ï¼ React.Suspenseæ˜¯ä¸€ä¸ªæ–°æ·»åŠ åˆ°æ ¸å¿ƒReactåº“ä¸­çš„åŠŸèƒ½ï¼Œä»–çš„åŠŸèƒ½åŸºæœ¬å’Œ react-loadable ä¸€è‡´ï¼Œæ‰€ä»¥ä¸ç”¨å¤šè¯´ï¼Œè®©æˆ‘ä»¬æ¥çœ‹çœ‹ç”¨ React.Suspense æ›¿æ¢ react-loadableã€‚ Suspense çš„å¥½å¤„æ˜¯ä¸ä¸€å®šåªèƒ½å¤„ç†ç»„ä»¶çš„æŒ‰éœ€åŠ è½½ï¼Œ ä¹Ÿèƒ½ç”¨æ¥å¤„ç†å…¶ä»–çš„å¼‚æ­¥äº‹ä»¶ å¤„ç†å¼‚æ­¥ è‡ªå·±å®žçŽ°æµç¨‹ é¦–å…ˆåˆ›å»ºä¸€ä¸ªPromise ï¼Œ æ¨¡æ‹Ÿä¸€ä¸ªå¼‚æ­¥è¯·æ±‚12345678function fetchApi() &#123; const promise = new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve('data resolved') &#125;, 3000) &#125;) return promise&#125; å®žçŽ°å¤„ç†promiseå¼‚æ­¥çš„é€»è¾‘12345678910111213141516171819202122232425262728import React, &#123; Suspense, Component &#125; from 'react'// åˆ›å»ºFetcher var cached = &#123;&#125;// æŽ¥æ”¶ä¸€ä¸ªä¸ºpromise çš„å‚æ•°const createFetcher = promiseTask =&gt; &#123; // å°†ref å¤åˆ¶ä¸º cached let ref = cached return () =&gt; &#123; // è¿”å›žä¸€ä¸ª promise const task = promiseTask() // task task.then(res =&gt; &#123; // ref å¤åˆ¶ä¸º res, ä¹Ÿå°±æ˜¯promise çš„è¿”å›žç»“æžœ ref = res &#125;) // ------æ³¨æ„æ­¤å¤„çš„ console -------- console.log('è¿›å…¥ref === cachedçš„åˆ¤æ–­') // å¦‚æžœ ref æ²¡æœ‰å‘ç”Ÿæ”¹å˜ï¼Œ ä»æ—§å’Œcachedç›¸ç­‰ if (ref === cached) &#123; // æŠ›å‡º task throw task &#125; // å¾—åˆ°ç»“æžœè¾“å‡º console.log('ðŸŽ', ref) // æ­£å¸¸è¿”å›ž ref ï¼Œ æ­¤æ—¶å·²æ˜¯promise çš„ç»“æžœ return ref &#125;&#125; æˆ‘ä»¬å°†å¼‚æ­¥äº‹ä»¶ä¼ å…¥åˆšåˆšå®šä¹‰çš„createFtecher1const requestData = createFetcher(fetchApi) åˆ›å»ºä¸€ä¸ªå‡½æ•°ç»„ä»¶ï¼Œ ç”¨äºŽæ˜¾ç¤ºå¤„ç†å¥½çš„å¼‚æ­¥ç»“æžœ1234function SuspenseComp() &#123; const data = requestData() return &lt;p className="name"&gt;&#123;data&#125;&lt;/p&gt;&#125; é‡ç‚¹æ¥äº†ï¼Œ ä½¿ç”¨Suspenseç»„ä»¶åŒ…è£¹ä½ï¼Œ ä½¿ç”¨fallbackå‚æ•°ä¼ å…¥æœªåŠ è½½å®Œæˆçš„æ—¶å€™çš„æ ·å¼, æˆ‘ä»¬è¿™é‡Œä¼ å…¥ä¸€ä¸ªloadingçš„æ–‡å­—æ„æ€æ„æ€123456789class Test extends Component &#123; render() &#123; return ( &lt;Suspense fallback=&#123;&lt;div&gt;loading&lt;/div&gt;&#125; &gt; &lt;SuspenseComp /&gt; &lt;/Suspense&gt; ) &#125;&#125; æ¥çœ‹ä¸€ä¸‹æ•ˆæžœï¼Œ åœ¨ç»è¿‡ä¸€æ®µäº‹ä»¶çš„Loading åŽæˆåŠŸçš„æ˜¾ç¤ºé™¤äº†æˆ‘ä»¬åœ¨setTimeoutä¸­è¿”å›žçš„æ–‡å­— åŽŸç†åˆ†æžä»”ç»†è§‚çœ‹ä¸Šé¢çš„æ•ˆæžœå›¾ æˆ‘ä»¬çœ‹åˆ°è¿›å…¥ref === cachedçš„åˆ¤æ–­ è¿™æ¡è¯­å¥å‡ºçŽ°äº†äºŒæ¬¡ï¼Œ ç»§è€Œæ‰å‡ºçŽ°äº†æœ€ç»ˆç»“æžœdata resolvedï¼Œè¿˜è®°å¾—åœ¨createFetcherå‡½æ•°ä¸­æŠ›å‡ºçš„taskå—ï¼Œ å®ƒå°±æ˜¯åˆ©ç”¨è¿™æ ·ä¸€ç§æ–¹æ³•ï¼Œ æŠ›å‡ºé”™è¯¯ï¼Œè®©Suspense æ¥æŽ¥æ”¶ï¼Œ å¦‚æžœæŠ›å‡ºäº†é”™è¯¯ï¼Œ å°±éš”ä¸€ä¼šç»§ç»­æ¥ä¸€æ¬¡ï¼Œ å…¶å®žå°±å¯ä»¥ç†è§£ä¸ºè½®è¯¢ å¤„ç†ç»„ä»¶ç»„ä»¶å°±æ¯”ä¸Šé¢ç®€å•å¤šäº†, Reactå°±æä¾›äº†ä¸€ä¸ª lazyæ–¹æ³• æˆ‘ä»¬åªéœ€è¦è¿™æ ·å³å¯ï¼Œ éžå¸¸çš„å¿«æ·1lazy(() =&gt; import("./xxx")) æ¥çœ‹çœ‹å®žé™…å¦‚ä½•ä½¿ç”¨123456789101112131415161718192021222324252627282930// å¼•å…¥`lazy` å’Œ `Suspense`import React, &#123; Suspense, Component, lazy &#125; from 'react'// åŠ è½½å¼‚æ­¥ç»„ä»¶const LazyComp = lazy(() =&gt; import("./lazy"))class Test extends Component &#123; render() &#123; return ( &lt;div&gt; &lt;Suspense fallback=&#123;&lt;div&gt;loading&lt;/div&gt;&#125; &gt; &#123; /* lazy ç»„ä»¶ */ &#125; &lt;LazyComp /&gt; &lt;/Suspense&gt; &lt;/div&gt; ) &#125;&#125;// è¢«åŠ è½½çš„lazyç»„ä»¶class Lazy extends Component &#123; render() &#123; return ( &lt;div&gt; my name lazy &lt;/div&gt; ) &#125;&#125; æ¥ï¼Œ è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹æ•ˆæžœ åŠ è½½é¡ºåºé‚£ä¸Šé¢ä¸¤ä¸ªä¾‹å­ä¸­çš„ç»„ä»¶SuspenseComp å’Œ LazyComp éƒ½æ”¾åœ¨Suspense é‡Œé¢å‘¢ï¼Œåˆ°åº•æ˜¯å„ç®¡å„çš„è¿˜æ˜¯ä¸€èµ·å®Œæˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬å®žè·µä¸€ä¸‹12345678910class Test extends Component &#123; render() &#123; return ( &lt;Suspense fallback=&#123;&lt;div&gt;loading&lt;/div&gt;&#125; &gt; &lt;SuspenseComp /&gt; &lt;LazyComp /&gt; &lt;/Suspense&gt; ) &#125;&#125; æ•ˆæžœå¦‚ä¸‹: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°,å°½ç®¡SuspenseComp å’ŒLazyComp åŠ è½½é€Ÿåº¦ä¸åŒ, ä½†æ˜¯å®ƒä»æ—§æ˜¯ç­‰å¾…Suspense ä¸­çš„æ‰€æœ‰ç»„ä»¶éƒ½åŠ è½½å®ŒæˆåŽæ‰æ˜¾ç¤ºå‡ºæ¥ å¤„ç†å¼‚æ­¥-Hooksç‰ˆæœ¬Hooks å¤„ç†å¼‚æ­¥åªéœ€è¦çŸ­çŸ­çš„å‡ è¡Œï¼Œå°±æœ‰äº†ç›¸åŒçš„æ•ˆæžœ12345678import &#123; useFetch &#125; from 'react-hooks-fetch'function SuspenseComp() &#123; const &#123;error, data&#125; = useFetch("a.php") if( error ) return &lt;span&gt;å‡ºé”™äº†ðŸ™‚&lt;/span&gt; if( !data ) return null return &lt;span&gt;result&#123;data.title&#125;&lt;/span&gt;&#125; çœŸé¦™ éžHooksç‰ˆæœ¬å…¨éƒ¨ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354import React, &#123; Suspense, Component, lazy &#125; from 'react'// React è‡ªå¸¦çš„lazyç»„ä»¶ï¼Œè‡ªå·±ä¼šç¼–è¯‘ ï¼ˆé¿å…è¢«webpackæ‰“åŒ…æˆjsï¼‰const LazyComp = lazy(() =&gt; import("./lazy"))function fetchApi() &#123; const promise = new Promise(resolve =&gt; &#123; setTimeout(() =&gt; &#123; resolve('data resolved') &#125;, 3000) &#125;) return promise&#125;// åˆ›å»ºFetcher var cached = &#123;&#125;const createFetcher = promiseTask =&gt; &#123; let ref = cached return () =&gt; &#123; // è¿”å›žä¸€ä¸ªpromise const task = promiseTask() task.then(res =&gt; &#123; ref = res &#125;) console.log('è¿›å…¥ref === cachedçš„åˆ¤æ–­') if (ref === cached) &#123; throw task &#125; // å¾—åˆ°ç»“æžœè¾“å‡º console.log('ðŸŽ', ref) return ref &#125;&#125;const requestData = createFetcher(fetchApi)function SuspenseComp() &#123; const data = requestData() return &lt;p className="name"&gt;&#123;data&#125;&lt;/p&gt;&#125;class Test extends Component &#123; render() &#123; return ( &lt;div&gt; &lt;Suspense fallback=&#123;&lt;div&gt;loading&lt;/div&gt;&#125; &gt; &lt;SuspenseComp /&gt; &lt;LazyComp /&gt; &lt;/Suspense&gt; &lt;/div&gt; ) &#125;&#125;export default Test]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åŽŸç”Ÿå®žçŽ°ä¸€ä¸ªajax]]></title>
    <url>%2F2019%2F04%2F10%2F%E5%8E%9F%E7%94%9F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAajax%2F</url>
    <content type="text"><![CDATA[åŽŸç”Ÿ AJAXä»€ä¹ˆæ˜¯AJAX Asynchronous JavaScript &amp; XML è¯·æ±‚XMLçš„å¼‚æ­¥æŠ€æœ¯ webå¼€å‘çš„ä¸€ç§æŠ€æœ¯ å¼‚æ­¥å‘é€ &amp; è¯·æ±‚æ•°æ® ä¸éœ€è¦é‡æ–°åˆ·æ–°å½“å‰é¡µé¢ ç›®å‰ JSON æ•°æ®æ ¼å¼ä»¥åŠå æ®å¸‚åœº è¯·æ±‚ç  å’Œ çŠ¶æ€ç readyState è¯·æ±‚ç  0 : è¯·æ±‚æœªåˆå§‹åŒ– ( æ²¡æœ‰ XHR å¯¹è±¡ ) 1 : æœåŠ¡å™¨è¿žæŽ¥å·²å»ºç«‹ 2 : è¯·æ±‚å·²æŽ¥å— 3 : è¯·æ±‚å¤„ç†ä¸­ 4 : è¯·æ±‚å·²å®Œæˆ, ä¸”ç›¸åº”å·²å°±ç»ª HTTP çŠ¶æ€ç  200 - æœåŠ¡å™¨æˆåŠŸè¿”å›žç½‘é¡µ 300 - è¯·æ±‚åœ°å€é”™è¯¯,é‡å®šå‘ 400 - è¯·æ±‚é”™è¯¯ 404 - è¯·æ±‚çš„ç½‘é¡µä¸å­˜åœ¨ 500 - æœåŠ¡ç«¯é”™è¯¯ 503 - æœåŠ¡å™¨æš‚æ—¶ä¸å¯ç”¨ åˆ›å»º XMLHttpRequest å¯¹è±¡1var xhr = new XMLHttpRequest() open() è¯·æ±‚éƒ¨ç½²é˜¶æ®µ xhr.open( type è¯·æ±‚ç±»åž‹ , url/filename è·¯å¾„æˆ–æ–‡ä»¶å , asyncæ˜¯å¦è¦ä½¿ç”¨å¼‚æ­¥) GET è¯·æ±‚ å‚æ•°å†™åœ¨ URL ä¸­1xhr.open('GET', 'http://jsonplaceholder.typicode.com/users', true) ä¸¤ç§æ–¹å¼è¯·æ±‚ onload å’Œ onreadystatechange è¯·æ±‚æˆåŠŸåŽä¼šè¿”å›žæœåŠ¡å™¨ è¿”è¿˜çš„ç›¸åº”å†…å®¹ responseText onload åªæœ‰è¯·æ±‚ç ä¸º 4 æ—¶æ‰ä¼šè¿›å…¥ onload123xhr.onload = function()&#123; console.log(this.responseText)&#125; onprogress æ•èŽ· ä¸º3 çš„è¯·æ±‚ç 123xhr.onprogress =function()&#123; console.log(this.readyState)&#125; onreadystatechange éœ€è¦åˆ¤æ–­è¿”å›žçš„è¯·æ±‚ç  , ç›´æŽ¥è¾“å‡ºä¼šè¿”å›žä¸¤æ¬¡æ•°æ® 123xhr.onreadystatechange = function()&#123; console.log(this.responseText)&#125; readyState è¿”å›žè¯·æ±‚ç çš„ä½ç½®ä¸Žé¡ºåº12345678var xhr = new XMLHttpRequest()console.log(xhr.readyState) // 0xhr.open('GET', 'http://jsonplaceholder.typicode.com/users', true)console.log(xhr.readyState) // 1xhr.onreadystatechange = function()&#123; console.log('readyState:',xhr.readyState) // 2 , 3 , 4&#125;xhr.send() status çŠ¶æ€ç  æ¯æ¬¡éƒ½å’Œè¯·æ±‚ç ä¸€åŒè¢«è¿”å›ž æ ¹æ® è¯·æ±‚ç  å’Œ çŠ¶æ€ç  æ¥æ“ä½œæ•°æ®ä¸€ä¸ªå®Œæ•´çš„ GET è¯·æ±‚12345678var xhr = new XMLHttpRequest() xhr.open('GET', 'http://jsonplaceholder.typicode.com/users', true) xhr.onreadystatechange = function()&#123; if(this.status == 200 &amp;&amp; this.readyState == 4)&#123; console.log(this.responseText) &#125; &#125; xhr.send() å‘é€è¯·æ±‚ GET ç›´æŽ¥å‘é€ POST éœ€è¦å¸¦ä¸Šè¦å‘é€çš„ è¯·æ±‚ä½“ æ•°æ®1xhr.send()]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€imoocã€‘HTML5&CSS3]]></title>
    <url>%2F2019%2F04%2F10%2F%E3%80%90imooc%E3%80%91HTML5-CSS3%2F</url>
    <content type="text"><![CDATA[HTML5 + CSS3è¯­ä¹‰åŒ–æ ‡ç­¾ æ ‡ç­¾å ä½œç”¨ nav å¯¼èˆª header é¡µçœ‰ footer æ–‡æ¡£æˆ–è€…é¡µçš„é¡µè„š main ä¸»è¦å†…å®¹ article æ–‡ç« æˆ–çƒ­ç‚¹åŒº aside ä¸»é¢˜å†…å®¹ä¹‹å¤– è¯­ä¹‰åŒ–æ ‡ç­¾çš„å…¼å®¹æ€§ IE9: è¡Œçº§å…ƒç´ åœ¨è®¾ç½®å®½åº¦çš„æ—¶å€™å¤±æ•ˆ, è§£å†³æ–¹æ³•: display : block IE8: å®Œå…¨ä¸æ”¯æŒè¯­ä¹‰æ ‡ç­¾( ä¸æ”¯æŒhtml5 ) ,è§£å†³æ–¹æ³•: document.createElement(&#39;header&#39;) æˆ–å¼•å…¥ç¬¬ä¸‰æ–¹æ’ä»¶ html5shiv form æ–°å¢žçš„å±žæ€§ autofocus æµè§ˆå™¨æ‰“å¼€è‡ªåŠ¨èŽ·å¾—ç„¦ç‚¹ autocomplete=â€onâ€ è¡¨å•å†…å®¹è‡ªåŠ¨å®Œæˆ,å‰æ: å¿…é¡»æˆåŠŸæäº¤è¿‡ , è¯¥æ ‡ç­¾å¿…é¡»æœ‰name å±žæ€§ required å¿…é¡»è¾“å…¥ pattern=â€ â€œ æ­£åˆ™è¡¨è¾¾å¼éªŒè¯ multiple å¯¹äºŽfile æ ‡ç­¾ä½¿ç”¨, åŒæ—¶é€‰æ‹©å¤šä¸ªæ–‡ä»¶, å¯¹äºŽemail æ ‡ç­¾ä½¿ç”¨, å¯ä»¥åŒæ—¶è¾“å…¥å¤šä¸ªé‚®ç®± form=â€è¡¨å•form çš„ id â€œ å¯ä»¥è®©åœ¨form è¡¨å•å¤–éƒ¨çš„ è¡¨å•æ•°æ®ä¹Ÿå‚ä¸Žæäº¤ oninvalid å½“éªŒè¯ä¸é€šè¿‡æ—¶è§¦å‘çš„äº‹ä»¶ this.setCustomValidity(â€œ è¯·è¾“å…¥åˆæ³•çš„æ‰‹æœºå· â€œ) è¿™ä¸ªjs api å¯ä»¥ä¿®æ”¹é»˜è®¤çš„h5è¡¨å• æç¤ºå†…å®¹ dom.dataset[ &quot;myTest&quot; ] èŽ·å–è‡ªå®šä¹‰çš„data-my-Testçš„å€¼ ,èŽ·å–æ—¶è¦å˜æˆé©¼å³°å‘½å form æ–°å¢žçš„å…ƒç´  datalist å¯ä»¥è¾“å…¥çš„ä¸‹æ‹‰åˆ—è¡¨ ( firfox ä¸­ä¸æ”¯æŒ ) éœ€è¦é€šè¿‡ list=â€datalistçš„idâ€ å»ºç«‹è”ç³» å¦‚æžœ input çš„type ç±»åž‹æ˜¯url ,é‚£ä¹ˆvalueå€¼å¿…é¡»æ·»åŠ  http:// ,å› ä¸ºä¸åŠ çš„è¯è¯†åˆ«ä¸ºä¸åˆæ³•123456&lt;!-- å»ºç«‹å…³è” list=&quot;datalistçš„id&quot; --&gt;&lt;input type=&quot;text&quot; list=&quot;dt&quot;&gt;&lt;datalist id=&quot;dt&quot;&gt; &lt;option value=&quot;å“ˆå“ˆ&quot; label=&quot;10äºº&quot;&gt;å“ˆå“ˆå“ˆ&lt;/option&gt; &lt;option value=&quot;å‰ç«¯ç‰›é€¼&quot; label=&quot;18äºº&quot;&gt;å‰ç«¯ç‰›é€¼&lt;/option&gt;&lt;/datalist&gt; keygenæ ‡ç­¾ h5 æä¾›çš„åŠ å¯† , éƒ¨åˆ†æµè§ˆå™¨ä¸æ”¯æŒ , å°†è¡¨å•ä¿¡æ¯è¿›çš„æ˜¯éžå¯¹ç§°åŠ å¯†, ç”Ÿæˆå…¬é’¥å’Œç§é’¥, æäº¤æ•°æ®çš„æ—¶å€™ ä¿¡æ¯+ç§é’¥ =&gt; äºŒæ¬¡åŠ å¯† ç„¶åŽå‘é€ç»™æœåŠ¡å™¨, æœåŠ¡å™¨ç”¨æŽ¥æ”¶åˆ°çš„ å…¬é’¥è¿›è¡Œè§£å¯†æ•°æ® output æ˜¾ç¤ºè¾“å‡ºä¿¡æ¯, åªèƒ½æ˜¾ç¤ºä¸èƒ½ä¿®æ”¹ è¯­ä¹‰æ€§æ›´å¼º å€¼éœ€è¦ä½ åŽ»è®¾ç½®, ä¸èƒ½è‡ªåŠ¨è®¡ç®— å¤šåª’ä½“æ ‡ç­¾ embed ç›´æŽ¥æ’å…¥è§†é¢‘æ–‡ä»¶ï¼Œ å®ƒçš„æœ¬è´¨æ˜¯è°ƒç”¨æœ¬æœºä¸Šå·²ç»å®‰è£…çš„è½¯ä»¶ æœ‰å…¼å®¹æ€§ flashæ’ä»¶ å®‰è£…flash 1.å­¦ä¹ flash,å¢žåŠ ä½¿ç”¨æˆæœ¬ 2.è‹¹æžœè®¾å¤‡ä¸æ”¯æŒflash audio éŸ³é¢‘ src : æ’­æ”¾éŸ³é¢‘æ–‡ä»¶çš„è·¯å¾„ controls: éŸ³é¢‘æ’­æ”¾å™¨çš„æŽ§åˆ¶é¢æ¿ autoplay: è‡ªåŠ¨æ’­æ”¾ loop: å¾ªçŽ¯ video è§†é¢‘ src : æ’­æ”¾éŸ³é¢‘æ–‡ä»¶çš„è·¯å¾„ controls: éŸ³é¢‘æ’­æ”¾å™¨çš„æŽ§åˆ¶é¢æ¿ autoplay: è‡ªåŠ¨æ’­æ”¾ loop: å¾ªçŽ¯ width:å®½åº¦ height:é«˜åº¦ poster: å½“è§†é¢‘è¿˜æ²¡å®Œå…¨ä¸‹è½½ï¼Œ æˆ–è€…ç”¨æˆ·è¿˜æ²¡ç‚¹å‡»æ’­æ”¾å‰çš„é»˜è®¤æ˜¾ç¤ºçš„å°é¢ï¼Œ é»˜è®¤æ˜¯æ˜¾ç¤ºå½“å‰è§†é¢‘æ–‡ä»¶çš„ç¬¬ä¸€å¸§ è®¾ç½®å®½é«˜çš„æ—¶å€™ï¼Œä¸€èˆ¬æƒ…å†µä¸‹åªä¼šè®¾ç½®å®½åº¦æˆ–è€…é«˜åº¦ è®©å…¶è‡ªåŠ¨ç­‰æ¯”ç¼©æ”¾ï¼Œ å¦‚æžœåŒæ—¶è®¾ç½®å®½åº¦å’Œé«˜åº¦ï¼Œé‚£ä¹ˆè§†é¢‘ä¸ä¼šçœŸæ­£çš„è°ƒæ•´åˆ°è®¾ç½®çš„é«˜åº¦ï¼Œé™¤éžè®¾ç½®åˆšå¥½ç­‰æ¯”ä¾‹ å¤šä¸ªsource è®©æµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©æ”¯æŒçš„è§†é¢‘æ ¼å¼ å…ˆçœ‹ç¬¬ä¸€ä¸ªæ”¯ä¸æ”¯æŒå†çœ‹ç¬¬äºŒä¸ª 123456&lt;video autoplay controls width=&quot;600px&quot;&gt; &lt;!-- å¤šä¸ªsource è®©æµè§ˆå™¨è‡ªåŠ¨é€‰æ‹©æ”¯æŒçš„è§†é¢‘æ ¼å¼ å…ˆçœ‹ç¬¬ä¸€ä¸ªæ”¯ä¸æ”¯æŒå†çœ‹ç¬¬äºŒä¸ª --&gt; &lt;source src=&quot;http://www.baidu.com&quot; type=&quot;video/mp4&quot;&gt; &lt;source src=&quot;http://wxhboy.com/login/movies/w.mp4&quot; type=&quot;video/mp4&quot;&gt; æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒå½“å‰çš„è§†é¢‘æ’­æ”¾ &lt;/video&gt; æ“ä½œclassçš„API dom.classList.add(&#39;bg&#39;) å¢žåŠ class obj.classList.remove(&#39;bg&#39;) åˆ é™¤class obj.classList.toggle(&#39;bg&#39;) åˆ‡æ¢class å¦‚æžœå­˜åœ¨å°±åˆ é™¤,å¦‚æžœä¸å­˜åœ¨å°±å¢žåŠ è¯¥class obj.classList.contains(&#39;bg&#39;) åˆ¤æ–­æ˜¯å¦å­˜åœ¨æŸä¸ªclass , è¿”å›žå¸ƒå°”åž‹ H5æ–°å¢žçš„æŽ¥å£ API ononline ç½‘ç»œè¿žé€šæ—¶è§¦å‘è¿™ä¸ªäº‹ä»¶ ï¼Œåªåœ¨windowä¸Š onoffline ç½‘ç»œæ–­å¼€æ—¶è§¦å‘äº‹ä»¶ element.requestFullscreen å¼€å¯å…¨å± ï¼Œéœ€è¦åŠ æµè§ˆå™¨å‰ç¼€ éœ€è¦åŠ å…¼å®¹æµè§ˆå™¨çš„å‰ç¼€ chrome:webkit firefox:moz ie: ms opera: o document.cancelFullScreen å–æ¶ˆå…¨å±ï¼Œåªèƒ½æ˜¯documentå¯¹è±¡ éœ€è¦åŠ å…¼å®¹æµè§ˆå™¨çš„å‰ç¼€ chrome:webkit firefox:moz ie: ms opera: o document.fullscreenElement å–æ¶ˆå…¨å±ï¼Œåªèƒ½æ˜¯documentå¯¹è±¡ éœ€è¦åŠ å…¼å®¹æµè§ˆå™¨çš„å‰ç¼€ chrome:webkit firefox:moz ie: ms opera: o var reader = new FileReader() reader.readAsDataURL(file[0])è¯»å–æ–‡ä»¶æ–Œè½¬ä¸ºbase64 æ²¡æœ‰è¿”å›žå€¼,ä½†æ˜¯å®ƒä¼šå°†è¯»å–çš„ç»“æžœå­˜å‚¨åœ¨æ–‡ä»¶è¯»å–å¯¹è±¡çš„resultä¸­ FileReader æä¾›ä¸€ä¸ªå®Œæ•´çš„äº‹ä»¶æ¨¡åž‹, ç”¨æ¥æ•èŽ·è¯»å–æ–‡ä»¶æ—¶çš„çŠ¶æ€ onabort: è¯»å–æ–‡ä»¶ä¸­æ–­ç‰‡æ—¶è§¦å‘ onerror: è¯»å–æ–‡ä»¶é”™è¯¯æ—¶è§¦å‘ onload: æ–‡ä»¶è¯»å–æˆåŠŸå®Œæˆæ—¶è§¦å‘ * onloadend: è¯»å–å®Œæˆæ—¶è§¦å‘,æ— è®ºæˆåŠŸè¿˜æ˜¯å¤±è´¥ * onloadstart: å¼€å§‹è¯»å–æ–‡ä»¶æ—¶è§¦å‘ * onprogress: è¯»å–æ–‡ä»¶è¿‡ç¨‹ä¸­æŒç»­è§¦å‘ CSS3 é€‰æ‹©å™¨å±žæ€§é€‰æ‹©å™¨ å±žæ€§æ—¶ç›¸å¯¹äºŽæ ‡ç­¾è€Œè¨€çš„å°±æ˜¯æ ¹æ®æŒ‡å®šåç§°çš„å±žæ€§çš„å€¼æ¥æŸ¥æ‰¾å…ƒç´  li[style] æŸ¥æ‰¾åªè¦æ‹¥æœ‰ style å±žæ€§çš„æ ‡ç­¾ li[class = red ] ä¸¥æ ¼åŒ¹é… æ‹¥æœ‰class æ ·å¼å¹¶ä¸”ç­‰äºŽæŸå€¼ li[class*= red ] æŸ¥æ‰¾class ä¸­åŒ…å« red çš„æ ‡ç­¾ li[class^= red ] æŸ¥æ‰¾class ä¸­ä»¥red å¼€å¤´çš„liæ ‡ç­¾ li[class$= red ] æŸ¥æ‰¾class ä¸­ä»¥red ç»“å°¾çš„liæ ‡ç­¾ ä¼ªç±»é€‰æ‹©å™¨å…„å¼Ÿä¼ªç±» + èŽ·å–å½“å‰å…ƒç´ ç›¸é‚»çš„æ»¡è¶³æ¡ä»¶çš„å…ƒç´ ï¼Œå¿…é¡»æ˜¯ç›¸é‚»çš„ ~ èŽ·å–å½“å‰å…ƒç´ çš„æ»¡è¶³æ¡ä»¶çš„å…„å¼Ÿå…ƒç´  å¯ä»¥ä¸ç›¸é‚» ï¼Œæ‰€æœ‰å…„å¼Ÿå…ƒç´  ç›¸å¯¹äºŽçˆ¶çº§é€‰æ‹©å™¨ ul&gt; li:first-child æŸ¥æ‰¾ulä¸‹ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œå¦‚æžœç¬¬ä¸€ä¸ªä¸æ˜¯li é‚£å°±ä¸ç”Ÿæ•ˆ ul&gt; li:last-child æŸ¥æ‰¾ulä¸‹æœ€åŽä¸€ä¸ªå…ƒç´  li:first-of-type æŸ¥æ‰¾çš„æ—¶å€™æŒ‡æŒ¥æŸ¥æ‰¾æ»¡è¶³ç±»åž‹æ¡ä»¶çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œè¿‡æ»¤æŽ‰å…¶ä»–ç±»åž‹çš„å…ƒç´  li:last-of-type æŸ¥æ‰¾çš„æ—¶å€™æŒ‡æŒ¥æŸ¥æ‰¾æ»¡è¶³ç±»åž‹æ¡ä»¶çš„æœ€åŽä¸€ä¸ªå…ƒç´  li:nth-child() æŒ‡å®šç´¢å¼•ä½ç½® nth-child(ä»Ž1å¼€å§‹çš„æ‰€ä»¥||å…³é”®å­—||è¡¨è¾¾å¼) / è¯¥æ–¹æ³•åŒæ · &gt; å¦‚æžœç¬¬ä¸€ä¸ªä¸æ˜¯li é‚£å°±ä¸ç”Ÿæ•ˆ even å¶æ•° odd å¥‡æ•° li:nth-of-type(even) æŒ‡å®šç±»åž‹çš„ æ‰€æœ‰å¶æ•° li li:nth-of-type(-n+5) åªé€‰æ‹©å‰5ä¸ªli li:nth-last-of-type(-n+5) åªé€‰æ‹©æœ€åŽ5ä¸ªli li:empty é€‰æ‹©å†…å®¹ä¸ºç©ºçš„li ä¼ªç±»æ ·å¼ h2:target å¯ä»¥ä¸ºé”šç‚¹ç›®æ ‡å…ƒç´ æ·»åŠ æ ·å¼ï¼Œå½“ç›®æ ‡å…ƒç´ è¢«è§¦å‘ä¸ºå½“å‰é”šé“¾æŽ¥çš„ç›®æ ‡æ—¶ï¼Œè°ƒç”¨æ­¤ä¼ªç±»æ ·å¼ ä¼ªå…ƒç´  æ˜¯ä¸€ä¸ªè¡Œå†…å…ƒç´ ï¼Œ å¦‚æžœæƒ³è®¾ç½®å®½é«˜éœ€è¦è½¬æ¢æˆblock|| float || postitionå¿…é¡»æ·»åŠ  content, å“ªæ€•ä¸è®¾ç½®å†…å®¹ï¼Œ ä¹Ÿè¦ content:â€â€ e::before e::after e::first-letter æ–‡æœ¬çš„ç¬¬ä¸€ä¸ªå­—æ¯æˆ–å­—(ä¸æ˜¯è¯ç»„) ä¾é float å®žçŽ°é¦–å­—ä¸‹æ²‰ e::first-line æ–‡æœ¬ç¬¬ä¸€è¡Œ ï¼Œ å¦‚æžœç¬¬ä¸€ä¸ªå­—è®¾ç½®äº†::first-letter è¿™äº›æ ·å¼éƒ½å¯¹å®ƒæ— æ•ˆ e::selection å¯æ”¹å˜é€‰ä¸­æ–‡æœ¬çš„æ ·å¼ï¼Œåªèƒ½è®¾ç½®æ˜¾ç¤ºçš„æ ·å¼ï¼Œè€Œä¸èƒ½è®¾ç½®å†…å®¹çš„å¤§å° æ¸å˜ shape : æ¸å˜çš„å½¢çŠ¶ ellipse è¡¨ç¤ºæ¤­åœ†å½¢ï¼ˆé€‚é…å½“å‰çš„å½¢çŠ¶ï¼‰ï¼Œcircle è¡¨ç¤ºæ­£åœ†å½¢ å¦‚æžœå®½ é«˜ä¸ä¸€æ · é»˜è®¤æ•ˆæžœåˆ‡æ¢åˆ° ellipse å¤šåˆ—å¸ƒå±€ å›ºå®šåˆ—æ•°æ—¶å¯ä»¥ä½¿ç”¨æœ‰ç‚¹ç±»ä¼¼è¡¨æ ¼å¸ƒå±€æ¯”è¾ƒé€‚åˆæ–‡å­— åªéœ€å†çˆ¶å®¹å™¨ä¸Š åŠ ä¸Š column-count: 3 æƒ³è¦å‡ åˆ—å°±å†™å‡  column-rule:dashed 3px red; è®¾ç½®è¾¹æ¡†æ ·å¼ï¼Œè¿™æ˜¯è™šçº¿è¾¹æ¡† column-gap: 0px; è®¾ç½®åˆ—ä¸Žåˆ—ä¹‹é—´çš„é—´è· , ä¸º0æ—¶æ˜¯æ²¡æœ‰è¾¹æ¡†çš„ column-width: 500px; å–å¤§ä¼˜å…ˆï¼Œçœ‹çœ‹æ˜¯è‡ªåŠ¨è®¡ç®—çš„å®½åº¦å¤§è¿˜æ˜¯ä½ è®¾ç½®çš„å¤§ ä½†æ˜¯ä¼šå¡«å……æ•´ä¸ªå±å¹• ï¼Œæ„å‘³æœ€ç»ˆçš„å®½åº¦å¯èƒ½ä¼šå¤§äºŽè®¾ç½®çš„å®½åº¦â€“ â€‹ å¡«å……æ»¡æ•´ä¸ªå±å¹• å¦‚æžœäººä¸ºè®¾ç½®å®½åº¦æ›´å°ï¼Œä½¿ç”¨è‡ªåŠ¨è®¡ç®—çš„å®½åº¦ column-span: all; ä½¿æŸæ–‡å­—æˆ–æŸå…ƒç´ å æ»¡ä¸€æ•´è¡Œ]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[HTMLå’ŒCSSå·©å›º]]></title>
    <url>%2F2019%2F04%2F10%2F%E3%80%90imooc%E3%80%91HTML%E5%92%8CCSS%E7%9F%A5%E8%AF%86%E5%B7%A9%E5%9B%BA%2F</url>
    <content type="text"><![CDATA[HTML å¦‚ä½•ç†è§£HTMLhtml â€œæ–‡æ¡£â€æè¿°æ–‡æ¡£çš„â€ç»“æž„â€æœ‰åŒºå—å’Œå¤§çº² &lt;base href=&quot;/&quot;&gt; æŒ‡å®šåŸºç¡€è·¯å¾„ ,åªæœ‰æ‰€æœ‰çš„é“¾æŽ¥éƒ½æ˜¯ä»¥è¯¥è·¯å¾„ä¸ºåŸºå‡†æ¥è¿›è¡Œè®¡ç®— label ä¸­ for = è¡¨å•é¡¹çš„id å¯ä»¥å’Œè¡¨å•é¡¹å…³è”, ä½ ç‚¹å‡»è¿™ä¸ªlabelå°±å¥½æ¯”ç‚¹å‡»è¿™ä¸ªè¡¨å•é¡¹æœ¬èº« button tyle=&quot;reset&quot;&gt; åˆå§‹åŒ–è¡¨å• jQurey çš„ $(&quot;form&quot;).serialize() çš„æ–¹æ³•å¯ä»¥æ‰¹é‡èŽ·å¾—è¡¨å•çš„å±žæ€§ äº†è§£ä¸‹html 5çš„ å†…å®¹æ¨¡åž‹ åˆ†ç±»è§„åˆ™ https://www.w3.org/TR/html5/text-level-semantics.html#the-a-element å—çº§å…ƒç´ ä¸ä¸€å®šèƒ½åŒ…å«å—çº§å…ƒç´  å¦‚: p ä¸­ä¸èƒ½åŒ…å«div ,å¼ºè¡ŒåŒ…è£¹æ¸²æŸ“æ—¶æµè§ˆå™¨ä¼šè¿›è¡Œå®¹é”™æ¨¡å¼ä¼šä»¥ä¸ºä½ å†™é”™äº†, pçš„å¼€å§‹æ ‡ç­¾ä¼šè¢«å½“æˆä¸€ä¸ªæ ‡ç­¾,div è¿˜æ˜¯div ,p çš„ç»“æŸæ ‡ç­¾åˆä¼šè¢«å½“æˆä¸€ä¸ªç‹¬ç«‹çš„æ ‡ç­¾ è¡Œå†…å…ƒç´ ä¸€èˆ¬ä¸èƒ½åŒ…å«å—çº§å…ƒç´  , ä½†ä¹Ÿæœ‰ä¾‹å¤–, æ¯”å¦‚: a ä½†åœ¨html4ä¸­æ˜¯ä¸åˆæ³•çš„,,h5ä¸­è®¡ç®—æ—¶ä¼šå°†å…¶é€æ˜ŽåŒ–,ä¹Ÿå°±æ˜¯è¯´è®¡ç®—åˆæ³•æ€§æ—¶ä¼šä¸è€ƒè™‘ a , ä½†æ¯”å¦‚ a&gt;div è¿™æ ·åŒ…è£¹,è¿˜æ˜¯è¦å–å†³äºŽ å®ƒä»¬å¤–éƒ¨æ—¶ä»€ä¹ˆå…ƒç´ æ‰èƒ½å†³å®šæ˜¯å¦åˆæ³• a ä¸­åŒæ ·ä¸èƒ½åŒ…å« a å¼ºè¡ŒåŒ…è£¹æ¸²æŸ“æ—¶ä¼šè¢«åˆ†ç¦» html å…ƒç´ é»˜è®¤æ ·å¼ é»˜è®¤æ ·å¼çš„æ„ä¹‰åœ¨äºŽ, ä½ å¯ä»¥ç›´æŽ¥ä¹¦å†™ä»£ç å°±ä¼šåœ¨é¡µé¢ä¸Šå‡ºçŽ°æ•ˆæžœ,è€Œä¸æ˜¯æ¯åˆ›å»ºä¸€ä¸ªå…ƒç´ éƒ½è¦åŽ»ä¸´æ—¶ç»™ä»– å®½é«˜é¢œè‰²ä¹‹ç±»çš„ æ‰ä¼šåœ¨é¡µé¢ä¸Šå‡ºçŽ°\ä½†ä¹Ÿä¼šå¸¦æ¥ä¸€äº›é—®é¢˜, æœ‰æ—¶ä¼šå¯¼è‡´å’Œæˆ‘é¢„æœŸæƒ³è¦å®žçŽ°æ•ˆæžœæˆªç„¶ä¸åŒçš„æƒ…å†µæ‰€ä»¥éœ€è¦é€‚å½“æ¸…é™¤é»˜è®¤æ ·å¼ å«åš css Reset å¯ä»¥åŽ»ç™¾åº¦ä¸‹è‘—åçš„å†™æ³•,æ¯”å¦‚ : é›…è™Ž YUI çš„ css reset å†™æ³• æˆ–è€…æ˜¯ Normalize.css è®©é»˜è®¤æ ·å¼æœ‰æ•ˆåŒ– é¢è¯•é¢˜ doctypeçš„æ„ä¹‰æ˜¯ä»€ä¹ˆ è®©æµè§ˆå™¨ä»¥æ ‡å‡†æ¨¡å¼æ¸²æŸ“ è®©æµè§ˆå™¨çŸ¥é“å…ƒç´ çš„åˆæ³•æ€§ htmlã€xhtmlã€html5ä¹‹é—´çš„å…³ç³» HTMLå±žäºŽSGML XHTML å±žäºŽXML, æ˜¯XTMLè¿›è¡Œxmlä¸¥æ ¼åŒ–çš„ç»“æžœ HTML5ä¸å±žäºŽSGMLæˆ–XML,æ¯”XHTMLå®½æ¾ HTML 5 æœ‰ä»€ä¹ˆå˜åŒ– æ–°çš„è¯­ä¹‰åŒ–å…ƒç´  è¡¨å•å¢žå¼º æ–°çš„API (ç¦»çº¿ã€éŸ³è§†é¢‘ã€å®žæ—¶é€šä¿¡ã€æœ¬åœ°å­˜å‚¨ã€è®¾å¤‡èƒ½åŠ› ) åˆ†ç±»å’ŒåµŒå¥—å˜æ›´ em å’Œ i æœ‰ä»€ä¹ˆåŒºåˆ« emæ˜¯è¯­ä¹‰åŒ–çš„æ ‡ç­¾, è¡¨å¼ºè°ƒ i æ˜¯çº¯æ ·å¼çš„æ ‡ç­¾, è¡¨ç¤ºæ–œä½“ HTML5ä¸­ i ä¸æŽ¨èä½¿ç”¨, ä¸€èˆ¬ç”¨ä½œå›¾æ ‡ è¯­ä¹‰åŒ–çš„æ„ä¹‰æ˜¯ä»€ä¹ˆ å¼€å‘è€…å®¹æ˜“ç†è§£ æœºå™¨å®¹æ˜“ç†è§£ç»“æž„ (æœç´¢ã€è¯»å±è½¯ä»¶) ,æ¯”å¦‚ å¤§çº²ç®—æ³• æœ‰åŠ©äºŽ SEO semantic microdata å¢žå¼ºè¯­ä¹‰åŒ– , è¯¦ç»†çš„éœ€è¦åŽ»ç™¾åº¦ å“ªäº›å…ƒç´ å¯ä»¥è‡ªé—­å’Œ ( å°±æ˜¯åœ¨è¯¥æ ‡ç­¾å†…éƒ¨ä¸èƒ½å†å¸¦å…¶ä»–ä¸œè¥¿äº† ) è¡¨å•å…ƒç´  Input å›¾ç‰‡ img br hr meta link HTML å’Œ DOM çš„å…³ç³» HTMLæ˜¯ â€œ æ­» â€œ çš„ DOM ç”±HTMLè§£æžè€Œæ¥, æ˜¯æ´»çš„ js å¯ä»¥ç»´æŠ¤DOM property å’Œ attribute çš„åŒºåˆ« attribute æ˜¯ â€œæ­»â€ çš„ , æ˜¯ä½ å†™åœ¨HTMLä¸Šçš„å±žæ€§ property æ˜¯ â€œ æ´» â€œ çš„ , æ˜¯dom è§£æžåŽèŽ·å¾—çš„ formçš„ä½œç”¨æœ‰å“ªäº› ç›´æŽ¥æäº¤è¡¨å• ä½¿ç”¨submit / reset æŒ‰é’® ä¾¿äºŽæµè§ˆå™¨ä¿å­˜è¡¨å• ç¬¬ä¸‰åº“å¯ä»¥æ•´ä½“æå–å€¼ å¦‚: JQuery ç¬¬ä¸‰æ–¹åº“å¯ä»¥è¿›è¡Œè¡¨å•éªŒè¯, æ¯”å¦‚ angular cssåŸºç¡€ å…¨ç§° Cascading Style Sheet å±‚å æ ·å¼è¡¨ idé€‰æ‹©å™¨ æ ·å¼çš„æƒé‡ä¼˜å…ˆçº§æœ€é«˜ classé€‰æ‹©å™¨ å…¶æ¬¡ è§£æžæ–¹å¼, body div a { } è¿™æ ·çš„ä¸€ä¸ªcss æµè§ˆå™¨æ˜¯å…ˆæ‰¾åˆ°aæ ‡ç­¾,å†æ‰¾åˆ°å®ƒçˆ¶çº§æœ‰æ²¡æœ‰ div ,å†åŽ»æ‰¾ body ,æ€»ç»“å°±æ˜¯: ä»Žå³å¾€å·¦è§£æž,ç›®çš„å°±æ˜¯åŠ å¿« æµè§ˆå™¨å¯¹css çš„è§£æžé€Ÿåº¦,æ›´å¿«ç¡®å®šæ˜¯å“ªäº›å…ƒç´  ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ« é€‰æ‹©å™¨é€‰æ‹©å™¨åˆ†ç±» å…ƒç´ é€‰æ‹©å™¨ a{} ä¼ªå…ƒç´ é€‰æ‹©å™¨ ::before{} ç±»é€‰æ‹©å™¨ .link{} å±žæ€§é€‰æ‹©å™¨ [type = radio] {} ä¼ªç±»é€‰æ‹©å™¨ :hover{} idé€‰æ‹©å™¨ #id{} ç»„åˆé€‰æ‹©å™¨ [type=checkbox] + label{} å¦å®šé€‰æ‹©å™¨ :not(.link){} é€šç”¨é€‰æ‹©å™¨ * {} é€‰æ‹©å™¨æƒé‡ å¿…é¡»éµå®ˆçš„æ˜¯ åªè¦æœ‰id é€‰æ‹©å™¨ æ°¸è¿œæ¯” class é€‰æ‹©å™¨è¦å¤§, å¹¶ä¸èƒ½é€šè¿‡é€‰æ‹©å™¨æ•°é‡ç›–è¿‡ id é€‰æ‹©å™¨çš„æƒé‡, å®˜å¤§ä¸€çº§åŽ‹æ­»äºº , classå†å¤š æƒé‡ ä¹Ÿæ— æ³• ä»Ž åä½ è¿›åˆ° ç™¾ä½, å› ä¸ºæƒé‡ä¸è¿›ä½ ID é€‰æ‹©å™¨ #id{} +100 ç±» å±žæ€§ ä¼ªç±» é€‰æ‹©å™¨ +10 å…ƒç´  ä¼ªå…ƒç´  +1 å…¶ä»–é€‰æ‹©å™¨ +0 è¿˜æœ‰ä¸€äº›éœ€è¦æ³¨æ„çš„ !important ä¼˜å…ˆçº§æœ€é«˜ ( ä¸ç®¡ä½ å‡ºçŽ°åœ¨å“ª,ä¸ç®¡æ˜¯è°å†™çš„ ,æ°¸è¿œæœ€é«˜ ) å…ƒç´ å±žæ€§ ä¼˜å…ˆçº§é«˜ ==&gt; æ¯”ID é€‰æ‹©å™¨è¿˜è¦é«˜ ( å…ƒç´ å±žæ€§ä¸Šå†™style æ¯”å¤–è”å’Œå†…åµŒæ ·å¼è¡¨ä¼˜å…ˆçº§é«˜ ) ç›¸åŒæƒé‡ åŽå†™çš„ç”Ÿæ•ˆ è¡Œé«˜ line-hight ä¼šæ’‘èµ· block å…ƒç´ , inline åˆ™æœ¬èº«æ— å˜åŒ–,ä½†å®žé™…å ç”¨é«˜åº¦ä¼šè¢«å½±å“ å›¾ç‰‡ä¸‹æ–¹ä¼šå‡ºçŽ°ç©ºéš™çš„åŽŸå›  : å› ä¸ºå›¾ç‰‡æ˜¯ æŒ‰inline æ¥æŽ’ç‰ˆ, å‚ç…§çš„æ˜¯åŸºçº¿ ( base-line ), è€ŒåŸºçº¿å’Œåº•çº¿åˆæœ‰ä¸€å®šçš„è·ç¦»,è¿™ä¸ªè·ç¦»è§†å­—ä½“å¤§å°è€Œå®š , ä¾‹å¦‚å½“12pxæ—¶ ,è¿™ä¸ªè·ç¦»å¤§çº¦æ˜¯3px css Hack åœ¨ä¸€éƒ¨åˆ†æµè§ˆå™¨ä¸Šç”Ÿæ•ˆçš„å†™æ³• Hack å³ä¸åˆæ³•ä½†ç”Ÿæ•ˆçš„å†™æ³• ä¸»è¦ç”¨äºŽåŒºåˆ†ä¸åŒæµè§ˆå™¨ ç¼ºç‚¹: éš¾ç†è§£ éš¾ç»´æŠ¤ æ˜“å¤±æ•ˆ æ›¿ä»£æ–¹æ¡ˆ: ç‰¹æ€§æ£€æµ‹ æ›¿ä»£æ–¹æ¡ˆ: é’ˆå¯¹æ€§åŠ  class å–è‰²æ–¹å¼ RGB æ–¹å¼ (æ–¹ä¾¿,ä½†æ˜¯äººçœ¼å¯¹rgbä¸æ˜¯å¾ˆæ•æ„Ÿ) #fff rgb rgba hsl ( è‰²ç›¸, é¥±å’Œåº¦, äº®åº¦) hsl hsla( è‰²ç›¸, é¥±å’Œåº¦, äº®åº¦, é€æ˜Žåº¦) å­—ä½“è½½å…¥è‡ªå®šä¹‰å­—ä½“1234567@font-face&#123; font-family:"IF"; src: url("./IndieFlower.ttf")&#125;.test&#123; font-family: IF;&#125; é¢è¯•é¢˜ css æ ·å¼ ( é€‰æ‹©å™¨ ) çš„ä¼˜å…ˆçº§ è®¡ç®—æƒé‡ç¡®å®š !important å†…è”æ ·å¼ åŽå†™çš„ä¼˜å…ˆçº§é«˜ é›ªç¢§å›¾çš„ä½œç”¨ å‡å°‘httpè¯·æ±‚æ¬¡æ•° æé«˜åŠ è½½æ€§èƒ½ æœ‰äº›æƒ…å†µä¸‹å¯ä»¥å‡å°‘å›¾ç‰‡å¤§å° è‡ªå®šä¹‰å­—ä½“çš„ä½¿ç”¨åœºæ™¯ 1.å®£ä¼  / å“ç‰Œ / Bannerç­‰å›ºå®šæ–‡æ¡ˆ 2.å­—ä½“å›¾æ ‡ base64 çš„ä½¿ç”¨ å‡å°‘httpè¯·æ±‚ é€‚ç”¨äºŽå°å›¾ç‰‡ base64çš„ä½“ç§¯çº¦ä¸ºåŽŸå›¾ 4 / 3 ä¼ªç±»å’Œä¼ªå…ƒç´ çš„åŒºåˆ« ä¼ªç±»è¡¨çŠ¶æ€ ä¼ªå…ƒç´ æ˜¯çœŸçš„æœ‰å…ƒç´  å‰è€…å•å†’å·, åŽè€…åŒå†’å· å¦‚ä½•æ¢…èŠ±checkbox label [ for ] å’Œ id éšè—åŽŸç”Ÿ Input :checked + label postcss npm install postcss -gæ–‡ä»¶è¾“å‡ºå‘½ä»¤postcss src/aa.css -o bb.css autoprefixer è‡ªåŠ¨åŠ å‰ç¼€ npm install autoprefixer psostcss-import æ¨¡å—åŒ–css npm install postcss-import cssnano åŽ‹ç¼©cssä»£ç  npm install cssnano cssnext ä½¿ç”¨æµè§ˆå™¨æœªæ”¯æŒçš„css npm install postcss-cssnext precss ç”¨é¢„å¤„ç†çš„è¯­æ³•å†™css /å¾ªçŽ¯/å˜é‡123456789101112const autoprefixer = require(&apos;autoprefixer&apos;)const atImport = require(&apos;postcss-import&apos;)module.exports = &#123; plugins: [ atImport, autoprefixer( &#123; browsers:[&apos;&gt;0%&apos;] &#125; ) ]&#125; webpackwebpack æ‰“åŒ…åŽjs ä¸Ž css åˆ†ç¦» npm install extract-text-webpack-plugin loader é…ç½® æ–‡ä»¶è¾“å‡º csså¸ƒå±€é¢è¯•é¢˜ å®žçŽ°ä¸¤æ  ( ä¸‰æ  ) å¸ƒå±€ è¡¨æ ¼å¸ƒå±€ float + margin å¸ƒå±€ inline-blockå¸ƒå±€ flexboxå¸ƒå±€ position:absolute / fixed æœ‰ä»€ä¹ˆåŒºåˆ« å‰è€…ç›¸å¯¹æœ€è¿‘çš„absolute / relative è¿›è¡Œå®šä½ åŽè€…ç›¸å¯¹å±å¹• æˆ– ç§»åŠ¨ç«¯çš„ viewport è¿›è¡Œå®šä½ display:inline-block çš„é—´éš™ åŽŸå› : å­—ç¬¦é—´è· è§£å†³: æ¶ˆç­å­—ç¬¦æˆ–è€…æ¶ˆç­é—´è· å¦‚ä½•æ¸…æ¥šæµ®åŠ¨ è®©ç›’å­è´Ÿè´£è‡ªå·±çš„å¸ƒå±€ overflow:hidden( auto ) ::after{ clear:both } å¦‚ä½•é€‚é…ç§»åŠ¨ç«¯é¡µé¢ viewport rem / viewport / media query è®¾è®¡ä¸Š: éšè— æŠ˜è¡Œ è‡ªé€‚åº” æµè§ˆå™¨å°æŠ€å·§ $0 èŽ·å–å½“å‰é€‰ä¸­çš„å…ƒç´ DOM]]></content>
      <categories>
        <category>HTML</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>HTML</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Nodeã€‘mongoseåŸºæœ¬ä½¿ç”¨]]></title>
    <url>%2F2019%2F04%2F10%2F%E3%80%90Node%E3%80%91mongose%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8%2F</url>
    <content type="text"><![CDATA[NodeJS ä¸Ž MongooDB åœ¨NodeJs ä¸­æŽ¨èä½¿ç”¨ Mongooseæ¥å¯¹mongoDB è¿›è¡Œæ“ä½œmongoose å®˜ç½‘ http://mongoosejs.com/ mongoDB çš„ç‰¹ç‚¹ JSON æ ¼å¼çš„æ•°æ®å­˜å‚¨ éžå…³ç³»åž‹æ•°æ®åº“ ä¸éœ€è¦å’Œ MYSQL ä¹‹ç±»çš„å…³ç³»åž‹æ•°æ®åº“ä¸€æ ·ç®€è¡¨, ä½¿ç”¨æ—¶è‹¥æ²¡æœ‰è¯¥é›†åˆä¼šè‡ªåŠ¨åˆ›å»º é›†åˆ =&gt; æ–‡æ¡£ =&gt; è®°å½•/æ•°æ®å­—æ®µ ç¼ºç‚¹å°±æ˜¯æ•°æ®æ“ä½œå¤ªçµæ´», å®¹æ˜“æ··å…¥è„æ•°æ® å¦‚ä½•å®‰è£… mongoose1npm install mongoose å¯¼å…¥Mongooes åœ¨ Node ä¸­ éœ€è¦å…ˆä½¿ç”¨ require å¯¼å…¥mongoose æ¨¡å—1const mongoose = require(&apos;mongoose&apos;) è¿žæŽ¥MongoDB è¿™é‡Œæ‹¿è¿žæŽ¥æœ¬åœ°çš„mongoDB ç¤ºèŒƒ1mongoose.connect(&apos;mongod://localhost/test&apos;) å¼•å…¥æ•°æ®åº“æ¨¡åž‹éª¨æž¶ Schema Schema åœ¨å¯¼å…¥çš„ mongoose å¯¹è±¡ä¸­, å»ºè®®å…ˆå°†å…¶çš„å¼•ç”¨å­˜å…¥ä¸€ä¸ªå˜é‡ Schema æ˜¯ä¸€ç§ä»¥æ–‡ä»¶å½¢å¼å­˜å‚¨çš„æ•°æ®åº“æ¨¡åž‹éª¨æž¶, å®ƒä¸å…·å¤‡å¯¹æ•°æ®åº“çš„æ“ä½œèƒ½åŠ› å®ƒå¯ä»¥å¼¥è¡¥ mongoDB å¯¹æ•°æ®æ ¼å¼æŽ§åˆ¶çš„ä¸è¶³1const Schema = mongoose.Schema å®žä¾‹åŒ– Schema æ—¢ç„¶æ˜¯æ¨¡åž‹éª¨æž¶, é‚£æˆ‘ä»¬å°±éœ€è¦ å°†å®ƒçš„éª¨æž¶æ­å»ºèµ·æ¥ ä»¥ä¸‹ä¸¾ä¾‹ ä¸€ä¸ªç”¨æˆ·æ³¨å†Œä½¿ç”¨çš„ éª¨æž¶æ¨¡åž‹ type (æ•°æ®ç±»åž‹) å¦‚: String ,Number required ( æ˜¯å¦å…è®¸ä¸ºç©º )12345678910111213let userSchema = new Schema(&#123; name:&#123; type: String, required: true &#125;, email: &#123; type: String &#125;, pwd:&#123; type: String, required: true &#125;&#125;) å‘å¸ƒæ¨¡åž‹ Model ç”±æ­å»ºå¥½çš„æ¨¡åž‹éª¨æž¶ Schema å‘å¸ƒç”Ÿæˆçš„æ¨¡åž‹, å…·æœ‰æŠ½è±¡å±žæ€§å’Œæ•°æ®åº“æ“ä½œçš„èƒ½åŠ› Model ç¬¬ä¸€ä¸ªå‚æ•° å•æ•°å½¢å¼å¼€å¤´å¤§å†™ , Mongoose ä¼šè‡ªåŠ¨å°†å…¶è½¬æ¢ä¸ºå°å†™çš„è´Ÿæ•°å½¢å¼ä½œä¸ºæ–‡æ¡£åç§° å¦‚: User =&gt; users æŽ¥ä¸‹æ¥ä½ å°±å¯ä»¥å¯¹ User ä¸ºæ‰€æ¬²ä¸ºäº†, CURD1const User = mongoose.model(&apos;Use&apos;,userSchema) Sava æ–¹æ³• ä¿å­˜æ•°æ®12User.save() .then(() =&gt; console.log(&apos;ä¿å­˜æˆåŠŸ&apos;)); Remove åˆ é™¤æ•°æ®123User.remove(&#123; åˆ é™¤æ¡ä»¶ &#125;).then(res=&gt;&#123; &#125;).catch(err=&gt;&#123; &#125;) FindOne è¿”å›žåŒ¹é…åˆ°çš„ç¬¬ä¸€æ¡æ•°æ® å¦‚æžœç”¨ Find æŸ¥æ‰¾æ˜¯è¿”å›žçš„æ•°ç»„, FindOne è¿”å›žçš„å°±æ˜¯ä¸ªå•ç‹¬çš„å¯¹è±¡ æ³¨æ„è¿”å›žçš„ çš„æŸ¥è¯¢ç»“æžœå¯ä»¥ç»è¿‡ä¿®æ”¹ä¹‹åŽä¸ºæ‰€æ¬²ä¸º12345User.findOne( &#123; æŸ¥è¯¢æ¡ä»¶ &#125; ) .then(data=&gt;&#123; //you can // data.save() &#125;) Find æŸ¥æ‰¾æ»¡è¶³æ¡ä»¶çš„æ‰€æœ‰ å’Œ FinOne ä¸åŒçš„æ˜¯ æ— è®ºç»“æžœæœ‰å¤šå°‘æ¡,å®ƒè¿”å›žçš„å§‹ç»ˆæ˜¯ä¸€ä¸ªæ•°ç»„12345User.find( &#123; æŸ¥è¯¢æ¡ä»¶ &#125; ) .then(data=&gt;&#123; //you can // data.save() &#125;)]]></content>
      <categories>
        <category>NodeJs</category>
      </categories>
      <tags>
        <tag>NodeJs</tag>
        <tag>MongoDB</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€win10ã€‘è§£å†³ç»å¸¸æ€§å†…å­˜çˆ†æ»¡100%]]></title>
    <url>%2F2019%2F04%2F10%2F%E3%80%90win10%E3%80%91%E8%A7%A3%E5%86%B3%E7%BB%8F%E5%B8%B8%E6%80%A7%E5%86%85%E5%AD%98%E7%88%86%E6%BB%A1100%2F</url>
    <content type="text"><![CDATA[é—®é¢˜è§£å†³ï¼Œkillerç½‘å¡é©±åŠ¨ä¸Žnduç½‘ç»œé©±åŠ¨å†²çªï¼Œå¯¼è‡´wfpnä¸Žndnbæ ‡ç­¾æ± æœ‰å†…å­˜æ³„æ¼ã€‚è§£å†³æ–¹æ³•ï¼šç®¡ç†å‘˜è¿è¡Œcmdï¼Œç„¶åŽ 1sc config Ndu start=disabled å‚è€ƒæ–‡çŒ®: http://bbs.pcbeta.com/forum.php?mod=viewthread&amp;tid=1737577&amp;highlight=]]></content>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘è®°ä¸€æ¬¡ä¼˜åŒ–æ—¶é—´çº¿å¡é¡¿å¤„ç†æ€è·¯]]></title>
    <url>%2F2019%2F04%2F10%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E8%AE%B0%E4%B8%80%E6%AC%A1%E4%BC%98%E5%8C%96%E6%97%B6%E9%97%B4%E7%BA%BF%E5%8D%A1%E9%A1%BF%E5%A4%84%E7%90%86%E6%80%9D%E8%B7%AF%2F</url>
    <content type="text"><![CDATA[å…¬å¸æœ‰è¿™æ ·çš„åº”ç”¨åœºæ™¯ï¼Œ éœ€è¦æŒ‰æ—¶é—´æ®µæ¥åˆ†ç±»å›¾ç‰‡ï¼Œ ç„¶åŽå„ä¸ªåˆ†ç±»ä¹‹é—´è¿˜æœ‰è”ç³»ï¼Œ å› ä¸ºæœ‰å¯èƒ½ä¸Šä¸€ä¸ªåˆ†æ®µçš„åŽé¢ä¸€éƒ¨åˆ†å›¾ç‰‡å’Œä¸‹ä¸€ä¸ªåˆ†æ®µçš„é’±ä¸€éƒ¨åˆ†å›¾ç‰‡åœ¨åŒä¸€ä¸ªåˆ†é¡µã€‚ æ‰“å¼€æŸä¸€åˆ†ç±»ï¼š åœ¨è¿™ç§åœºæ™¯ä¸‹ï¼Œ æˆ‘ä»¬éœ€è¦è€ƒè™‘: å¦‚ä½•æŠŠå½’ç±»çš„å›¾ç‰‡åŒæ—¶ä¿æŒç›¸åº”çš„é¡ºåºæˆä¸€ç»„ å½“æˆ‘æ‰“å¼€å¹¶ä¸æ˜¯è¿žç»­çš„åˆ†æ®µæ—¶ï¼Œ ä¸­é—´çš„åˆ†æ®µå¦‚ä½•ç©ºå‡ºæ¥ï¼Œ ä»¥ä¾¿äºŽåŽç»­æ’å…¥ï¼Œ åŒæ—¶æ’å…¥åŽè¿˜è¦ä¿è¯ 1 æ‰“å¼€ä¸€ä¸ªåˆ†ç±»æ—¶ä¼šåŠ è½½å¤§é‡å›¾ç‰‡ï¼Œ æ­¤æ—¶åŠ è½½èµ„æºä¼šé˜»å¡žç½‘ç»œï¼Œ å›¾ç‰‡å½’ç±»è®¡ç®—ä¼šé˜»å¡žè¿›ç¨‹ï¼Œ å›¾ç‰‡é‡å¤§çš„æ—¶å€™æ€§èƒ½ä¼šå‡ºé—®é¢˜ å½“ç”¨æˆ·æ»šåŠ¨æ—¶ï¼Œ éœ€è¦åŠ è½½åˆ†é¡µ æ»šåŠ¨æ—¶åˆ†é¡µåŠ è½½çš„æ•°æ®ï¼Œ ä¸èƒ½å’Œç”¨æˆ·ä¸»åŠ¨æ‰“å¼€æ—¶çš„æ•°æ®å†²çªé‡å¤ è§£å†³æ€è·¯ é¦–å…ˆå¯ä»¥åˆ›å»ºä¸€ä¸ªæ•°ç»„æˆ–æ˜¯å­—å…¸ï¼Œ å­˜å‚¨å·²åŠ è½½çš„é¡µç ï¼Œ ç”¨æ¥è¿‡æ»¤é‡å¤åŠ è½½çš„æƒ…å†µ ä»¥ç”¨æˆ·å±•å¼€æŒ‡å®šæ“ä½œä¸ºä¼˜å…ˆï¼Œ æ»šåŠ¨åŠ è½½æ•°æ®ä¸ºæ¬¡è¦ï¼Œ å½“ç”¨æˆ·æ»šåŠ¨æ—¶ ï¼Œ æˆ‘ä»¬ä¸è¦ç«‹å³åŠ è½½ï¼Œ å…ˆå­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—é‡Œï¼Œ è®¾ç½®ä¸€ä¸ªå»¶è¿Ÿæ—¶é—´ï¼Œ åœ¨è¿™æ®µæ—¶é—´å†…ï¼Œ ç”¨æˆ·æœ‰ä»»ä½•å’ŒåŠ è½½ç›¸å…³çš„æ“ä½œå°±å°† åˆ†é¡µçš„è¯·æ±‚æ— é™æœŸå»¶åŽï¼Œ ç›´åˆ°åœ¨ä¸€æ®µæ—¶é—´å†…éƒ½æ— ä»»ä½•æ“ä½œåŽï¼Œ æ‰å¼€å§‹ä»Žé˜Ÿåˆ—ä¸­å–å‡ºéœ€è¦åŠ è½½çš„åˆ†é¡µï¼Œ æŒ¨ä¸ªåŠ è½½ï¼ˆæ³¨æ„ä¸è¦ä¸€èµ·åŠ è½½ï¼Œ åŠ è½½å›¾ç‰‡ä¼šé˜»å¡žç½‘ç»œï¼‰ã€‚ å¤§å›¾ç´¢å¼•é—®é¢˜ï¼Œ ç»´æŠ¤ä¸€ä¸ªäºŒä¸ºæ•°ç»„ å’Œä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œ ä¸€ç»´æ•°ç»„ç”¨æ¥ç»™å¤§å›¾ä½¿ç”¨ï¼Œå› ä¸ºå¤§å›¾éœ€è¦è¿žç»­çš„æ»‘åŠ¨ä¸‹ä¸€é¡µæ“ä½œï¼Œ äºŒä½æ•°ç»„ç”¨æ¥æ¸²æŸ“é¡µé¢]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘ä»Žé«˜é˜¶å‡½æ•°åˆ°ç†è§£é«˜é˜¶ç»„ä»¶]]></title>
    <url>%2F2019%2F04%2F09%2F%E3%80%90React%E3%80%91%E4%BB%8E%E9%AB%98%E9%98%B6%E5%87%BD%E6%95%B0%E5%88%B0%E7%90%86%E8%A7%A3%E9%AB%98%E9%98%B6%E7%BB%84%E4%BB%B6%2F</url>
    <content type="text"><![CDATA[é«˜é˜¶ç»„ä»¶å…¶å®žå°±æ˜¯é«˜é˜¶å‡½æ•° é«˜é˜¶å‡½æ•°çš„æ¦‚å¿µåƒä¸‡åˆ«å’Œæ™®é€šå›žè°ƒæžæ··ï¼Œ é«˜é˜¶å‡½æ•°çš„å¿…è¦æ¡ä»¶ï¼š ä¸€å®šè¦è¿”å›žä¸€ä¸ªæ–°å‡½æ•° éžå…¥ä¾µ ä¸€å¥è¯ç†è§£é«˜é˜¶å‡½æ•°æœ¬æ¥æˆ‘æ²¡æœ‰çš„ï¼Œæˆ‘å¾ˆåžƒåœ¾ï¼Œ é€šè¿‡æŠŠæˆ‘äº¤ç»™åˆ«äººï¼Œ åœ¨æˆ‘èº«ä¸Šè£…äº†é¢å¤–çš„ä¸œè¥¿ï¼Œ ä½¿æˆ‘å˜çš„æ‹¥æœ‰äº†æŸç§èƒ½åŠ› ä¸¾ä¸ªä¾‹å­: äººå’Œå¦å…‹ï¼Œ æœ¬æ¥äººæ˜¯ä¸èƒ½å‘å°„ç‚®å¼¹çš„ï¼Œ ä½†æ˜¯äººé’»è¿›äº†å¦å…‹ï¼Œ å°±å¯ä»¥å‘å°„ç‚®å¼¹äº†ï¼Œ äººè¿˜æ˜¯äººï¼ˆè‡ªèº«æœªå˜ï¼‰ï¼Œ åªæ˜¯åœ¨å¦å…‹é‡Œäº† ä¸€ä¸ªä¾‹å­ç†è§£é«˜é˜¶å‡½æ•°ä¸€ä¸ªç®€å•çš„ä¸èƒ½å†ç®€å•çš„é«˜é˜¶å‡½æ•°1234567function hoc(fn) &#123; return () =&gt; &#123; console.log('start') fn() console.log('end') &#125;&#125; ä¸€ä¸ªä¾‹å­ç†è§£é«˜é˜¶ç»„ä»¶åœ¨ä¸ä¿®æ”¹åŽŸæœ‰ç»„ä»¶çš„æƒ…å†µä¸‹ï¼Œ ä¸ºå…¶æ·»åŠ ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ 123456789101112131415161718// æŽ¥æ”¶ä¸€ä¸ªç»„ä»¶å‚æ•°const MyContainer = (WrappedComponent) =&gt; &#123; return class extends Component &#123; // æ–°å¢žçš„ç”Ÿå‘½å‘¨æœŸ componentwillmount() &#123; console.log('å¢žåŠ ä¸€ä¸ªç”Ÿå‘½å‘¨æœŸ') &#125; render() &#123; return ( // ä¼ å…¥çš„ç»„ä»¶ &lt;WrappedComponent /&gt; ) &#125; &#125;&#125;export default MyContainer; éšå¤„å¯è§çš„é«˜é˜¶å‡½æ•°nodeçš„expressæ¡†æž¶ä¸­, ä½ çš„app.useå°±æ˜¯å…¸åž‹çš„é«˜é˜¶ç»„ä»¶]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[k8så­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2019%2F04%2F09%2Fk8s%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯K8s Kubernetesï¼Œå› ä¸ºé¦–å°¾å­—æ¯ä¸­é—´æœ‰8ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥è¢«ç®€å†™æˆ K8sã€‚ K8s æ˜¯åº•å±‚èµ„æºä¸Žå®¹å™¨é—´çš„ä¸€ä¸ªæŠ½è±¡å±‚ï¼Œå¦‚æžœå’Œå•æœºæž¶æž„ç±»æ¯”ï¼Œå¯ä»¥ç®—ä½œæ˜¯ä¸€ä¸ªåˆ†å¸ƒå¼æ—¶ä»£çš„ Linuxã€‚ K8s æ˜¯ Google å¼€æºçš„å®¹å™¨é›†ç¾¤ç®¡ç†ç³»ç»Ÿã€‚åœ¨ Docker æŠ€æœ¯çš„åŸºç¡€ä¸Šï¼Œä¸ºå®¹å™¨åŒ–çš„åº”ç”¨æä¾›éƒ¨ç½²è¿è¡Œã€èµ„æºè°ƒåº¦ã€æœåŠ¡å‘çŽ°å’ŒåŠ¨æ€ä¼¸ç¼©ç­‰ä¸€ç³»åˆ—å®Œæ•´åŠŸèƒ½ï¼Œæé«˜äº†å¤§è§„æ¨¡å®¹å™¨é›†ç¾¤ç®¡ç†çš„ä¾¿æ·æ€§ã€‚ K8Sçš„ç‰¹ç‚¹ k8sæ˜¯ä¸€ä¸ªç®¡ç†å®¹å™¨çš„å·¥å…·ï¼Œä¹Ÿæ˜¯ç®¡ç†åº”ç”¨æ•´ä¸ªç”Ÿå‘½å‘¨æœŸçš„ä¸€ä¸ªå·¥å…·ï¼Œä»Žåˆ›å»ºåº”ç”¨ï¼Œåº”ç”¨çš„éƒ¨ç½²ï¼Œåº”ç”¨æä¾›æœåŠ¡ï¼Œæ‰©å®¹ç¼©å®¹åº”ç”¨ï¼Œåº”ç”¨æ›´æ–°ï¼Œè€Œä¸”å¯ä»¥åšåˆ°æ•…éšœè‡ªæ„ˆã€‚ å¯ç§»æ¤ï¼šæ”¯æŒå…¬æœ‰äº‘ï¼Œç§æœ‰äº‘ï¼Œæ··åˆäº‘ï¼› å¯æ‰©å±•ï¼šæ¨¡å—åŒ–ï¼Œçƒ­æ’æ‹¨ï¼Œå¯ç»„åˆï¼› è‡ªæ„ˆï¼šè‡ªåŠ¨æ›¿æ¢ï¼Œè‡ªåŠ¨é‡å¯ï¼Œè‡ªåŠ¨å¤åˆ¶ï¼Œè‡ªåŠ¨æ‰©å±•ã€‚ æ•…éšœè‡ªæ„ˆåœºæ™¯æ¯”å¦‚æœºæˆ¿å·¥ä½œäººå‘˜è¯¯æ“ä½œå°†æŸä¸€æŽ’æœåŠ¡å™¨æ–­ç”µäº†ï¼Œ k8så°±ä¼šè®¤ä¸ºæ˜¯æ•…éšœï¼Œ è‡ªåŠ¨æ‰©å……å¤‡ç”¨æœåŠ¡å™¨ K8Sçš„ç®¡ç†æ­¥éª¤åœ¨k8sè¿›è¡Œç®¡ç†åº”ç”¨çš„æ—¶å€™ï¼ŒåŸºæœ¬æ­¥éª¤æ˜¯ï¼š åˆ›å»ºé›†ç¾¤ éƒ¨ç½²åº”ç”¨ å‘å¸ƒåº”ç”¨ æ‰©å±•åº”ç”¨ æ›´æ–°åº”ç”¨ K8Sçš„æž¶æž„ç»“æž„ ç”Ÿæ€ç³»ç»Ÿ å¤–éƒ¨ç”Ÿæ€ï¼ˆk8sè¿è¡Œè¿‡ç¨‹ä¸­äº§å‡ºçš„æ¥åˆ¤æ–­ï¼Œå¦‚ï¼šæ—¥å¿—ã€ç›‘æŽ§ã€é…ç½®åŠŸèƒ½ã€è‡ªåŠ¨åŒ–å‘å¸ƒã€å·¥ä½œæµï¼‰ å†…éƒ¨ç”Ÿæ€ï¼ˆç³»ç»Ÿæœ¬èº«æ‰€ä¾èµ–çš„ä¸œè¥¿ï¼Œ å¦‚ï¼šé•œåƒç®¡ç†ã€é•œåƒä»“åº“ã€é›†ç¾¤é…ç½®ç®¡ç†ï¼‰ æŽ¥å£å±‚ ç”¨äºŽå¼€å‘å’Œç®¡ç†ç”Ÿæ€ç³»ç»Ÿå±‚ ç®¡ç†å±‚ ç³»ç»Ÿå±‚é¢çš„è°ƒåº¦ï¼Œæ¯”å¦‚ï¼šè‡ªåŠ¨æ‰©å±•ï¼Œ ç›‘è§†ã€èµ„æºçŠ¶æ€ åº”ç”¨å±‚ éƒ¨ç½²åŠè·¯ç”± å¤„ç†æœ‰çŠ¶æ€åº”ç”¨å’Œæ— çŠ¶æ€åº”ç”¨ è·¯ç”±æ ¹æ®å†…éƒ¨çš„dnsæœåŠ¡å™¨ æ ¸å¿ƒå±‚ k8sçš„æ ¸å¿ƒåŠŸèƒ½ï¼Œ æä¾›ç¨‹åºå†…éƒ¨æŽ¥å£ æ ¸å¿ƒæ¨¡å—åŠæ’ä»¶ k8sæ˜¯å’ŒTCP/IPåè®®å¾ˆåƒéƒ½æ˜¯ä¸å…è®¸è·¨å±‚çš„ï¼Œ å½“ç”Ÿæ€ç³»ç»Ÿå±‚çš„åŠŸèƒ½ä¸å¤Ÿä½¿ç”¨æ—¶ï¼Œ ä½ åªèƒ½é€šè¿‡æŽ¥å£å±‚æ¥å¼€å‘ï¼Œä¸èƒ½ä½¿ç”¨æ›´ä¸‹å±‚çš„ä¸œè¥¿äº† k8sç›¸å…³æ¦‚å¿µ ä¸»æœºï¼ˆMasterï¼‰ï¼šç”¨äºŽæŽ§åˆ¶ Kubernetes èŠ‚ç‚¹çš„è®¡ç®—æœºã€‚æ‰€æœ‰ä»»åŠ¡åˆ†é…éƒ½æ¥è‡ªäºŽæ­¤ã€‚ èŠ‚ç‚¹ï¼ˆNodeï¼‰ï¼šæ‰§è¡Œè¯·æ±‚å’Œåˆ†é…ä»»åŠ¡çš„è®¡ç®—æœºã€‚ç”± Kubernetes ä¸»æœºè´Ÿè´£å¯¹èŠ‚ç‚¹è¿›è¡ŒæŽ§åˆ¶ã€‚ å®¹å™¨é›†ï¼ˆPodï¼‰ï¼šéƒ¨ç½²åœ¨å•ä¸ªèŠ‚ç‚¹ä¸Šçš„ï¼Œä¸”åŒ…å«ä¸€ä¸ªæˆ–å¤šä¸ªå®¹å™¨çš„å®¹å™¨ç»„ã€‚åŒä¸€å®¹å™¨é›†ä¸­çš„æ‰€æœ‰å®¹å™¨å…±äº«åŒä¸€ä¸ª IP åœ°å€ã€IPCã€ä¸»æœºåç§°åŠå…¶å®ƒèµ„æºã€‚å®¹å™¨é›†ä¼šå°†ç½‘ç»œå’Œå­˜å‚¨ä»Žåº•å±‚å®¹å™¨ä¸­æŠ½è±¡å‡ºæ¥ã€‚è¿™æ ·ï¼Œæ‚¨å°±èƒ½æ›´åŠ è½»æ¾åœ°åœ¨é›†ç¾¤ä¸­ç§»åŠ¨å®¹å™¨ã€‚ å¤åˆ¶æŽ§åˆ¶å™¨ï¼ˆReplication controllerï¼‰ï¼š ç”¨äºŽæŽ§åˆ¶åº”åœ¨é›†ç¾¤æŸå¤„è¿è¡Œçš„å®Œå…¨ç›¸åŒçš„å®¹å™¨é›†å‰¯æœ¬æ•°é‡ã€‚ æœåŠ¡ï¼ˆServiceï¼‰ï¼šæœåŠ¡å¯å°†å·¥ä½œå®šä¹‰ä¸Žå®¹å™¨é›†åˆ†ç¦»ã€‚Kubernetes æœåŠ¡ä»£ç†ä¼šè‡ªåŠ¨å°†æœåŠ¡è¯·æ±‚åˆ†é…åˆ°æ­£ç¡®çš„å®¹å™¨é›†â€”â€”æ— è®ºè¿™ä¸ªå®¹å™¨é›†ä¼šç§»åˆ°é›†ç¾¤ä¸­çš„å“ªä¸ªä½ç½®ï¼Œå³ä½¿å®ƒå·²è¢«æ›¿æ¢ã€‚ Kubeletï¼š è¿™æ˜¯ä¸€ä¸ªåœ¨èŠ‚ç‚¹ä¸Šè¿è¡Œçš„æœåŠ¡ï¼Œå¯è¯»å–å®¹å™¨æ¸…å•ï¼Œç¡®ä¿æŒ‡å®šçš„å®¹å™¨å¯åŠ¨å¹¶è¿è¡Œã€‚ kubectlï¼š Kubernetes çš„å‘½ä»¤è¡Œé…ç½®å·¥å…· å¦‚æžœæ•°æ®åº“å®‰è£…äºŽå®¹å™¨å†…éƒ¨ï¼Œ åˆ™åœ¨æ•°æ®è†¨èƒ€åŽï¼Œæƒ³è¦å‡çº§æ•°æ®åº“å°±å˜å¾—ååˆ†çš„å›°éš¾ï¼Œ å®¹å™¨é›†å°†ä»–ä»Žå®¹å™¨ä¸­æŠ½è±¡å‡ºæ¥ä¾¿äºŽç§»åŠ¨ç®¡ç†å®¹å™¨ k8sæ•´ä½“æµç¨‹ å®¹å™¨é—´éƒ½ç”±Masterç»Ÿä¸€ç®¡ç†ï¼Œ ä¸€ä¸ªå®¹å™¨æƒ³çŸ¥é“å¦ä¸€ä¸ªå®¹å™¨çš„æœåŠ¡ï¼Œ å°±å¿…é¡»è¯¢é—®master, ç”±masterå¼•å¯¼è°ƒåº¦ Linux çš„etcç›¸å½“äºŽwindowçš„æ³¨å†Œè¡¨, Linuxä¸­çš„é…ç½®æ–‡ä»¶å’Œwindowä¸ä¸€æ ·ï¼Œ windowæ˜¯é›†ä¸­ç®¡ç† ï¼ŒLinuxæ˜¯åˆ†æ•£ç®¡ç†, etcdå°±æ˜¯ä¸ºäº†è§£å†³å¤šé›†ç¾¤æ—¶é…ç½®æ–‡ä»¶éš¾ä»¥ç»´æŠ¤çš„é—®é¢˜ å®‰è£…K8Såœ¨Linuxä¸‹å®‰è£…å•æœºç‰ˆçš„é›†ç¾¤çŽ¯å¢ƒä»¥rootèº«ä»½æ‰§è¡Œä»¥ä¸‹æ“ä½œï¼š 1. å…³é—­Linuxé˜²ç«å¢™ å¦‚æžœä¸å…³é—­å¯èƒ½ä¼šåœ¨SELinux å®‰å…¨æ¨¡å—ä¸Šå‡ºé—®é¢˜ 123systemctl stop firewalldsystemctl disable firewalld 2. å®‰è£…Kuberneteså’Œä¾èµ–ç»„ä»¶etcd1yum install -y etcd kubernetes 3. ä¿®æ”¹é…ç½® docker ä¸­çš„ SElinuxå®‰å…¨æ¨¡å—ä¹Ÿè¦å…³é—­ Dockeré…ç½®æ–‡ä»¶/etc/sysconfig/docker, OPTIONS=â€™â€“selinux-enabled=false â€“insecure-registry gcr.ioâ€™ Kubernetes apiservceé…ç½®æ–‡ä»¶/etc/kubernetes/apiserver,æŠŠâ€“admission-controlå‚æ•°ä¸­çš„ServiceAccountåˆ é™¤ 4. æŒ‰é¡ºåºå¯åŠ¨æ‰€æœ‰çš„æœåŠ¡ æä¾›é…ç½®å­˜å‚¨: systemctl start etcd k8s nodeçš„é‡è¦æœåŠ¡: systemctl start docker æä¾›å®¢æˆ·ç«¯æŽ¥å£: systemctl start kube-apiserver systemctl start kube-controller-manager æä¾›ç®¡ç†åŠŸèƒ½ï¼š systemctl start kube-scheduler æä¾›podåŠŸèƒ½: systemctl start kubelet æä¾›è·¯ç”±è¯·æ±‚: systemctl start kube-proxy K8Sç›¸å…³èµ„æº1ã€å®˜ç½‘ https://kubernetes.io 2ã€Chart åº”ç”¨ä»“åº“ https://hub.kubeapps.com/ 3ã€ä¸­æ–‡æ‰‹å†Œ https://www.kubernetes.org.cn/docs]]></content>
      <categories>
        <category>å®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>Kubernetes</tag>
        <tag>å®¹å™¨æŠ€æœ¯</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘ä¸ºä»€ä¹ˆè¦ä½¿ç”¨immutableJs]]></title>
    <url>%2F2019%2F04%2F08%2F%E3%80%90React%E3%80%91%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E4%BD%BF%E7%94%A8immutableJs%2F</url>
    <content type="text"><![CDATA[Reactè‡ªèº«çš„ä¸€äº›Bugåœ¨å¼€å‘ä¸­å¯¹Reactåº”ç”¨åšæ€§èƒ½ä¼˜åŒ–æ—¶ï¼Œ æˆ‘ä»¬é€šå¸¸ä¼šä½¿ç”¨shouldComponentUpdate è¿™ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­æ¥å†³å®šè¯¥ç»„ä»¶æ˜¯å¦éœ€è¦æ›´æ–°ï¼Œ æ¥è¿‡æ»¤æŽ‰æ²¡æœ‰æ„ä¹‰çš„æ›´æ–°ä¿®æ”¹ã€‚ å¹¶ä¸”ï¼Œå®˜æ–¹ä¹Ÿè´´å¿ƒçš„ä¸ºæˆ‘ä»¬æä¾›äº† PureComponent ç”¨æ¥çœåŽ»æˆ‘ä»¬ç¹ççš„åˆ¤æ–­ï¼Œ è‡ªåŠ¨ç”ŸæˆshouldComponentUpdate ä½†çŽ°å®žå¾€å¾€ä¸æ˜¯é‚£ä¹ˆçš„å®Œç¾Žï¼Œ PureComponent ä¹Ÿæœ‰è§£å†³ä¸äº†é—®é¢˜çš„æ—¶å€™ï¼Œ ä¸ºäº†æ›´å¥½çš„ç†è§£ï¼Œ æˆ‘ä»¬å…ˆæ¥æ˜¾ç¤ºçš„ä½¿ç”¨shouldComponentUpdateæ“ä½œä¸€é 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869// çˆ¶ç»„ä»¶class TodoList extends Component &#123; constructor(props) &#123; super(props) this.state = &#123; todoList: [ 'å–å¯ä¹', 'æ‰“æ¸¸æˆ' ] &#125; &#125; shouldComponentUpdate(nextProps, nextState) &#123; if( this.state.todoList != nextState.todoList ) &#123; console.log('ä¸¤æ¬¡ä¸ä¸€è‡´ï¼Œ åŒæ„æ›´æ–°') return true &#125; console.log('æ›´æ–°å‰åŽtodolist ä¸€è‡´ï¼Œ æ‰€ä»¥ä¸æ›´æ–°') return false &#125; // æ•°ç»„concatæ“ä½œï¼Œ ä¼šè¿”å›žæ–°æ•°ç»„ concatHandle() &#123; let todoList = this.state.todoList const rd = Math.random() * 30 todoList = todoList.concat([ `æžäº‹æƒ…:$&#123;rd&#125;` ]) this.setState(() =&gt; (&#123; todoList &#125;)) &#125; // æ•°ç»„Pushæ“ä½œï¼Œ æœªæ”¹å˜åŽŸæ•°ç»„ pushHandle() &#123; let todoList = this.state.todoList const rd = Math.random() * 30 todoList.push( `æžäº‹æƒ…:$&#123;rd&#125;` ) this.setState(() =&gt; (&#123; todoList &#125;)) &#125; render() &#123; const &#123; todoList &#125; = this.state return ( &lt;div className="wrap"&gt; &lt;button onClick=&#123;() =&gt; this.pushHandle()&#125;&gt;Pushæ“ä½œ&lt;/button&gt; &lt;button onClick=&#123;() =&gt; this.concatHandle()&#125;&gt;concatæ“ä½œ&lt;/button&gt; &#123; todoList.map( (item,index) =&gt; &lt;TodoItem key=&#123;index&#125; thing=&#123;item&#125; /&gt; ) &#125; &lt;/div&gt; ) &#125;&#125;// å­ç»„ä»¶class TodoItem extends Component &#123; constructor(props) &#123; super(props) &#125; render() &#123; return ( &lt;div&gt; &#123; this.props.thing &#125; &lt;/div&gt; ) &#125;&#125; æˆ‘ä»¬åœ¨shouldComponentUpdate è¿›è¡Œäº†ç®€å•çš„åˆ¤æ–­ï¼Œ ä½†æ˜¯å¯æ‚²çš„æ˜¯è¿™åªåœ¨å¯¹æ¯”æ™®é€šç±»åž‹æ—¶æ¯”è¾ƒçš„å¥æ•ˆï¼Œ å› ä¸ºJavaScriptä¸­å­˜åœ¨è¿™å¼•ç”¨ç±»åž‹çš„æ¦‚å¿µï¼Œ æ‰€ä»¥å¯¹äºŽå¼•ç”¨ç±»åž‹æ¥è¯´== ä¼šå˜æˆåˆ¤æ–­è¯¥å˜é‡åœ°å€çš„æ“ä½œ å£è¯´æ— å‡­ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹å®žé™…çš„æƒ…å†µã€‚ æˆ‘çš„å¤©ï¼Œè¿™æ˜¯æ€Žä¹ˆå›žäº‹ï¼Œ å®žé™…æƒ…å†µå¥½åƒè¦æ›´å¤æ‚ä¸€äº›ï¼ç‚¹å‡»äº†ä¸¤æ¬¡Pushæ²¡æœ‰ååº”ï¼Œ ç„¶è€Œåœ¨ç‚¹å‡»concatçš„æ—¶å€™ï¼Œ ä¸€çž¬é—´å¤šå‡ºäº†3æ¡ å†·é™åˆ†æžå¯¹äºŽè¿™ç§ç§éžæ­£å¸¸çŽ°è±¡ï¼Œ æˆ‘ä»¬æœ‰å¿…è¦ä¿æŒæ¸…æ–°çš„å¤´è„‘åŽ»åˆ†æžä¸€ä¸‹ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ ç¬¬ä¸€æ¬¡ç‚¹å‡»pushæ“ä½œï¼Œ é¡µé¢æ²¡æœ‰ä»»ä½•ååº”ï¼Œ åªæ˜¯åœ¨æŽ§åˆ¶å°æ‰“å°äº†æ›´æ–°å‰åŽtodolist ä¸€è‡´ï¼Œ æ‰€ä»¥ä¸æ›´æ–°, å“¦~ï¼Œ çœ‹åˆ°è¿™ä¸ªæˆ‘ä»¬çŸ¥é“äº†ï¼Œ æ­¤æ¬¡ç»„ä»¶çš„æ›´æ–°è¢«shouldComponentUpdateæ‹¦æˆªäº†ï¼Œ è¿™æ€Žä¹ˆè¡Œå‘¢ï¼Œ æˆ‘è¦æ›´æ–°çš„ä½ ç»™æˆ‘æ‹¦æˆªäº†ï¼Œ æˆ‘æ•°ç»„æ˜Žæ˜Žå˜åŒ–äº†å•Šï¼Œ æˆ‘æ•°ç»„æ–°å¢žäº†å†…å®¹ï¼Œ ä½ å°±è¯¥ç»™æˆ‘æ­£å¸¸å˜åŒ–ï¼Œ è¿™ä¸æ˜¯å‘äººå— PureComponentçœ‹åˆ°è¿™ï¼Œä½ å¯èƒ½ä¼šè¯´ï¼Œ å®˜æ–¹ä¸æ˜¯æä¾›äº†PureComponentå—ï¼Œ å®˜æ–¹ç»™çš„è¿˜èƒ½è·Ÿä½ ä¸€æ ·è¿™ä¹ˆé¾Šï¼Ÿ è¯¥æ›´æ–°çš„ä¸æ›´æ–°ï¼Ÿ æ‚¨è¿˜åˆ«ä¸ä¿¡ï¼Œ å®ƒå°±è¿™ä¹ˆé¾Šï¼Œ PureComponent å…¶å®žæ˜¯å¾ˆå‚»çš„ï¼Œ ä»–ä¹Ÿåªæ˜¯å•çº¯çš„å¸®æˆ‘ä»¬åšäº†ä¸Šé¢æˆ‘ä»¬é‚£æ ·çš„æ“ä½œï¼Œ è™½ç„¶è¿™æ ·é’ˆå¯¹åŸºæœ¬ç±»åž‹æ¥è¯´å·²ç»éžå¸¸å¤Ÿç”¨äº†ï¼Œ èƒ½å¤Ÿè§£å†³é—®é¢˜äº†ï¼Œ ä½†æ˜¯ä¸€æ—¦é‡ä¸Šäº†å¼•ç”¨ç±»åž‹ï¼Œ å®ƒå¯å°±æ­‡èœäº†ï¼Œ è¿˜ä¼šå¼•èµ·ä½ é¡µé¢çš„å¥‡å¦™Bug ä¸ä¿¡å’±ä»¬æ¥æµ‹è¯•ä¸‹ï¼Œ æˆ‘ä»¬ä¿®æ”¹ä¸‹çˆ¶ç»„ä»¶ä»£ç ï¼Œ å­ç»„ä»¶ä¿æŒä¸€è‡´:123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354// æ›¿æ¢ä¸º PureComponentclass TodoList extends PureComponent &#123; constructor(props) &#123; super(props) this.state = &#123; todoList: [ 'å–å¯ä¹', 'æ‰“æ¸¸æˆ' ] &#125; &#125; // ------------ åˆ é™¤æŽ‰ shouldComponentUpdate ------------------------ // shouldComponentUpdate(nextProps, nextState) &#123; // if( this.state.todoList != nextState.todoList ) &#123; // console.log('ä¸¤æ¬¡ä¸ä¸€è‡´ï¼Œ åŒæ„æ›´æ–°') // return true // &#125; // console.log('æ›´æ–°å‰åŽtodolist ä¸€è‡´ï¼Œ æ‰€ä»¥ä¸æ›´æ–°') // return false // &#125; concatHandle() &#123; let todoList = this.state.todoList const rd = Math.random() * 30 todoList = todoList.concat([ `concatæ“ä½œ: $&#123;rd&#125;` ]) this.setState(() =&gt; (&#123; todoList &#125;)) &#125; pushHandle() &#123; let todoList = this.state.todoList const rd = Math.random() * 30 todoList.push( `pushæ“ä½œ:$&#123;rd&#125;` ) this.setState(() =&gt; (&#123; todoList &#125;)) &#125; render() &#123; const &#123; todoList &#125; = this.state return ( &lt;div className="wrap"&gt; &lt;button onClick=&#123;() =&gt; this.pushHandle()&#125;&gt;Pushæ“ä½œ&lt;/button&gt; &lt;button onClick=&#123;() =&gt; this.concatHandle()&#125;&gt;concatæ“ä½œ&lt;/button&gt; &#123; todoList.map( (item,index) =&gt; &lt;TodoItem key=&#123;index&#125; thing=&#123;item&#125; /&gt; ) &#125; &lt;/div&gt; ) &#125;&#125; æ¥çœ‹çœ‹ç»“æžœ å“Žï¼Œ è¿˜æ˜¯ä¸€æ ·çš„å‘ é‚£è¿™ä¸ªBugæ€Žä¹ˆåŠžï¼Œ è¿™æ—¶å€™å°±è¯·æœ¬æ–‡çš„ä¸»è§’immutableJsç™»åœºå§ immutableJs Facebook å·¥ç¨‹å¸ˆ Lee Byron èŠ±è´¹ 3 å¹´æ—¶é—´æ‰“é€ ï¼Œä¸Ž React åŒæœŸå‡ºçŽ°ï¼Œä½†æ²¡æœ‰è¢«é»˜è®¤æ”¾åˆ° React å·¥å…·é›†é‡Œï¼ˆReact æä¾›äº†ç®€åŒ–çš„ Helperï¼‰ã€‚å®ƒå†…éƒ¨å®žçŽ°äº†ä¸€å¥—å®Œæ•´çš„ Persistent Data Structureï¼Œè¿˜æœ‰å¾ˆå¤šæ˜“ç”¨çš„æ•°æ®ç±»åž‹ã€‚åƒCollectionã€Listã€Mapã€Setã€Recordã€Seqã€‚æœ‰éžå¸¸å…¨é¢çš„mapã€filterã€groupByã€reduceã€findå‡½æ•°å¼æ“ä½œæ–¹æ³•ã€‚åŒæ—¶ API ä¹Ÿå°½é‡ä¸Ž Object æˆ– Array ç±»ä¼¼ã€‚ ä½¿ç”¨ immutableJs é¿å…è¿™ä¸ªå‰¯ä½œç”¨çš„ä¸€ç§å®žçŽ°æ˜¯æŒ‰å€¼ä¼ é€’ï¼Œä¹Ÿå°±æ˜¯æ‹·è´ä¸€ä»½å†ä¼ é€’è¿‡åŽ»ï¼Œæœ‰æ·±å±‚ç»“æž„å°±æ·±æ‹·è´ã€‚æ·±æ‹·è´åœ¨åªåšå±€éƒ¨ä¿®æ”¹çš„æ—¶å€™åšäº†å¾ˆå¤šæ— ç”¨åŠŸï¼ŒäºŽæ˜¯ImmutableJsåšäº†æ€§èƒ½ä¼˜åŒ–ã€‚ ä½¿ç”¨å®ƒå¸¦æ¥çš„å¥½å¤„ç½‘ä¸Šæ‰¾äº†ä¸ªå›¾ï¼Œå‡å¦‚æˆ‘ä»¬è¦ä¿®æ”¹å·¦å›¾ä¸­é»„è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹4ï¼Œé‚£ä¹ˆImmutable.jsåªéœ€è¦æ›´æ–°å³å›¾ä¸­çš„ç»¿è‰²èŠ‚ç‚¹ï¼Œå…¶ä½™èŠ‚ç‚¹ä¸éœ€æ‹·è´ï¼Œç»§ç»­å¤ç”¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼ŒImmutable.jsä¼šæ›´æ–°ä»Žæ ¹èŠ‚ç‚¹åˆ°æ‰€ä¿®æ”¹èŠ‚ç‚¹è·¯å¾„ä¸Šçš„æ‰€æœ‰èŠ‚ç‚¹ï¼Œç”±äºŽä¿®æ”¹äº†æ ¹èŠ‚ç‚¹ï¼Œæ‰€ä»¥è¿”å›žä¸€ä¸ªæ–°å¯¹è±¡ï¼Œè¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆèƒ½æŽ§åˆ¶å‰¯ä½œç”¨ã€‚ å‡å¦‚ä½ åœ¨ç»„ä»¶stateä¸­ä¿å­˜äº†ä¸€ä»½æœ‰æ·±å±‚ç»“æž„çš„å¼•ç”¨ç±»åž‹çš„æ•°æ®ï¼Œå¦‚æžœæ²¡æœ‰Immutable.jsï¼Œä½ éœ€è¦æ·±æ‹·è´ä¸€ä»½å†åšä¿®æ”¹ã€‚è€Œç”¨Immutable.jså°†stateä¸­çš„æ•°æ®åŒ…è£…ä¸€ä¸‹ï¼Œä¸éœ€æ·±æ‹·è´å°±å¯ä»¥ç›´æŽ¥ä¿®æ”¹ã€‚ ç”±äºŽä¿®æ”¹åŽè¿”å›žçš„æ˜¯æ–°å¯¹è±¡ï¼ŒReact.jsåªéœ€è¦åœ¨oldState.obj === newState.objè¿™ä¸€å±‚å°±èƒ½åˆ¤æ–­å‡ºobjäº§ç”Ÿäº†å˜åŒ–ï¼Œä¸éœ€è¦æ·±å…¥objçš„æ·±å±‚ç»“æž„ã€‚ å¸¦æ¥å‡ ç§æ“ä½œæ–¹ä¾¿çš„æ•°æ®ç»“æž„å’ŒAPI]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…‰æºå…¥é—¨ä¹‹èšå…‰ç¯]]></title>
    <url>%2F2019%2F04%2F04%2F%E3%80%90Three%E3%80%91Three-js%E5%85%89%E6%BA%90%E5%85%A5%E9%97%A8%E4%B9%8B%E8%81%9A%E5%85%89%E7%81%AF%2F</url>
    <content type="text"><![CDATA[èšå…‰ç¯æ˜¯ä¸€ç‰¹æ®Šçš„å…‰æºï¼Œ èšå…‰ç¯èƒ½æœä¸€ä¸ªæ–¹å‘æŠ•å°„å‡ºé”¥å½¢çš„å…‰çº¿ã€‚ åŸºç¡€ç‰¹æ€§ å…·æœ‰é”¥å½¢æ•ˆæžœçš„å…‰æºï¼Œ èƒ½å¤Ÿæœç€ä¸€ä¸ªæ–¹å‘æŠ•å°„å…‰çº¿ æœ€å¸¸ç”¨åˆ°çš„å…‰æºï¼Œ å®ƒå¯ä»¥äº§ç”Ÿé˜´å½± é”¥å½¢æ•ˆæžœï¼Œ ç±»ä¼¼ç”µç­’å…‰ç…§æ•ˆæžœ å…‰ç…§æ•ˆæžœæ ·ä¾‹ ä½¿ç”¨æ–¹å¼ THREE.SpotLight(hex, intensity, distance, angle, exponent) castShadow â€”- å¦‚æžœè®¾ç½®ä¸ºtrue, è¿™ä¸ªå…‰æºå°±ä¼šäº§ç”Ÿé˜´å½±ã€‚target â€”- å†³å®šå…‰ç…§æ–¹å‘ã€‚angle â€”- å…‰ç…§çš„è§’åº¦ï¼Œ é»˜è®¤å€¼æ˜¯ Math.PI / 3 å®žè·µä¸€ä¸‹æŒ‰ç…§æƒ¯ä¾‹ï¼Œ æˆ‘ä»¬æµ‹è¯•ç¯å…‰éœ€è¦æœ‰å‡ ä½•ç‰©ä½“æ‰èƒ½ä½“çŽ°å‡ºæ¥ï¼Œ å› ä¸ºèšå…‰ç¯æ˜¯ä¸­å¿ƒæœ€äº®ï¼Œ é€æ¸å‘å¤–å˜æš—ï¼Œ æ‰€ä»¥æˆ‘ä»¬åˆ›å»ºå‡ ä¸ªç«‹æ–¹ä½“ï¼Œ ç„¶åŽæƒ³åŠžæ³•æ‘†åŠ¨ä¸€ä¸‹èšå…‰ç¯çš„ä½ç½®å’Œè§’åº¦çœ‹çœ‹å…·ä½“æ•ˆæžœ ç¬¬ä¸€æ­¥-åˆ›å»ºç«‹æ–¹ä½“12345678// ç«‹æ–¹ä½“var cubeGeometry = new THREE.BoxGeometry(5,5,5)var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;)var cube = new THREE.Mesh(cubeGeometry, cubeMaterial)// æ‰“å¼€ç«‹æ–¹ä½“çš„é˜´å½±cube.castShadow = truecube.position.set(-4, 2.5, 0)commonObj.scene.add(cube) // è°ƒæ•´ç›¸æœºä½ç½® ç¬¬äºŒæ­¥-åˆ›å»ºçƒä½“123456// åœ†çƒvar sphereGeometry = new THREE.SphereGeometry(4, 20, 30)var sphreMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;)var sphere = new THREE.Mesh(sphereGeometry, sphreMaterial)sphere.position.set(20, 6, 0)commonObj.scene.add(sphere) ç¬¬ä¸‰æ­¥-åˆ›å»ºèšå…‰ç¯åˆ›å»ºèšå…‰ç¯å¹¶å°†èšå…‰ç¯çš„ç›®æ ‡è°ƒæ•´ä¸ºåˆšæ‰åˆ›å»ºçš„ çƒä½“ 123456789 // èšå…‰ç¯å…‰æºvar spotLight = new THREE.SpotLight('#ffffff')spotLight.position.x = -40spotLight.position.y = 60spotLight.position.z = -12// é€‰æ‹©ç…§å°„ç›®æ ‡sphere.target = sphere// åŠ å…¥åœºæ™¯commonObj.scene.add(spotLight) ç¬¬å››æ­¥-ç”¨é”®ç›˜æŽ§åˆ¶èšå…‰ç¯çš„è§’åº¦åŠä½ç½®é”®ç›˜æ–¹å‘çš„ä¸Šä¸‹é”®æŽ§åˆ¶èšå…‰ç¯çš„è§’åº¦ï¼Œå·¦å³é”®æŽ§åˆ¶èšå…‰ç¯çš„ä½ç½® 123456789101112131415161718192021222324// è®¾ç½®åˆå§‹è§’åº¦var angleNUM = 3document.onkeydown = function (e) &#123; // ä¸Šé”® æŽ§åˆ¶èšå…‰ç¯è§’åº¦ switch(e.keyCode) &#123; case 38: angleNUM += 1 break; // ä¸‹é”® case 40: angleNUM -= 1 if( angleNUM &lt; 1 ) &#123; angleNUM = 1 &#125; break // å·¦å³é”®æŽ§åˆ¶èšå…‰ç¯ä½ç§» case 37: spotLight.position.x += 2 break case 39: spotLight.position.x -= 2 break &#125;&#125; ç¬¬äº”æ­¥-å®žæ—¶æ¸²æŸ“åœ¨æ¯ä¸€å¸§æ—¶æ ¹æ®å½“å‰çš„æƒ…å†µè°ƒæ•´èšå…‰ç¯çš„è§’åº¦ 12345function render() &#123; window.requestAnimationFrame(render) commonObj.renderer.render(commonObj.scene, commonObj.camera) spotLight.angle = Math.PI / angleNUM&#125; æœ€ç»ˆæ•ˆæžœè¯¥å›¾ä¸­ï¼Œ å‰åŠæ®µæˆ‘å…ˆæŒ‰äº†ä¸Šä¸‹é”®æ¥è°ƒæ•´èšå…‰ç¯è§’åº¦ï¼Œ åŽåŠæ®µæˆ‘æŒ‰äº†å·¦å³é”®æ¥æŽ§åˆ¶èšå…‰ç¯ä½ç½® å®Œæ•´ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879808182838485868788899091&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;script src="../common/common.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script src="../SceneUtils.js"&gt;&lt;/script&gt;&lt;script src="../common/common.js"&gt;&lt;/script&gt;&lt;script&gt; var commonObj = common() // ç«‹æ–¹ä½“ var cubeGeometry = new THREE.BoxGeometry(5,5,5) var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;) var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // æ‰“å¼€ç«‹æ–¹ä½“çš„é˜´å½± cube.castShadow = true cube.position.set(-4, 2.5, 0) commonObj.scene.add(cube) // è°ƒæ•´ç›¸æœºä½ç½® // åœ†çƒ var sphereGeometry = new THREE.SphereGeometry(4, 20, 30) var sphreMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;) var sphere = new THREE.Mesh(sphereGeometry, sphreMaterial) sphere.position.set(20, 6, 0) commonObj.scene.add(sphere) commonObj.camera.position.set(-25, 20, 25) // é•œå¤´æœå‘èˆžå°ä¸­å¤® commonObj.camera.lookAt(commonObj.scene.position) // èšå…‰ç¯å…‰æº var spotLight = new THREE.SpotLight('#ffffff') spotLight.position.x = -40 spotLight.position.y = 60 spotLight.position.z = -12 // é€‰æ‹©ç…§å°„ç›®æ ‡ sphere.target = sphere commonObj.scene.add(spotLight) function render() &#123; window.requestAnimationFrame(render) commonObj.renderer.render(commonObj.scene, commonObj.camera) spotLight.angle = Math.PI / angleNUM &#125; // è®¾ç½®åˆå§‹è§’åº¦ var angleNUM = 3 document.onkeydown = function (e) &#123; // ä¸Šé”® æŽ§åˆ¶èšå…‰ç¯è§’åº¦ switch(e.keyCode) &#123; case 38: angleNUM += 1 break; // ä¸‹é”® case 40: angleNUM -= 1 if( angleNUM &lt; 1 ) &#123; angleNUM = 1 &#125; break // èšå…‰ç¯ä½ç§» case 37: spotLight.position.x += 2 break case 39: spotLight.position.x -= 2 break &#125; &#125; render() document.body.appendChild(commonObj.renderer.domElement)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹å…‰æº]]></title>
    <url>%2F2019%2F04%2F04%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E5%85%89%E6%BA%90%2F</url>
    <content type="text"><![CDATA[å…‰æºä¹Ÿåˆ†ä¸ºå¾ˆå¤šç§ AmbientLight â€”- çŽ¯å¢ƒå…‰ PonitLight â€”- ç‚¹å…‰æº SpotLight â€”- èšå…‰ç¯ DirectionalLight â€”- å¹³è¡Œå…‰ ç„¶åŽè¿˜æœ‰å„ç§é«˜çº§çš„å…‰ç…§æ•ˆæžœ å…‰æºç§ç±»æè¿° å…·ä½“å†…å®¹åœ¨ç«™å†…æœç´¢å…‰æºçš„å…³é”®å­—ï¼Œ å¦‚ï¼šçŽ¯å¢ƒå…‰ï¼Œ ç¯‡å¹…å¤ªé•¿ä¸åœ¨æ­¤å¤„æè¿° çŽ¯å¢ƒå…‰ AmbientLight åŸºç¡€å…‰æºï¼Œ å½±å“æ•´ä¸ªåœºæ™¯çš„å…‰æº ç‚¹å…‰æº PonitLight ç©ºé—´ä¸­çš„ä¸€ä¸ªç‚¹ï¼Œ æœæ‰€æœ‰æ–¹å‘å‘å°„å…‰æº èšå…‰ç¯ SpotLight å…·æœ‰é”¥å½¢æ•ˆæžœçš„èšå…‰ç¯å…‰æº å¹³è¡Œå…‰æ— é™å…‰ï¼Œ æ¨¡æ‹Ÿè¿œå¤„å¤ªé˜³çš„å…‰è¾‰ é«˜çº§å…‰ç…§æ•ˆæžœ åŠçƒå…‰ å¹³é¢å…‰ é•œå¤´çœ©å…‰]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…‰æºå…¥é—¨ä¹‹çŽ¯å¢ƒå…‰]]></title>
    <url>%2F2019%2F04%2F04%2F%E3%80%90Three%E3%80%91Three-js%E5%85%89%E6%BA%90%E5%85%A5%E9%97%A8%E4%B9%8B%E7%8E%AF%E5%A2%83%E5%85%89%2F</url>
    <content type="text"><![CDATA[çŽ¯å¢ƒå…‰æ˜¯çŽ¯å¢ƒæ•´ä½“çš„å…‰ç…§æ•ˆæžœï¼Œ æ˜¯åœºæ™¯å†…è‹¥å¹²å…‰æºçš„å¤šæ¬¡åå°„å½¢æˆçš„ä¸€ç§äº®åº¦ä¸€è‡´çš„æ•ˆæžœ çŽ¯å¢ƒå…‰ AmbientLight å®ƒæ˜¯ä¸€ç§åŸºç¡€å…‰æºï¼Œ å½±å“æ•´ä¸ªåœºæ™¯çš„å…‰æº çŽ¯å¢ƒå…‰æ²¡æœ‰æ˜Žç¡®çš„å…‰æºä½ç½®ï¼Œ åœ¨å„å¤„å½¢æˆçš„äº®åº¦ä¹Ÿæ˜¯ä¸€è‡´çš„ã€‚ å®ƒä¸ä¼šå½±å“é˜´å½±çš„äº§ç”Ÿã€‚ ä¸èƒ½å°†çŽ¯å¢ƒå…‰ä½œä¸ºåœºæ™¯ä¸­å”¯ä¸€çš„å…‰æºã€‚ åœ¨Threeä¸­ä½¿ç”¨ THREE.AmbientLight(hex) add(color) æ·»åŠ åˆ°å½“å‰é¢œè‰²ä¸Š clone å¤åˆ¶å½“å‰é¢œè‰² å¦‚æžœåªæœ‰çŽ¯å¢ƒå…‰æ²¡æœ‰ç‰©åŒæ ·æ˜¯çœ‹ä¸è§ä¸œè¥¿çš„ï¼Œ æ‰€ä»¥æƒ³æµ‹è¯•çŽ¯å¢ƒå…‰ï¼Œ å¾—å…ˆåˆ›å»ºç‰©ä½“ï¼Œ çœ‹ä¸€ä¸‹ä¸‹é¢ä¸¤å¹…å›¾: è¿™æ˜¯æ­£å¸¸çŽ¯å¢ƒå…‰æƒ…å†µä¸‹çš„ç‰©ä½“ ç„¶åŽæˆ‘ä»¬æŠŠçŽ¯å¢ƒå…‰è°ƒæš—ä¸€ç‚¹: å¯ä»¥çœ‹åˆ°ï¼Œ ä¸¤å¼ å›¾ä¸­é²œè‰³çš„ç»¿è‰²æ˜Žæ˜¾çš„æš—æ·¡äº† çŽ¯å¢ƒå…‰æ¢è‰²åˆšåˆšæˆ‘ä»¬åªæ˜¯è°ƒæ•´äº†äº®åº¦æ˜Žæš—ï¼Œ çŽ°åœ¨æˆ‘ä»¬è¯•è¯•ç»™çŽ¯å¢ƒå…‰æ¢ä¸ªé¢œè‰²ï¼Œ å°±æ¢ä¸ªçº¢è‰²å§ï¼Œ çº¢è‰²çš„ç¯æ„Ÿè§‰è›®å“äººçš„ æˆ‘ä»¬å‘çŽ°ï¼Œ ç«‹æ–¹ä½“å¥½åƒå°‘äº†ä¸€ä¸ªï¼Œ è¿™æ˜¯å› ä¸ºä¸€ä¸ªä¸é€æ˜Žçš„ç‰©ä½“ ï¼Œ æˆ‘ä»¬æ‰€çœ‹åˆ°çš„é¢œè‰²å…¶å®žæ˜¯ä»–åå°„å‡ºæ¥çš„é¢œè‰²ï¼Œ è€Œç»¿è‰²ç«‹æ–¹ä½“æ— æ³•åå°„çº¢è‰²é€šé“çš„é¢œè‰²ï¼Œ æ‰€ä»¥ï¼Œ ç»¿è‰²ç«‹æ–¹ä½“åœ¨æˆ‘ä»¬çœ‹ä¸ŠåŽ»å°±åƒæ˜¯éšè—äº†ä¸€æ ·ï¼Œ å®žé™…ä¸Šæ˜¯é»‘äº†ï¼Œ è€Œæˆ‘ä»¬çš„ç™½è‰²ï¼Œ ä»–èƒ½åå°„æ‰€æœ‰é¢œè‰²ï¼Œ æ‰€ä»¥æ˜¯ä»–å°±å˜çº¢äº† å¦‚ä½•æ·»åŠ 1scene.add(new THREE.AmbientLight(0xff0000)) å®žé™…æ“ä½œä¸€ä¸‹å¤§ä½“æ€è·¯ï¼Œ æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªé¢ï¼Œå’Œä¸€ä¸ªç«‹æ–¹ä½“ï¼Œ å…ˆä¸æŠ•å°„ä»»ä½•çš„å…‰ï¼Œçœ‹çœ‹æ˜¯ä»€ä¹ˆæ•ˆæžœï¼Œ ç„¶åŽæˆ‘ä»¬æœ€åŽæ”¾ä¸ŠçŽ¯å¢ƒå…‰ï¼Œçœ‹ä¸€ä¸‹æ•ˆæžœ ç¬¬ä¸€æ­¥-åˆ›å»ºå¥½ç«‹æ–¹ä½“å’Œé¢123456789101112131415161718var commonObj = common() var cubeGeometry = new THREE.BoxGeometry(5,5,5) var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;) var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // æ‰“å¼€ç«‹æ–¹ä½“çš„é˜´å½± cube.castShadow = true cube.position.set(-4, 2.5, 0) commonObj.scene.add(cube) // è°ƒæ•´ç›¸æœºä½ç½® commonObj.camera.position.set(-25, 20, 25) // é•œå¤´æœå‘èˆžå°ä¸­å¤® commonObj.camera.lookAt(commonObj.scene.position) document.body.appendChild(commonObj.renderer.domElement) commonObj.renderer.render(commonObj.scene, commonObj.camera) æ­¤æ—¶æµè§ˆå™¨ä¸­çš„æ•ˆæžœ å¯ä»¥çœ‹åˆ°ï¼Œ æ­¤æ—¶å°½ç®¡æˆ‘ä»¬ç»™ç‰©ä½“è®¾å®šäº†ä»–çš„é¢œè‰²ï¼Œ ä½†æˆ‘ä»¬çœ‹åˆ°çš„ä¸ç®¡æ˜¯é¢è¿˜æ˜¯ç«‹æ–¹ä½“éƒ½ä¾æ—§æ˜¯é»‘è‰²ã€‚ ç¬¬äºŒæ­¥-æ·»åŠ å…‰æºä¸Šå¸è¯´è¦æœ‰å…‰ï¼Œ æˆ‘ä»¬ç»™æ·»åŠ ä¸€ä¸ªçŽ¯å¢ƒå…‰è¯•è¯• 12// çŽ¯å¢ƒå…‰commonObj.scene.add(new THREE.AmbientLight()) // é»˜è®¤ç™½å…‰ å¥½ï¼Œ å°±è¿™è¡Œä»£ç ï¼Œå°±ç®—æ˜¯åŠ ä¸Šäº† ç¬¬ä¸‰æ­¥-æ”¹å˜çŽ¯å¢ƒå…‰é¢œè‰²çŽ¯å¢ƒå…‰é»˜è®¤æ˜¯ç™½è‰²ï¼Œ é‚£æˆ‘ä»¬å¯ä¸å¯ä»¥è¯•ç€æ”¹å˜ä¸€ä¸‹ï¼Œ æŠŠçŽ¯å¢ƒå…‰æ”¹ä¸ºçº¢è‰²ï¼Ÿ æ˜¯ä¸æ˜¯ä¼šå¾ˆå“äºº 12// çŽ¯å¢ƒå…‰commonObj.scene.add(new THREE.AmbientLight(0xff0000)) // è®¾ç½®çº¢è‰² æ­¤æ—¶åŽŸæœ¬ç™½è‰²çš„é¢ï¼Œä¹Ÿå˜ä¸ºäº†çº¢è‰²ï¼Œ æ„Ÿè§‰å¥½åˆºçœ¼ï¼Œ å“å¾—æˆ‘èµ¶ç´§å…³äº† å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script src="../SceneUtils.js"&gt;&lt;/script&gt;&lt;script src="../common/common.js"&gt;&lt;/script&gt;&lt;script&gt; // å…¬å…±çš„æ–¹æ³• function common() &#123; var scene = new THREE.Scene() var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xEEEEEE, 1.0)) renderer.setSize(window.innerWidth, window.innerHeight) renderer.shadowMapEnabled = true // åˆ›å»ºé¢ var planeGeometry = new THREE.PlaneGeometry(60, 30) // æè´¨ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xffffff&#125;) var plane = new THREE.Mesh(planeGeometry, planeMaterial) plane.rotation.x = -0.5 * Math.PI plane.position.set(15, 0, 10) scene.add(plane) var camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000) return &#123; scene, renderer, plane, camera &#125; &#125; // å¼€å§‹åˆ›å»º var commonObj = common() var cubeGeometry = new THREE.BoxGeometry(5,5,5) var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;) var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // æ‰“å¼€ç«‹æ–¹ä½“çš„é˜´å½± cube.castShadow = true cube.position.set(-4, 2.5, 0) commonObj.scene.add(cube) // è°ƒæ•´ç›¸æœºä½ç½® commonObj.camera.position.set(-25, 20, 25) // é•œå¤´æœå‘èˆžå°ä¸­å¤® commonObj.camera.lookAt(commonObj.scene.position) // çŽ¯å¢ƒå…‰ commonObj.scene.add(new THREE.AmbientLight()) document.body.appendChild(commonObj.renderer.domElement) commonObj.renderer.render(commonObj.scene, commonObj.camera)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…‰æºå…¥é—¨ä¹‹ç‚¹å…‰æº]]></title>
    <url>%2F2019%2F04%2F04%2F%E3%80%90Three%E3%80%91Three-js%E5%85%89%E6%BA%90%E5%85%A5%E9%97%A8%E4%B9%8B%E7%82%B9%E5%85%89%E6%BA%90%2F</url>
    <content type="text"><![CDATA[ç‚¹å…‰æºæ˜¯ä¸€ç§å•ç‚¹å‘å…‰ç…§äº®ç‰©ä½“çš„å…‰æº åŸºç¡€ä»‹ç» ç…§å°„æ‰€æœ‰æ–¹å‘çš„å…‰æºï¼Œä¾‹å¦‚ç…§æ˜Žå¼¹ ç‚¹å…‰æºæ˜¯å•ç‚¹å‘å…‰æ–¹å¼ ç‚¹å…‰æºä¸ä¼šäº§ç”Ÿé˜´å½±ï¼Œ å‡å°‘GPU çš„è´Ÿæ‹… è°ƒç”¨æ–¹æ³•1THREE.PointLight(hex, intensity, distance) clone() â€”- å¤åˆ¶å½“å‰é¢œè‰²ã€‚ color å…‰æºé¢œè‰² intensity â€”- å…‰ç…§å¼ºåº¦ distance â€”- å…‰æºç…§å°„çš„è·ç¦» position â€”- å…‰æºæ‰€åœ¨ä½ç½® æµ‹è¯•ç‚¹å…‰æºæµ‹è¯•æ–¹æ³•å’Œå¤§ä½“ä¸Šå’ŒçŽ¯å¢ƒå…‰æ˜¯ä¸€æ ·çš„ï¼Œ ä½†æ˜¯ç‚¹å…‰æºå’ŒçŽ¯å¢ƒå…‰ä¸åŒçš„æ˜¯ï¼Œ ä»–æœ‰ä¸ªç‰¹ç‚¹ï¼Œ å®ƒèƒ½äº§ç”Ÿé˜´å½± é‚£æˆ‘ä»¬å°±åˆ›å»ºä¸€ä¸ªç‚¹å…‰æºå’Œå‡ ä¸ªå‡ ä½•ç‰©ä½“ï¼Œ é¡ºä¾¿ç§»åŠ¨ä¸€ä¸‹ç‚¹å…‰æºï¼Œ çœ‹çœ‹é˜´å½±æ˜¯å¦‚ä½•å˜åŒ–çš„ åˆ›å»ºç«‹æ–¹ä½“1234567// ç«‹æ–¹ä½“var cubeGeomtry = new THREE.BoxGeometry(5,5,5)var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;)var cube = new THREE.Mesh(cubeGeomtry, cubeMaterial)cube.position.set(0, 6, 0)commonObj.scene.add(cube) åˆ›å»ºçƒä½“123456// çƒä½“var sphereGeometry = new THREE.SphereGeometry(4, 20, 30)var sphreMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;)var sphere = new THREE.Mesh(sphereGeometry, sphreMaterial)sphere.position.set(20, 6, 0)commonObj.scene.add(sphere) åˆ›å»ºç‚¹å…‰æº1234// æ·»åŠ ç‚¹å…‰æºvar pointLight = new THREE.PointLight(0xffffff)pointLight.position.set(-40, 60, -10)commonObj.scene.add(pointLight) è®©ç‚¹å…‰æºåŠ¨èµ·æ¥1234567function render() &#123; requestAnimationFrame(render) pointLight.position.z += 0.2 commonObj.renderer.render(commonObj.scene, commonObj.camera)&#125;render() æœ€ç»ˆæ•ˆæžœæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ éšç€ç‚¹å…‰æºçš„ä¸æ–­å‘ç”Ÿä½ç½®å˜åŠ¨ï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°é˜´å½±å‘ç”Ÿé€æ¸çš„å‘ç”Ÿå˜åŒ– å®Œæ•´ä»£ç 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;script src="../common/common.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script src="../SceneUtils.js"&gt;&lt;/script&gt;&lt;script src="../common/common.js"&gt;&lt;/script&gt;&lt;script&gt; var commonObj = common() // ç«‹æ–¹ä½“ var cubeGeomtry = new THREE.BoxGeometry(5,5,5) var cubeMaterial = new THREE.MeshLambertMaterial(&#123; color: 0xff0000 &#125;) var cube = new THREE.Mesh(cubeGeomtry, cubeMaterial) cube.position.set(0, 6, 0) commonObj.scene.add(cube) // çƒä½“ var sphereGeometry = new THREE.SphereGeometry(4, 20, 30) var sphreMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;) var sphere = new THREE.Mesh(sphereGeometry, sphreMaterial) sphere.position.set(20, 6, 0) commonObj.scene.add(sphere) commonObj.camera.position.set(-25, 30, 25) commonObj.camera.lookAt(commonObj.scene.position) // æ·»åŠ ç‚¹å…‰æº var pointLight = new THREE.PointLight(0xffffff) pointLight.position.set(-40, 60, -10) commonObj.scene.add(pointLight) function render() &#123; requestAnimationFrame(render) pointLight.position.z += 0.2 commonObj.renderer.render(commonObj.scene, commonObj.camera) &#125; render() document.body.appendChild(commonObj.renderer.domElement)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘PureComponentè§£å†³äº†ä»€ä¹ˆé—®é¢˜]]></title>
    <url>%2F2019%2F04%2F04%2F%E3%80%90React%E3%80%91PureComponent%E8%A7%A3%E5%86%B3%E4%BA%86%E4%BB%80%E4%B9%88%E9%97%AE%E9%A2%98%2F</url>
    <content type="text"><![CDATA[PureComponent æ˜¯å’Œ shouldComponentUpdateè¿™ä¸ªç”Ÿå‘½å‘¨æœŸæ¯æ¯ç›¸å…³çš„ React é‡æ–°æ¸²æŸ“é—®é¢˜Reactä¸­ï¼Œå½“çˆ¶ç»„ä»¶ä¸­è§¦å‘setStateï¼Œ å°½ç®¡æœªä¿®æ”¹ä»»ä½• state ä¸­çš„å€¼ä¹Ÿä¼šå¼•èµ·æ‰€æœ‰å­ç»„ä»¶çš„é‡æ–°æ¸²æŸ“ï¼Œ æ›´ä½•å†µæ˜¯ä¿®æ”¹äº†æŸä¸ªstate è¿˜æœ‰ï¼Œ å½“çˆ¶ç»„ä»¶ä¼ ç»™å­ç»„ä»¶çš„props å‘ç”Ÿæ”¹å˜ï¼Œ ä¸ç®¡è¯¥propsæ˜¯å¦è¢«å­ç»„ä»¶ç”¨åˆ°ï¼Œ éƒ½ä¼šåŽ»é‡æ–°æ¸²æŸ“å­ç»„ä»¶ã€‚ å…¶å®žæˆ‘ä»¬ä¹Ÿå¯ä»¥æƒ³å¾—åˆ°ï¼Œ setState ä¼šåŽ»è§¦å‘ renderï¼Œ æ‰€ä»¥çˆ¶ç»„ä»¶renderå‡½æ•°ä¸­çš„å­ç»„ä»¶éƒ½ä¼šè¢«é‡æ–°æ¸²æŸ“ï¼Œ å› æ­¤ä¹Ÿå°±æ— å…³ state ä¸Ž propsäº† é’ˆå¯¹è¿™ä¸ªé—®é¢˜æˆ‘å®žçŽ°äº†ä¸ªä¾‹å­ï¼Œ æ¥çœ‹ä¸€ä¸‹ä¸‹é¢è¿™ä¸ªä¾‹å­ å®žçŽ°ä¸‹é—®é¢˜ setStateä½†æœªä¿®æ”¹ä»»ä½•state çˆ¶ç»„ä»¶è§¦å‘ setState æ–¹æ³•, ä½†æœªæ›´æ–°ä»»ä½•state 123456789101112131415161718192021222324252627282930313233343536373839import TodoItem from './components/todoItem/todoItem'// çˆ¶ç»„ä»¶ä»£ç class TodoList extends Component &#123; noChange() &#123; console.log('è§¦å‘setState') this.setState(() =&gt; (&#123; &#125;)) &#125; render() &#123; const &#123; todoList &#125; = this.state return ( &lt;div className="wrap"&gt; &lt;button onClick=&#123;() =&gt; this.noChange()&#125;&gt;æ²¡æœ‰å˜åŒ–çš„setState&lt;/button&gt; &#123; todoList.map( (item,index) =&gt; &lt;TodoItem key=&#123;index&#125; data=&#123;item&#125; /&gt; ) &#125; &lt;/div&gt; ) &#125;&#125;// å­ç»„ä»¶ä»£ç class TodoItem extends Component &#123; constructor(props) &#123; super(props) &#125; componentWillUpdate() &#123; console.log('æˆ‘è¢«æ›´æ–°äº†') &#125; render() &#123; return ( &lt;div&gt; &#123; this.props.data.thing &#125; &lt;/div&gt; ) &#125;&#125; æˆ‘ä»¬åœ¨å­ç»„ä»¶ä¸­é¢„ç•™äº†componentWillUpdate æ–¹æ³•ï¼Œ ç”¨æ¥ç›‘æµ‹å­ç»„ä»¶æ˜¯å¦è¢«è·Ÿæ–° 123componentWillUpdate() &#123; console.log('æˆ‘è¢«æ›´æ–°äº†')&#125; å®žéªŒç»“æžœ: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°, æ¯ä¸€æ¬¡çš„ç‚¹å‡»éƒ½å¼•èµ·äº†å­ç»„ä»¶çš„update å†·é™åˆ†æžé—®é¢˜æ— æ•…çš„é‡å¤update, è¿™ä¼šå¯¼è‡´ä¸šåŠ¡è§„æ¨¡æ‰©å¤§åŽååˆ†çš„å½±å“æ€§èƒ½. ä¸ºæ­¤æˆ‘ç›‘æµ‹äº†ä¸€ä¸‹é¡µé¢çš„é‡ç»˜äº‹ä»¶: ç»¿è‰²åŒºåŸŸæ˜¯æµè§ˆå™¨å‘æˆé‡ç»˜çš„åœ°æ–¹ å¯ä»¥çœ‹åˆ°todoListå…¶å®žå¹¶æ²¡æœ‰å¼•èµ·æµè§ˆå™¨çš„repaint , å› æ­¤å¯ä»¥æŽ¨æµ‹, å®žé™…domå¹¶æ²¡æœ‰æ›´æ–°è¿™åœ¨æ¸²æŸ“é¡µé¢å‰è¢«dom diffç»™æŽ’é™¤æŽ‰äº†, å› æ­¤æ€§èƒ½æŸè€—åœ¨äº†è½¬æ¢æˆVirtual DOMçš„è¿‡ç¨‹ä¸­ shouldComponentUpdate shouldComponentUpdate(nextProps, nextState)ï¼Œ é»˜è®¤è¿”å›žtrue shouldComponentUpdate æ˜¯ React ä¸­åšæ€§èƒ½ä¼˜åŒ–çš„é‡è¦æ‰‹æ®µï¼Œ çœ‹è¿™ä¸ªè‹±æ–‡ç¿»è¯‘æˆ‘ä»¬å¤§æ¦‚ä¹Ÿèƒ½çŒœå‡ºä¸ªä¸€äºŒæ¥ â€” â€˜ç»„ä»¶æ˜¯å¦è·Ÿæ–°ï¼Ÿâ€™ React ä¼šæ ¹æ® shouldComponentUpdate çš„è¿”å›žç»“æžœæ¥å†³å®šè¯¥ç»„ä»¶æ˜¯å¦é‡æ–°æ¸²æŸ“ï¼Œ å¦‚æžœè¿”å›žTrueå°±æ¸²æŸ“ï¼Œ å¦‚æžœè¿”å›žFalseå°±é‡æ–°æ¸²æŸ“ åŸºäºŽè¿™ä¸ªç‰¹æ€§, æˆ‘ä»¬æ¥ä¿®æ”¹ä¸€ä¸‹ä¸Šé¢é—®é¢˜ä¸­çš„ä»£ç  123456789101112131415// çˆ¶ç»„ä»¶æ— å˜åŒ–, å› æ­¤çœç•¥// å­ç»„ä»¶ä»£ç class TodoItem extends Component &#123; // ...çœç•¥å…¶ä»–åŽŸæœ‰çš„ä»£ç  // --------- æ–°å¢žä»£ç  ------------- shouldComponentUpdate(nextProps, nextState) &#123; // åˆ¤æ–­ä¸‹ å½“å‰ propsä¼ å…¥çš„data.thing æ˜¯å¦å’Œæ–°ä¼ å…¥çš„ data.thing ç›¸åŒ return this.props.data.thing !== nextProps.data.thing &#125; // --------- æ–°å¢žä»£ç  -------------&#125; å®žéªŒç»“æžœ: æˆ‘ä»¬å¯ä»¥çœ‹åˆ°updateäº‹ä»¶ç¡®å®žæ¶ˆå¤±äº† PureComponentçœ‹äº†shouldComponentUpdateå‡½æ•°çš„ä½œç”¨, å°±èƒ½å¤Ÿç†è§£PureComponentäº†? å®ƒå…¶å®žå°±æ˜¯åœ¨å¸®æˆ‘ä»¬åšè¿™æ ·ä¸€ä»¶äº‹: è‡ªåŠ¨çš„å¸®æˆ‘ä»¬ç¼–å†™ shouldComponentUpdate æ–¹æ³•, é¿å…æˆ‘ä»¬ä¸ºæ¯ä¸ªç»„ä»¶éƒ½ç¼–å†™ä¸€æ¬¡çš„éº»çƒ¦ æˆ‘ä»¬åªéœ€è¦è¿™æ ·, å°±å¯ä»¥ä¸€æ­¥åˆ°ä½123import React, &#123; PureComponent &#125; from 'react'class TodoItem extends PureComponent &#123;&#125; æ˜¯ä¸æ˜¯æ„Ÿè§‰PureComponentå¾ˆå¼ºå¤§, ä½†PureComponentå¹¶ä¸å®Œç¾Ž, å…¶å®žå®ƒè¿˜æœ‰ä¸€äº›æ½œè—çš„é—®é¢˜, å¦‚æžœæ‚¨æƒ³è¦ç»§ç»­äº†è§£, è¯·åœ¨ç«™å†…æœç´¢ immutable]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
        <tag>æ€§èƒ½ä¼˜åŒ–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹ç›¸æœº]]></title>
    <url>%2F2019%2F04%2F03%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E7%9B%B8%E6%9C%BA%2F</url>
    <content type="text"><![CDATA[æœ‰ä¸¤ç§ç›¸æœº è¿‘äº¤æŠ•å½± æ­£äº¤æŠ•å½± è¿‘äº¤æŠ•å½±å’ŒçœŸå®žä¸–ç•Œä¸­æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ç‰©ä½“ä¸€æ ·ï¼Œ è¿‘å¤§è¿œå° é€è§†æŠ•å½±ç…§ç›¸æœº THREE.PerspectiveCamera(fov, aspect, near, far) fov â€”- è§†é‡Žå®½åº¦ aspect â€”- é•¿å®½æ¯”ï¼Œ æŽ¨èä½¿ç”¨ window.innerWidth / window.innerHeight near â€”- è¿‘è£é¢ï¼Œ æŽ¨èå€¼ 0.1 far â€”- è¿œè£é¢ï¼Œ æŽ¨èå€¼ 1000ï¼Œ å€¼å¤ªå¤§å½±å“æ€§èƒ½ï¼Œ å€¼å¤ªå°åœºæ™¯æ˜¾ç¤ºä¸å…¨ æ­£äº¤æŠ•å½± å»ºæ¨¡ç±»è½¯ä»¶ä½¿ç”¨çš„æ¯”è¾ƒå¤š æ­£äº¤æŠ•å½±å°±åƒè€å¸ˆåœ¨é»‘æ¿ä¸Šç”»çš„ç«‹æ–¹ä½“ï¼Œä¿è¯ä¸‰ç»´ä¸–ç•Œå¹³è¡Œçš„çº¿åˆ°äº†äºŒç»´ä¸–ç•Œä¹Ÿæ˜¯å¹³è¡Œçš„ï¼Œ ä¸å­˜åœ¨è¿‘å¤§è¿œå°çš„æ¦‚å¿µï¼Œ æ­£äº¤æŠ•å½±ç›¸æœº THREE.OrthographicCamera(left, right, top, bottom, near, far) // near farå†³å®šè¿œè¿‘èŒƒå›´ left â€”- å·¦è¾¹ç•Œ right â€”- å³è¾¹ç•Œ top â€”- ä¸Šè¾¹ç•Œ bottom â€”- ä¸‹è¾¹ç•Œ near â€”- è¿‘è£é¢ far â€”- è¿œè£é¢ camera.lookAt â€”- è®¾ç½®ç›®æ ‡ç‚¹ åœ¨Threeä¸­ï¼Œ åˆ›å»ºæ­£äº¤æŠ•å½±ç›¸æœºçš„å‚æ•°å†³å®šäº†æ‰€çœ‹åˆ°çš„è§†æ™¯ä½“, è§†æ™¯ä½“å†…éƒ¨çš„ç‰©ä½“æ‰èƒ½æ˜¾ç¤ºåœ¨å±å¹•ä¸Šï¼Œè§†æ™¯ä½“å¤–éƒ¨çš„å°±ä¼šè¢«è£å‰ªæŽ‰ å›¾ä¸­ç°è‰²åŒºåŸŸå°±æ˜¯è§†æ™¯ä½“ æ‘„å½±æœºæ•ˆæžœæ¯”å¯¹è¯´æ¦‚å¿µæ€»æ˜¯æ¯”è¾ƒæŠ½è±¡ï¼Œ æˆ‘ä»¬æ¥å®žé™…æ“ä½œä¸€ä¸‹ï¼Œ å¤§æ¦‚æ€è·¯å°±æ˜¯ï¼Œ é¦–å…ˆå°†ç«‹æ–¹ä½“é“ºæ»¡å¹³é¢ï¼Œ ç„¶åŽæˆ‘ä»¬ä½¿ç”¨å®šæ—¶å™¨æ¥åˆ‡æ¢ç›¸æœºç±»åž‹ ï¼Œ ä»¥æ­¤æ¥åŒºåˆ«å‡ºä¸¤ç§ç›¸æœºçš„æ•ˆæžœ ç¬¬ä¸€æ­¥â€”-å°†ç«‹æ–¹ä½“é“ºæ»¡å¹³é¢åˆ©ç”¨æˆ‘ä»¬ä¹‹å‰è®¾å®šçš„é¢çš„å®½é«˜ï¼Œ è®¡ç®—å‡ºä¸€åˆ—åº”è¯¥æœ‰å¤šå°‘ç«‹æ–¹ä½“ï¼Œ ä¸€è¡Œåº”è¯¥æœ‰å¤šå°‘ç«‹æ–¹ä½“ï¼Œ ç„¶åŽå°†å…¶æŽ’åˆ—å¥½ï¼Œ æ·»åŠ å…¥åœºæ™¯ 1234567891011121314151617181920// å°†ç«‹æ–¹ä½“é“ºæ»¡å±å¹•var cubeGeometry = new THREE.BoxGeometry(4,4,4)for ( var j=0; j &lt; planeGeometry.parameters.height / 5 ;j++) &#123; // é¢é«˜ 50 for ( var i=0; i &lt; planeGeometry.parameters.width / 5 ; i++) &#123; // é¢å®½ 70 // éšæœºç”Ÿæˆ var rnd = Math.random() * 0.75 + 0.25 // æ·»åŠ æè´¨ var cubeMaterial = new THREE.MeshLambertMaterial() // æ·»åŠ é¢œè‰² cubeMaterial.color = new THREE.Color(rnd, 0, 0) // åˆ›å»ºç«‹æ–¹ä½“ var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // è®¾ç½®ç«‹æ–¹ä½“çš„ä½ç½® cube.position.x = -(planeGeometry.parameters.width / 2) + 2 +(i * 5) cube.position.y = 2 cube.position.z = -(planeGeometry.parameters.height / 2) + 2 +(j * 5) // ç«‹æ–¹ä½“åŠ å…¥åœºæ™¯ scene.add(cube) &#125;&#125; ç¬¬äºŒæ­¥â€”-ç”¨é”®ç›˜æŽ§åˆ¶ç›¸æœºè§’åº¦æ¯å½“æŒ‰ä¸‹å·¦å³é”®æ—¶ï¼Œ å°±è°ƒæ•´ç›¸æœºçš„y è½´æ–¹å‘çš„æ—‹è½¬è§’åº¦ï¼Œ ç„¶åŽé‡æ–°ç»˜åˆ¶åœºæ™¯ 1234567891011121314151617// ç»‘å®šé”®ç›˜äº‹ä»¶document.onkeydown = function(e) &#123; switch(e.keyCode) &#123; case 37: camera.rotation.y += 0.02 render() break; case 39: camera.rotation.y -= 0.02 render() break; &#125;&#125;function render() &#123; renderer.render(scene, camera)&#125;render() ç¬¬ä¸‰æ­¥â€”-åˆ©ç”¨å®šæ—¶å™¨åˆ‡æ¢æ‘„åƒæœºçš„æ¨¡å¼åˆ©ç”¨å®šæ—¶å™¨åˆ‡æ¢ ç›¸æœºçš„æ¨¡å¼ï¼Œç„¶åŽå°±ä¼šåœ¨ä¸‹æ¬¡ä¸€ç”¨æˆ·æŒ‰ä¸‹é”®ç›˜æ—¶è¢«æ¸²æŸ“å‡ºæ¥ 12345678910111213141516171819202122232425262728293031323334// ç”¨äºŽåˆ‡æ¢ç›¸æœºæ¨¡å¼var controls = new function () &#123; this.perspective = "Perspective" this.switchCamera = function () &#123; if( camera instanceof THREE.PerspectiveCamera ) &#123; console.log('Orthographic') this.perspective = 'Orthographic' camera = new THREE.OrthographicCamera ( window.innerWidth / -16, window.innerWidth / 16, window.innerHeight / -16, window.innerHeight / 16, -200, 500 ) camera.position.x = -20 camera.position.y = 60 camera.position.z = 50 camera.lookAt(scene.position) &#125;else &#123; console.log('Perspective') this.perspective = "Perspective" camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -20 camera.position.y = 60 camera.position.z = 50 camera.lookAt(scene.position) &#125; &#125;&#125;// åˆ‡æ¢ç›¸æœºæ¨¡å¼setInterval(() =&gt; &#123; controls.switchCamera()&#125;, 2000) æŸ¥çœ‹æ•ˆæžœéšç€æˆ‘ä¸æ–­åœ°æŒ‰ä¸‹é”®ç›˜çš„æ–¹å‘é”®ï¼Œ ç”»å¸ƒè¢«é‡æ–°æ¸²æŸ“ï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸¤ç§ç›¸æœºçš„ä¸åŒæ•ˆæžœåœ¨æ¥å›žåˆ‡æ¢ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script src="../SceneUtils.js"&gt;&lt;/script&gt;&lt;script&gt; // è®¾ç½®åœºæ™¯, var scene = new THREE.Scene(); // è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹ var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -30 camera.position.y = 40 camera.position.z = 10 camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® // è®¾ç½®ç»˜åˆ¶å¯¹è±¡---åŸºäºŽWebglçš„æ¸²æŸ“å™¨ var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xeeeeee)); // æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸ renderer.setSize(window.innerWidth, window.innerHeight) // æ‰“å¼€é˜´å½± renderer.shadowMapEnabled = true // è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…· var axes = new THREE.AxisHelper(20) scene.add(axes) // è®¾ç½®å¹³é¢ var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰² var plane = new THREE.Mesh(planeGeometry, planeMaterial) // è®¾ç½®æ—‹è½¬è§’åº¦ plane.rotation.x = -0.5 * Math.PI; // è®¾ç½®åæ ‡ plane.position.x = 15 plane.position.y = 0 plane.position.z = 0 plane.receiveShadow = true // åŠ å…¥åœºæ™¯ scene.add(plane) /* * * æ·»åŠ æè´¨å’Œç¯å…‰ * * */ // è®¾ç½®ç‚¹å…‰æº var spotLight = new THREE.SpotLight(0xffffff); // è®¾ç½®ä½ç½® spotLight.position.set(-40, 60, -10) spotLight.castShadow = true // æ·»åŠ è¿›ç‚¹å…‰æº scene.add(spotLight) // --------------------------å…³é”®åŒºåŸŸ----------------------------------------- // å°†ç«‹æ–¹ä½“é“ºæ»¡å±å¹• var cubeGeometry = new THREE.BoxGeometry(4,4,4) for ( var j=0; j &lt; planeGeometry.parameters.height / 5 ;j++) &#123; // é¢é«˜ 50 for ( var i=0; i &lt; planeGeometry.parameters.width / 5 ; i++) &#123; // é¢å®½ 70 // éšæœºç”Ÿæˆ var rnd = Math.random() * 0.75 + 0.25 // æ·»åŠ æè´¨ var cubeMaterial = new THREE.MeshLambertMaterial() // æ·»åŠ é¢œè‰² cubeMaterial.color = new THREE.Color(rnd, 0, 0) // åˆ›å»ºç«‹æ–¹ä½“ var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // è®¾ç½®ç«‹æ–¹ä½“çš„ä½ç½® cube.position.x = -(planeGeometry.parameters.width / 2) + 2 +(i * 5) cube.position.y = 2 cube.position.z = -(planeGeometry.parameters.height / 2) + 2 +(j * 5) // ç«‹æ–¹ä½“åŠ å…¥åœºæ™¯ scene.add(cube) &#125; &#125; // ç”¨äºŽåˆ‡æ¢ç›¸æœºæ¨¡å¼ var controls = new function () &#123; this.perspective = "Perspective" this.switchCamera = function () &#123; if( camera instanceof THREE.PerspectiveCamera ) &#123; console.log('Orthographic') this.perspective = 'Orthographic' camera = new THREE.OrthographicCamera ( window.innerWidth / -16, window.innerWidth / 16, window.innerHeight / -16, window.innerHeight / 16, -200, 500 ) camera.position.x = -20 camera.position.y = 60 camera.position.z = 50 camera.lookAt(scene.position) &#125;else &#123; console.log('Perspective') this.perspective = "Perspective" camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -20 camera.position.y = 60 camera.position.z = 50 camera.lookAt(scene.position) &#125; &#125; &#125; // åˆ‡æ¢ç›¸æœºæ¨¡å¼ setInterval(() =&gt; &#123; controls.switchCamera() &#125;, 2000) // ç»‘å®šé”®ç›˜äº‹ä»¶ document.onkeydown = function(e) &#123; switch(e.keyCode) &#123; case 37: camera.rotation.y += 0.02 render() break; case 39: camera.rotation.y -= 0.02 render() break; &#125; &#125; function render() &#123; renderer.render(scene, camera) &#125; render() // --------------------------å…³é”®åŒºåŸŸ----------------------------------------- // å°†rendererçš„è¾“å‡ºæŒ‚åˆ° body document.body.appendChild(renderer.domElement)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹å‡ ä½•å’Œç½‘æ ¼å¯¹è±¡]]></title>
    <url>%2F2019%2F04%2F03%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E5%87%A0%E4%BD%95%E5%92%8C%E7%BD%91%E6%A0%BC%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[GeometryThree.js ä¸­è‡ªå¸¦äº†å¾ˆå¤šçš„å‡ ä½•ä½“ï¼Œ æˆ‘ä»¬å¯ä»¥ç›´æŽ¥ä½¿ç”¨ä»–ä»¬çš„æ–¹æ³•å°±å¯ä»¥è½»æ¾çš„åˆ›é€ å‡ºä¸€ä¸ªå‡ ä½•ä½“ï¼Œ æ¯”å¦‚: åˆ›å»ºä¸€ä¸ªé¢1new THREE.PlaneGeometry() åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“1new THREE.CubeGeometry() æˆ‘ä»¬å¯ä»¥çœ‹åˆ°éƒ½å¸¦æœ‰Geometry è¿™ä¸ªå•è¯ï¼Œ ç¿»è¯‘è¿‡æ¥ä¹Ÿæ˜¯â€œå‡ ä½•ä½“â€çš„æ„æ€å…¶å®žè¿™ä¸ªTHREE.Geometryæ˜¯æ‰€æœ‰å‡ ä½•å¯¹è±¡çš„åŸºç±»( ç®€ç§° geom ) verticesé¡¶ç‚¹æ•°ç»„ ç¿»è¯‘ï¼š é¡¶ç‚¹ ä¸€ä¸ªé›†åˆä½“æˆ‘ä»¬å¯ä»¥çœ‹æˆæ˜¯ç”±å‡ ä¸ªé¡¶ç‚¹æž„æˆçš„ï¼Œ æ¯”å¦‚ä¸€ä¸ªç«‹æ–¹ä½“ï¼Œ ä»–å°±æ˜¯ç”±8ä¸ªåœ¨ç©ºé—´ä¸­çš„é¡¶ç‚¹æž„æˆçš„ã€‚ åœ¨Threeä¸­ï¼Œ geom.verticesè¡¨ç¤ºå‡ ä½•ä½“çš„é¡¶ç‚¹ï¼Œ å®ƒæ˜¯ä¸€ä¸ªæ•°ç»„ æ‰€ä»¥æˆ‘ä»¬ä¸ä½†å¯ä»¥åˆ©ç”¨Threeå·²æœ‰çš„å‡ ä½•ä½“ï¼Œ è¿˜å¯ä»¥è‡ªå·±æä¾›é¡¶ç‚¹ï¼Œ è‡ªå·±æ¥åˆ›å»ºä¸€ä¸ªé›†åˆä½“ faces ä¾§é¢ ç¿»è¯‘: é¢ geom.faces è¡¨ç¤ºå‡ ä½•ä½“çš„ä¾§é¢ åŠ¨æ‰‹åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“ä¸Šé¢æˆ‘ä»¬è¯´äº†ï¼Œ ä¸€ä¸ªç«‹æ–¹ä½“ï¼Œ ç”±8ä¸ªé¡¶ç‚¹ å’Œ 6ä¸ªé¢æž„æˆï¼Œ å¦‚æžœè®©æˆ‘ä»¬è‡ªå·±æ¥å®žçŽ°ï¼Œ æˆ‘ä»¬å°±éœ€è¦æ‰‹åŠ¨æ¥åˆ›å»ºä¸‹ å®šä¹‰8ä¸ªé¡¶ç‚¹12345678910var vertices = [ new THREE.Vector3(1, 3, 1), new THREE.Vector3(1, 3, -1), new THREE.Vector3(1, -1, 1), new THREE.Vector3(1, -1, -1), new THREE.Vector3(-1, 3, -1), new THREE.Vector3(-1, 3, 1), new THREE.Vector3(-1, -1, -1), new THREE.Vector3(-1, -1, 1)] å®šä¹‰6ä¸ªé¢å› ä¸ºåœ¨Three ä¸­ï¼Œå¯ä»¥ç†è§£ä¸ºä¸‡ç‰©éƒ½ç”± ä¸‰è§’å½¢æž„æˆï¼Œ æ‰€ä»¥è¦æƒ³æœ‰æ­£æ–¹å½¢ï¼Œ éœ€è¦é€šè¿‡ä¸‰è§’å½¢åˆ›å»º( ä»¥å‰æ”¯æŒç›´æŽ¥åˆ›å»ºæ­£æ–¹å½¢ï¼Œ åŽæ¥è¢«åˆ é™¤ ) 123456789101112131415161718192021// å¢žåŠ  6ä¸ªé¢var faces = [ // ä¸€ä¸ªæ­£æ–¹å½¢ç”±ä¸¤ä¸ªä¸‰è§’å½¢æž„æˆ new THREE.Face3(0, 2, 1), new THREE.Face3(2, 3, 1), new THREE.Face3(4, 5, 6), new THREE.Face3(6, 7, 5), new THREE.Face3(4, 5, 1), new THREE.Face3(5, 0, 1), new THREE.Face3(7, 6, 2), new THREE.Face3(6, 3, 2), new THREE.Face3(5, 7, 0), new THREE.Face3(7, 2, 0), new THREE.Face3(1, 3, 4), new THREE.Face3(3, 4, 4),] ç”Ÿæˆå‡ ä½•ç‰©ä½“åˆšåˆšæˆ‘ä»¬é…ç½®çš„åªæ˜¯æ‰€éœ€çš„æ•°æ®ï¼Œ çŽ°åœ¨æˆ‘ä»¬è¦åšçš„æ˜¯å°†ä»–åˆå¹¶æˆä¸€ä¸ªå®Œæ•´çš„å‡ ä½•ä½“ 12345// åˆ›å»ºå‡ ä½•ä½“var geom = new THREE.Geometry()geom.vertices = verticesgeom.faces = facesgeom.computeFaceNormals() æ·»åŠ æè´¨å¦‚æžœæŽ§åˆ¶å¸¦å‡ºçŽ°è¿™ä¸ªé”™è¯¯ï¼Œ è¯´æ˜ŽSceneUtils å·²ç»è¢«Three ç‹¬ç«‹æ‹†é™¤åŽ»äº†ï¼Œ æ‰€ä»¥è¦æƒ³ä½¿ç”¨éœ€è¦å•ç‹¬å¼•å…¥ 123456789101112131415161718192021// å¢žåŠ æè´¨var materials = [ new THREE.MeshLambertMaterial(&#123; opacity: 0.5, color: 0x44ff44, transparent: true &#125;), new THREE.MeshBasicMaterial(&#123; color: 0x000000, wireframe: true &#125;)]// æž„æˆç‰©ä½“var mesh = new THREE.SceneUtils.createMultiMaterialObject(geom, materials)mesh.children.forEach( (e) =&gt; &#123; e.castShadow = true &#125;) æ¸²æŸ“åœºæ™¯åŠ å…¥åˆ°åœºæ™¯æ¸²æŸ“ä¸€ä¸‹æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç«‹æ–¹ä½“12scene.add(mesh)renderer.render(scene, camera) æ­¤æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ç”»å¸ƒä¸ŠçœŸçš„å‡ºçŽ°äº†ä¸€ä¸ªç«‹æ–¹ä½“ ç½‘æ ¼å¯¹è±¡çš„å±žæ€§å’Œå‡½æ•° position å†³å®šè¯¥å¯¹è±¡ç›¸å¯¹äºŽçˆ¶å¯¹è±¡çš„ä½ç½®ã€‚ rotation è®¾ç½®å¯¹è±¡ç»•ä»»ä½•ä¸€ä¸ªè½´çš„æ—‹è½¬å¼§åº¦ scaleæ²¿ x, y å’Œ zè½´ç¼©æ”¾å¯¹è±¡ translateX xè½´å¹³ç§» translateY yè½´å¹³ç§» translateZ zè½´å¹³ç§» ä½¿ç”¨è¿™äº›apiç§»åŠ¨ä¸€ä¸‹æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç«‹æ–¹ä½“å§ ç§»åŠ¨ä¸€ä¸‹ç«‹æ–¹ä½“123456// å¹³ç§»mesh.position.x = 10mesh.position.y = 10mesh.position.z = 1// // ç­‰åŒäºŽ// mesh.position.set(10, 10, 1) æ­¤æ—¶æ•ˆæžœ å†æ—‹è½¬ä¸€ä¸‹ç«‹æ–¹ä½“1234// // æ—‹è½¬mesh.rotation.x = 2mesh.rotation.y = 2mesh.rotation.z = 2 æ­¤æ—¶æ•ˆæžœ ç¼©æ”¾ä¸€ä¸‹ç«‹æ–¹ä½“æˆ‘ä»¬å¯ä»¥é’ˆå¯¹æŸä¸€ä¸ªè½´è¿›è¡Œç¼©æ”¾ï¼Œ è¿™é‡Œæˆ‘ä»¬ç¼©æ”¾xè½´ï¼Œ å…¶ä»–è½´åŒç† 12// x è½´æ–¹å‘æ”¾å¤§4å€mesh.scale.x = 4 æ­¤æ—¶æ•ˆæžœ å®Œæ•´ä»£ç 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script src="../SceneUtils.js"&gt;&lt;/script&gt;&lt;script&gt; // è®¾ç½®åœºæ™¯, var scene = new THREE.Scene(); // è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹ var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -30 camera.position.y = 40 camera.position.z = 10 camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® // è®¾ç½®ç»˜åˆ¶å¯¹è±¡---åŸºäºŽWebglçš„æ¸²æŸ“å™¨ var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xeeeeee)); // æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸ renderer.setSize(window.innerWidth, window.innerHeight) // æ‰“å¼€é˜´å½± renderer.shadowMapEnabled = true // è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…· var axes = new THREE.AxisHelper(20) scene.add(axes) // è®¾ç½®å¹³é¢ var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰² var plane = new THREE.Mesh(planeGeometry, planeMaterial) // è®¾ç½®æ—‹è½¬è§’åº¦ plane.rotation.x = -0.5 * Math.PI; // è®¾ç½®åæ ‡ plane.position.x = 15 plane.position.y = 0 plane.position.z = 0 plane.receiveShadow = true // åŠ å…¥åœºæ™¯ scene.add(plane) /* * * æ·»åŠ æè´¨å’Œç¯å…‰ * * */ // è®¾ç½®ç‚¹å…‰æº var spotLight = new THREE.SpotLight(0xffffff); // è®¾ç½®ä½ç½® spotLight.position.set(-40, 60, -10) spotLight.castShadow = true // æ·»åŠ è¿›ç‚¹å…‰æº scene.add(spotLight) // å°†rendererçš„è¾“å‡ºæŒ‚åˆ° body document.body.appendChild(renderer.domElement) renderer.render(scene, camera) // å®šä¹‰ä¸€ä¸ªæ–¹å— // 1.å®šä¹‰8ä¸ªé¡¶ç‚¹ // 2. 6ä¸ªé¢ var vertices = [ new THREE.Vector3(1, 3, 1), new THREE.Vector3(1, 3, -1), new THREE.Vector3(1, -1, 1), new THREE.Vector3(1, -1, -1), new THREE.Vector3(-1, 3, -1), new THREE.Vector3(-1, 3, 1), new THREE.Vector3(-1, -1, -1), new THREE.Vector3(-1, -1, 1) ] // å¢žåŠ  6ä¸ªé¢ var faces = [ // ä¸€ä¸ªæ­£æ–¹å½¢ç”±ä¸¤ä¸ªä¸‰è§’å½¢æž„æˆ new THREE.Face3(0, 2, 1), new THREE.Face3(2, 3, 1), new THREE.Face3(4, 5, 6), new THREE.Face3(6, 7, 5), new THREE.Face3(4, 5, 1), new THREE.Face3(5, 0, 1), new THREE.Face3(7, 6, 2), new THREE.Face3(6, 3, 2), new THREE.Face3(5, 7, 0), new THREE.Face3(7, 2, 0), new THREE.Face3(1, 3, 4), new THREE.Face3(3, 4, 4), ] // åˆ›å»ºå‡ ä½•ä½“ var geom = new THREE.Geometry() geom.vertices = vertices geom.faces = faces geom.computeFaceNormals() // å¢žåŠ æè´¨ var materials = [ new THREE.MeshLambertMaterial(&#123; opacity: 0.5, color: 0x44ff44, transparent: true &#125;), new THREE.MeshLambertMaterial(&#123; color: 0x000000, wireframe: true &#125;) ] // æž„æˆç‰©ä½“ var mesh = new THREE.SceneUtils.createMultiMaterialObject(geom, materials) mesh.children.forEach( (e) =&gt; &#123; e.castShadow = true &#125; ) // å¹³ç§» mesh.position.x = 10 mesh.position.y = 10 mesh.position.z = 1 // // ç­‰åŒäºŽ // mesh.position.set(10, 10, 1) // // æ—‹è½¬ mesh.rotation.x = 2 mesh.rotation.y = 2 mesh.rotation.z = 2 // // x è½´æ–¹å‘æ”¾å¤§4å€ mesh.scale.x = 4 scene.add(mesh) renderer.render(scene, camera)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹æ·»åŠ åŠ¨ç”»]]></title>
    <url>%2F2019%2F04%2F03%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E6%B7%BB%E5%8A%A0%E5%8A%A8%E7%94%BB%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡åŸºäºŽâ€Three.jså…¥é—¨ä¹‹æ·»åŠ æè´¨å’Œç¯å…‰â€ æ–‡ç« ä¹‹åŽ å¸§çŽ‡è¾…åŠ©åº“ åœ¨å®˜ç½‘ä¸‹è½½åˆ°çš„threeæ–‡ä»¶ä¸­çš„ /examples/js/libs/stats.min.js å¯ä»¥æ‰¾åˆ° è¿™ä¸ªæ˜¯ä¸€ä¸ªthree å¼€å‘è€…ä¹‹ä¸€å†™çš„åº“ï¼Œ å¯ä»¥ç»™æˆ‘æä¾›æ£€æµ‹åŠ¨ç”»æµç•…åº¦çš„æ•°æ®ï¼Œ å¼•å…¥æ–¹å¼å’Œthreeä¸€æ · å¦‚ä½•ä½¿ç”¨å‘¢ï¼Œ åˆ›å»ºä¸€ä¸ªdomæˆ‘ä»¬ç»™ä»–é¢„ç•™ä¸€ä¸ªdom123&lt;body&gt; &lt;div id="stats-output"&gt;&lt;/div&gt;&lt;/body&gt; åˆå§‹åŒ–ç»Ÿè®¡å¯¹è±¡1234567891011121314// åˆå§‹åŒ–ç»Ÿè®¡å¯¹è±¡function initStats() &#123; // åˆ›å»ºå®žä¾‹ var stats = new Stats() // è®¾ç½®æ¨¡å¼ï¼Œ 0 æ˜¾ç¤º fps, 1 æ£€æµ‹æ¸²æŸ“æ—¶é—´ stats.setMode(0) // æ ·å¼è®¾ç½® stats.domElement.style.position = 'absolute' stats.domElement.style.left = "0px" stats.domElement.style.top = "0px" // åŠ å…¥åˆšæ‰çš„dom document.getElementById('stats-output').appendChild(stats.domElement) return stats&#125; åœ¨æ¯ä¸€å¸§åŠ¨ç”»æœŸé—´æ›´æ–°å› ä¸ºè¿™é‡Œæˆ‘ä»¬çš„åŠ¨ç”»ä½¿ç”¨çš„æ˜¯requestAnimationFrame, æ‰€ä»¥æˆ‘ä»¬åœ¨æ¯æ¬¡è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œ åŽ»æ›´æ–°ä¸€ä¸‹ç»Ÿè®¡å¯¹è±¡å³å¯ 123456789function render() &#123; // æ›´æ–°ç»Ÿè®¡å¯¹è±¡ stats.update() // ä¸»å¾ªçŽ¯ requestAnimationFrame(render) // æ¸²æŸ“å½“å‰çš„åœºæ™¯ renderer.render(scene, camera)&#125; æŸ¥çœ‹ä¸€ä¸‹ç»“æžœè¿™äº›éƒ½åšå¥½ä»¥åŽï¼Œæ‰“å¼€æµè§ˆå™¨ï¼Œ å·¦ä¸Šè§’å°±å¯ä»¥çœ‹åˆ°æˆ‘ä»¬åˆšåˆšåˆ›å»ºçš„ç»Ÿè®¡å¯¹è±¡äº† åˆ›å»ºåŠ¨ç”»å› ä¸ºjså®šæ—¶å™¨çš„ç§ç§é—®é¢˜ï¼Œ è®¡æ—¶ä¸å‡†ç¡®ï¼Œ æ— æ³•é¢„ä¼°æµè§ˆå™¨ç®—åŠ›ç­‰ç­‰é—®é¢˜ï¼Œ æ‰€ä»¥requestAnimationFrameæ˜¯æˆ‘ä»¬åšåŠ¨ç”»æ—¶çš„é¦–é€‰ï¼Œ å®ƒå¯ä»¥æ ¹æ®æµè§ˆå™¨çš„å…·ä½“ç¹å¿™æƒ…å†µè‡ªåŠ¨æŽ§åˆ¶å¸§çŽ‡ åˆ›å»ºä¸»å¾ªçŽ¯å…ˆæŠŠä¹‹å‰çš„æœ€åŽä¸€æ­¥çš„æ¸²æŸ“æ“ä½œæ”¾å…¥requestAnimationFrame è¿™ä¸ªä¸»å¾ªçŽ¯ï¼Œ 1234567891011function render() &#123; stats.update() // ä¸Šé¢ðŸ‘†ä½¿ç”¨çš„å¸§çŽ‡ç»Ÿè®¡ // å›žè°ƒä¼ å…¥è‡ªèº« requestAnimationFrame(render) renderer.render(scene, camera)&#125; // å°†rendererçš„è¾“å‡ºæŒ‚åˆ°bodydocument.body.appendChild(renderer.domElement)render() è¿™æ ·ï¼Œæˆ‘ä»¬çš„ä¸»å¾ªçŽ¯å°±åˆ›å»ºå¥½äº†ï¼Œ ä½†æ˜¯è¿˜ä¸å¤Ÿï¼Œ å¦‚æžœä½ åˆ·æ–°æµè§ˆå™¨ï¼Œ ä½ çœ‹åˆ°çš„ä¾æ—§æ˜¯é™æ­¢çš„ï¼Œ å› ä¸ºä½ çš„ä»£ç æ²¡æœ‰ä»»ä½•å˜åŒ–ï¼Œ æ‰€ä»¥ï¼Œ æˆ‘ä»¬å°±å°è¯•ç€è®©ä»–å‘ç”Ÿä¸€äº›å˜åŒ– è®©æ­£æ–¹ä½“åŠ¨èµ·æ¥æˆ‘ä»¬è®©æ­£æ–¹ä½“æ—‹è½¬èµ·æ¥ï¼Œ æˆ‘ä»¬åœ¨æ¯ä¸€å¸§éƒ½ä¿®æ”¹ä¸€ä¸‹è¿™ä¸ªæ­£æ–¹ä½“çš„ x,y,z åæ ‡ä½ç½® 123456789101112function render() &#123; stats.update() // ä¸Šé¢ðŸ‘†ä½¿ç”¨çš„å¸§çŽ‡ç»Ÿè®¡ // -------è½¬åŠ¨æ–¹å—-------- cube.rotation.x += 0.02 cube.rotation.y += 0.02 cube.rotation.z += 0.02 // ---------------------- requestAnimationFrame(render) renderer.render(scene, camera)&#125; å°±è¿™ä¸‰è¡Œä»£ç å°±å¯ä»¥äº†ï¼Œ è®©æˆ‘ä»¬çœ‹çœ‹çŽ°åœ¨çš„æ•ˆæžœ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ ç«‹æ–¹ä½“è¿åŠ¨è¡Œå¾„è¯¡å¼‚å•Šï¼Œ ä½†æ˜¯å¾ˆcool è®©çƒåŠ¨èµ·æ¥è®©çƒåŠ¨èµ·æ¥ä¹Ÿå¾ˆç®€å•ï¼Œ ä½†æ˜¯æˆ‘ä»¬æƒ³è®©ä»–åŠ¨çš„ç¨å¾®ç‚«é…·ä¸€ç‚¹ï¼Œ è®©ä»–è·³æ¥è·³åŽ»ï¼Œ è¿™å°±éœ€è¦ç”¨åˆ°ä¸€ç‚¹æ•°å­¦çŸ¥è¯†äº†ï¼Œ åˆ©ç”¨ä¸‰è§’å‡½æ•°æˆ‘ä»¬å®žçŽ°ä¸€ä¸‹çƒçš„å¼¹è·³ æˆ‘ä»¬åœ¨å‡½æ•°å¤–è®°å½•äº†ä¸€ä¸ª Step ç”¨æ¥æ¯æ¬¡å¢žé•¿ï¼Œ ç„¶åŽçƒçš„x, y å°±ä¼šæ¯æ¬¡éƒ½æ ¹æ®ä¸‰è§’å‡½æ•°çš„æ›²çº¿è§„å¾‹æ¥é€ æˆä¸€é«˜ä¸€ä½Žçš„æ•ˆæžœï¼Œ è€Œä¸”æ˜¯æŠ›ç‰©çº¿ 1234567891011121314151617var step = 0;function render() &#123; stats.update() // è½¬åŠ¨æ–¹å— cube.rotation.x += 0.02 cube.rotation.y += 0.02 cube.rotation.z += 0.02 // --------çƒä½“è·³è·ƒ------------ step += 0.04; sphere.position.x = 20 + ( 10 * Math.cos( step )) sphere.position.y = 2 + ( 10 * Math.abs( Math.sin(step) )) // --------------------------- requestAnimationFrame(render) renderer.render(scene, camera)&#125; çœ‹ä¸€ä¸‹çŽ°åœ¨çš„æ•ˆæžœå›¾ å…¨éƒ¨ä»£ç  gitåœ°å€: https://0x9.me/ohetH 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119120121122123124125126127128129130131132133134135136137138139140141142143144145146147148149150151152153154155156157158159160161162163164165&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt; &lt;div id="stats-output"&gt;&lt;/div&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;!-- æ¸¸æˆå¸§çŽ‡è¾…åŠ©åº“ --&gt;&lt;script src="../stats.min.js"&gt;&lt;/script&gt;&lt;script&gt; // å¢žåŠ ç»Ÿè®¡åŠŸèƒ½ var stats = initStats() // è®¾ç½®åœºæ™¯, var scene = new THREE.Scene(); // è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹ var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -30 camera.position.y = 40 camera.position.z = 30 camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® // è®¾ç½®ç»˜åˆ¶å¯¹è±¡---åŸºäºŽWebglçš„æ¸²æŸ“å™¨ var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xeeeeee)); // æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸ renderer.setSize(window.innerWidth, window.innerHeight) // æ‰“å¼€é˜´å½± renderer.shadowMapEnabled = true // è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…· var axes = new THREE.AxisHelper(20) scene.add(axes) // è®¾ç½®å¹³é¢ var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰² var plane = new THREE.Mesh(planeGeometry, planeMaterial) // è®¾ç½®æ—‹è½¬è§’åº¦ plane.rotation.x = -0.5 * Math.PI; // è®¾ç½®åæ ‡ plane.position.x = 15 plane.position.y = 0 plane.position.z = 0 plane.receiveShadow = true // åŠ å…¥åœºæ™¯ scene.add(plane) // è®¾ç½®ç«‹æ–¹ä½“ var cubeGeometry = new THREE.CubeGeometry(4, 4, 4) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ // è®¾ç½®åŸºç¡€æè´¨ var cubeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xff0000&#125;) // è®¾ç½®é¢œè‰²å’Œæ‰“å¼€çº¿æ¡† var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // è®¾ç½®åæ ‡ cube.position.x = 4 cube.position.y = 3 cube.position.z = 0 cube.castShadow = true // åŠ å…¥åœºæ™¯ scene.add(cube) // è®¾ç½®çƒé¢ä½“ var sphereGemometry = new THREE.SphereGeometry(4, 20, 20) var sphereMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;) var sphere = new THREE.Mesh(sphereGemometry, sphereMaterial) sphere.position.x = 20 sphere.position.y = 4 sphere.position.z = -2 sphere.castShadow = true scene.add(sphere) /* * * æ·»åŠ æè´¨å’Œç¯å…‰ * * */ // è®¾ç½®ç‚¹å…‰æº var spotLight = new THREE.SpotLight(0xffffff); // è®¾ç½®ä½ç½® spotLight.position.set(-40, 60, -10) spotLight.castShadow = true // æ·»åŠ è¿›ç‚¹å…‰æº scene.add(spotLight) /* * * å¼•å…¥åŠ¨ç”» * * */ var step = 0; function render() &#123; stats.update() // è½¬åŠ¨æ–¹å— cube.rotation.x += 0.02 cube.rotation.y += 0.02 cube.rotation.z += 0.02 // çƒä½“è·³è·ƒ step += 0.04; sphere.position.x = 20 + ( 10 * Math.cos( step )) sphere.position.y = 2 + ( 10 * Math.abs( Math.sin(step) )) requestAnimationFrame(render) renderer.render(scene, camera) &#125; /* * * è¾“å‡º * * */ // åˆå§‹åŒ–ç»Ÿè®¡å¯¹è±¡ function initStats() &#123; var stats = new Stats() stats.setMode(0) // 0 æ˜¾ç¤ºfps, 1 æ£€æµ‹æ¸²æŸ“æ—¶é—´ stats.domElement.style.position = 'absolute' stats.domElement.style.left = "0px" stats.domElement.style.top = "0px" document.getElementById('stats-output').appendChild(stats.domElement) return stats &#125; // å°†rendererçš„è¾“å‡ºæŒ‚åˆ°body document.body.appendChild(renderer.domElement) render()&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹æ·»åŠ æè´¨å’Œç¯å…‰]]></title>
    <url>%2F2019%2F04%2F03%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E6%B7%BB%E5%8A%A0%E6%9D%90%E8%B4%A8%E5%92%8C%E7%81%AF%E5%85%89%2F</url>
    <content type="text"><![CDATA[æœ¬æ–‡åŸºäºŽâ€Three.jså…¥é—¨ä¹‹ç»˜åˆ¶ä¸‰ç»´å¯¹è±¡â€ æ–‡ç« ä¹‹åŽ æè´¨ä¸Žå…‰æºå¯ä»¥å¯¹å…‰äº§ç”Ÿååº”çš„æè´¨ MeshLamberMaterial æè´¨ MeshPhongMaterial æè´¨ åŠ å…¥é˜´å½±æ•ˆæžœ æ·»åŠ ç¯å…‰12345var spotLight = new THREE.SpootLight(0xffffff);// è®¾ç½®ä½ç½®spotLight.position.set(-40, 60, -10)// å°†å…‰æºæ·»åŠ è¿›åœºæ™¯scene.add(spotLight) å½“æˆ‘ä»¬å°†ä¸‰ç»´ç‰©ä½“çš„æ‰€æœ‰æè´¨éƒ½æ›¿æ¢ä¸ºMeshLamberMaterial æ—¶, æ•ˆæžœå¦‚ä¸‹ æˆ‘ä»¬çœ‹åˆ°è¿™äº›ä¸‰ç»´ç‰©ä½“ä¸Šç¡®å®žéƒ½æœ‰äº†äº›åå…‰çš„æ•ˆæžœ ä½†æ˜¯ï¼Œ æœ‰åå…‰è¿˜ä¸å¤Ÿï¼Œ æ—¢ç„¶æœ‰å…‰é‚£è‚¯å®šè¦æœ‰é˜´å½±ï¼Œ ä½†æ˜¯ç»˜åˆ¶é˜´å½±æ˜¯æ¯”è¾ƒè€—è´¹æ€§èƒ½çš„ï¼Œæ‰€ä»¥Three.js é»˜è®¤ä¸ä¼šæ‰“å¼€ï¼Œ ä½†æ˜¯æˆ‘ä»¬æƒ³ç»˜åˆ¶ä¹Ÿæ˜¯æ¯”è¾ƒå®¹æ˜“çš„ ç»™å„ä¸ªç‰©ä½“æ‰“å¼€é˜´å½±é¦–å…ˆç»™ç»˜åˆ¶å¯¹è±¡æ‰“å¼€é˜´å½±è®¾ç½®1renderer.shadowMapEnabled = true ç„¶åŽå°†å‡ ä¸ªä¸‰ç»´å¯¹è±¡åˆ†åˆ«æ‰“å¼€123456789101112// æ‰“å¼€é¢çš„é˜´å½±plane.receiveShadow = true//........// æ‰“å¼€ç«‹æ–¹ä½“çš„é˜´å½±cube.castShadow = true//........// æ‰“å¼€çƒé¢ä½“çš„é˜´å½±sphere.castShadow = true æœ€åŽè¿˜éœ€è¦ç»™å…‰æºå®šä¹‰ä¸€ä¸‹é˜´å½±ï¼Œ è®©ä»–å¯ä»¥ç”Ÿæˆé˜´å½± 1spotLight.castShadow = true æœ€ç»ˆæ•ˆæžœæ·»åŠ å®Œé˜´å½±åŽï¼Œæˆ‘ä»¬åˆ·æ–°ä¸€ä¸‹æµè§ˆå™¨ï¼Œ é˜´å½±å‡ºæ¥äº†ï¼Œ åªæ˜¯æœ‰äº›ç²—ç³™ å®Œæ•´ä»£ç  gitåœ°å€: https://0x9.me/ohetH 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475767778798081828384858687888990919293949596979899100101102103104105106107108109110111112113114115116117118119&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;script&gt; // è®¾ç½®åœºæ™¯, var scene = new THREE.Scene(); // è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹ var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -30 camera.position.y = 40 camera.position.z = 30 camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® // è®¾ç½®ç»˜åˆ¶å¯¹è±¡---åŸºäºŽWebglçš„æ¸²æŸ“å™¨ var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xeeeeee)); // æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸ renderer.setSize(window.innerWidth, window.innerHeight) // æ‰“å¼€é˜´å½± renderer.shadowMapEnabled = true // è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…· var axes = new THREE.AxisHelper(20) scene.add(axes) // è®¾ç½®å¹³é¢ var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰² var plane = new THREE.Mesh(planeGeometry, planeMaterial) // è®¾ç½®æ—‹è½¬è§’åº¦ plane.rotation.x = -0.5 * Math.PI; // è®¾ç½®åæ ‡ plane.position.x = 15 plane.position.y = 0 plane.position.z = 0 plane.receiveShadow = true // åŠ å…¥åœºæ™¯ scene.add(plane) // è®¾ç½®ç«‹æ–¹ä½“ var cubeGeometry = new THREE.CubeGeometry(4, 4, 4) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ // è®¾ç½®åŸºç¡€æè´¨ var cubeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xff0000&#125;) // è®¾ç½®é¢œè‰²å’Œæ‰“å¼€çº¿æ¡† var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // è®¾ç½®åæ ‡ cube.position.x = 4 cube.position.y = 3 cube.position.z = 0 cube.castShadow = true // åŠ å…¥åœºæ™¯ scene.add(cube) // è®¾ç½®çƒé¢ä½“ var sphereGemometry = new THREE.SphereGeometry(4, 20, 20) var sphereMaterial = new THREE.MeshLambertMaterial(&#123; color: 0x7777ff &#125;) var sphere = new THREE.Mesh(sphereGemometry, sphereMaterial) sphere.position.x = 20 sphere.position.y = 4 sphere.position.z = -2 sphere.castShadow = true scene.add(sphere) /* * * æ·»åŠ æè´¨å’Œç¯å…‰ * * */ // è®¾ç½®ç‚¹å…‰æº var spotLight = new THREE.SpotLight(0xffffff); // è®¾ç½®ä½ç½® spotLight.position.set(-40, 60, -10) spotLight.castShadow = true // æ·»åŠ è¿›ç‚¹å…‰æº scene.add(spotLight) /* * * è¾“å‡º * * */ // å°†rendererçš„è¾“å‡ºæŒ‚åˆ°body document.body.appendChild(renderer.domElement) renderer.render(scene, camera)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Linuxã€‘å‘½ä»¤æ‰‹å†Œ]]></title>
    <url>%2F2019%2F04%2F02%2F%E3%80%90Linux%E3%80%91%E5%91%BD%E4%BB%A4%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[linux åªæœ‰åŒºçš„æ¦‚å¿µ ç»ˆç«¯å¿«æ·é”® å‘½ä»¤ åŠŸèƒ½ ctrl + c ç»“æŸæ­£åœ¨è¿è¡Œçš„ç¨‹åº ã€ ping ã€ teInetç­‰ã€‘ ctrl + d ç»“æŸè¾“å…¥æˆ–é€€å‡ºshell ctrl + s æš‚åœå±å¹•è¾“å‡º ctrl + q æ¢å¤å±å¹•è¾“å‡º ctrl + l æ¸…å±ï¼Œ ç­‰åŒäºŽClear ctrl + a / ctrl + e å¿«é€Ÿç§»åŠ¨å…‰æ ‡åˆ°è¡Œé¦– / è¡Œå°¾ èº«ä»½å‘½ä»¤ å‘½ä»¤ åŠŸèƒ½ sudo æš‚æ—¶ä»¥root ç”¨æˆ·èº«ä»½è¿è¡Œå‘½ä»¤ su åˆ‡æ¢ç”¨æˆ·èº«ä»½, rootèº«ä»½åˆ‡æ¢ä¸éœ€è¦å¯†ç  exit é€€å‡ºå½“å‰èº«ä»½æˆ–é€€å‡ºè¿žæŽ¥ w æŸ¥çœ‹æ­£åœ¨ç™»å½•ç”¨æˆ· è·¯å¾„çŸ¥è¯† Linuxä¸‹æ–‡ä»¶å‰å¸¦.è¡¨ç¤ºéšè—æ–‡ä»¶ ä¸€ä¸ª.ä»£è¡¨å½“å‰ç›®å½•, ä¸¤ä¸ª..ä»£è¡¨ä¸Šçº§ç›®å½• èµ„æºç›®å½•ç›¸å…³å‘½ä»¤ aæ˜¯æ˜¾ç¤ºéšè—æ–‡ä»¶, læ˜¯æ˜¾ç¤ºé•¿åˆ—è¡¨æ ¼ å‘½ä»¤ è¯´æ˜Ž ls æˆ– dir æŸ¥çœ‹å½“å‰ç›®å½•å†…å®¹ ls -l æ˜¾ç¤ºé•¿æ ¼å¼ç›®å½•, æœ‰åˆ›å»ºæ—¶é—´,ä¿®æ”¹ä¿¡æ¯, æ–‡ä»¶å¤§å° ls -a æ˜¾ç¤ºéšè—æ–‡ä»¶ ls -al æŸ¥çœ‹ç›®å½•æ‰€æœ‰å¯¹åº”çš„æƒé™( ) pwd å®£èª“å½“å‰ç›®å½•çš„å…¨éƒ¨è·¯å¾„ cd ~ è¿›å…¥åˆ°å½“å‰åˆ†é…homeç›®å½•ä¸‹çš„ç”¨æˆ·åŒºåŸŸ, æ¯”å¦‚/home/nxl cd / è¿›å…¥ç³»ç»Ÿçš„æ ¹ç›®å½• æ–‡ä»¶å‘½ä»¤ [old] è¡¨ç¤ºæ—§æ–‡ä»¶ [new] è¡¨ç¤ºæ“ä½œåŽçš„æ–‡ä»¶ [target] ç›®æ ‡æ–‡ä»¶ [targetDir] ç›®æ ‡ç›®å½• å‘½ä»¤ è¯´æ˜Ž mkdir åˆ›å»ºæ–‡ä»¶å¤¹ rmdir åˆ é™¤æ–‡ä»¶ touch [new] åˆ›å»ºæ–‡ä»¶ rm [target] åˆ é™¤æ–‡ä»¶ rm -r [targetDir] åˆ é™¤æ–‡ä»¶å¤¹ rm -rf * åˆ é™¤æ‰€æœ‰å†…å®¹(ré€’å½’, få¼ºåˆ¶) cp [old] [test/new] å¤åˆ¶æ–‡ä»¶ cp [old] -R [test/new] å¤åˆ¶ç›®å½• ln -s old new å»ºç«‹è½¯é“¾ ç•Œé¢åˆ‡æ¢å‘½ä»¤ init [number] å‘½ä»¤ è¯´æ˜Ž 0 å…³æœº 1 å•ç”¨æˆ· 2 å¤šç”¨æˆ·çŠ¶æ€æ²¡æœ‰ç½‘ç»œæœåŠ¡ 3 å¤šç”¨æˆ·çŠ¶æ€æœ‰ç½‘ç»œæœåŠ¡(å°±æ˜¯å¹³æ—¶çš„å°é»‘çª—) 4 ç³»ç»Ÿæœªä½¿ç”¨ä¿ç•™ç»™ç”¨æˆ· 5 å›¾å½¢ç•Œé¢ 6 ç³»ç»Ÿé‡å¯ æœåŠ¡ / è¿›ç¨‹ç®¡ç†å‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž systemctl æŸ¥çœ‹è¿›ç¨‹ ststemctl [ status , start , stop , restart ] nginx å¦‚å¯¹ nginx æ‰§è¡Œç›¸å…³å‘½ä»¤ top è¿›ç¨‹èµ„æºå®žæ—¶çŠ¶æ€ ps [aux] è¿›ç¨‹å¿«ç…§ kill [-9] pid æ€æ­»è¿›ç¨‹ pkill [name] æ ¹æ®è¿›ç¨‹åæ€æ­»è¿›ç¨‹ ç½‘ç»œç®¡ç†å‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž ifconfig æŸ¥çœ‹ç½‘ç»œæŽ¥å£ï¼ˆ interfaceï¼‰ ip ç½‘ç»œé…ç½®å·¥å…·ç®± route è¯Šæ–­ç½‘ç»œ ipdown eth0 å…³é—­eth0ç½‘å¡ ipup eth0 å¼€å¯eth0ç½‘å¡ ss -anp , grep :22 æŸ¥æ‰¾å ç”¨ç«¯å£æƒ…å†µ netstat -anp , grep :22 æŸ¥æ‰¾å ç”¨ç«¯å£æƒ…å†µ å‘½ä»¤è¡Œä¸‹è½½å‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž curl æŸ¥çœ‹ç½‘ç»œæŽ¥å£ï¼ˆ interfaceï¼‰ wget ç½‘ç»œé…ç½®å·¥å…·ç®± wget -c æ–­ç‚¹ç»­ä¼  vi / vim è¡Œç¼–è¾‘å™¨ vimæ˜¯viçš„å¢žå¼ºç‰ˆ å‘½ä»¤ è¯´æ˜Ž vi [target] ç¼–è¾‘ç›®æ ‡æ–‡ä»¶ cat [target] æŸ¥çœ‹æ–‡ä»¶å†…å®¹ i (insert) åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„å‰é¢ï¼Œè½¬ä¸ºç¼–è¾‘æ¨¡å¼ï¼› a (append) åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨å­—ç¬¦çš„åŽé¢ï¼Œè½¬ä¸ºç¼–è¾‘æ¨¡å¼ï¼› o åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸‹æ–¹ï¼Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼› I åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œé¦–ï¼Œè½¬æ¢ä¸ºè¾“å…¥æ¨¡å¼ A åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„è¡Œå°¾ï¼Œè½¬æ¢ä¸ºè¾“å…¥æ¨¡å¼ O åœ¨å½“å‰å…‰æ ‡æ‰€åœ¨è¡Œçš„ä¸Šæ–¹ï¼Œæ–°å»ºä¸€è¡Œï¼Œå¹¶è½¬ä¸ºè¾“å…¥æ¨¡å¼ï¼› esc é€€å‡ºç¼–è¾‘, ubuntu éœ€è¦ esc + : :q é€€å‡ºç¼–è¾‘ :q! å¼ºåˆ¶é€€å‡º :wq é€€å‡ºå¹¶ä¿å­˜ ç³»ç»Ÿæ“ä½œå‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž ï¼ å¼ºåˆ¶æ‰§è¡Œå‘½ä»¤ shutdown -h now ç«‹åˆ»å…³æœº shutdown -r now /reboot ç«‹åˆ»é‡å¯è®¡ç®—æœº su - root å…ˆç”¨æ™®é€šè´¦æˆ·ç™»å½•å†åˆ‡æ¢ sudoä¸´æ—¶å·²ç®¡ç†å‘˜æ“ä½œ logout ç”¨æˆ·æ³¨é”€ å¸®åŠ©å‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž â€“help æŸ¥çœ‹å‘½ä»¤å¸®åŠ© man xxx æŸ¥çœ‹è¯¦ç»†æ‰‹å†Œ è¾…åŠ©å‘½ä»¤ å‘½ä»¤ è¯´æ˜Ž 0 å…³æœº]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€SSRã€‘nuxt.jsæœåŠ¡ç«¯æ¸²æŸ“ä½“éªŒç¬”è®°]]></title>
    <url>%2F2019%2F04%2F02%2F%E3%80%90SSR%E3%80%91nuxt-js%E4%BD%93%E9%AA%8C%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[å®˜ç½‘: https://zh.nuxtjs.org/ è¿™æ®µæ—¶é—´å…¬å¸æ‹›äº†ä¸ªä¸“é—¨æžseoä¼˜åŒ–çš„, ç»è¿‡ä»–çš„å»ºè®®æˆ‘ä»¬éœ€è¦æ•´æ”¹ä¸€ç³»åˆ—ä¹‹å‰æ²¡æœ‰æ³¨æ„çš„ç»†èŠ‚æ¥æå‡SEOçš„ä¼˜åŒ– ç»™æˆ‘ä»¬æå‡ºäº†å¤§è‡´ä»¥ä¸‹çš„å»ºè®® å¯¹éžå¿…è¦è·Ÿè¸ªçš„é¡µé¢çš„aæ ‡ç­¾æ·»åŠ  noffollowå±žæ€§ éœ€è¦å¯¹é¦–é¡µçš„metaçš„title,keyword, descriptionè¿›è¡Œè®¾ç½®, è€Œä¸”è¦é¿å…å¤§å†™ ç½‘é¡µé™æ€åŒ–, ä½¿ç”¨ /è·¯ç”±å‚æ•°, è€Œä¸æ˜¯queryå½¢å¼çš„å‚æ•°(?) åŽ»æŽ‰æ— å…³é¡µé¢çš„keywordå’Œ descriptionæ ‡ç­¾ å¿…é¡»è¦æœ‰404é¡µé¢ æä¾›ä¸€ä¸ªä¸“é—¨ç»™çˆ¬è™«çˆ¬å–çš„æ–°é—»æ ç›®, å¹¶ä¸”å…¥å£å¯¹ç”¨æˆ·ä¸å¯è§ ç”Ÿæˆsitemap.htmlå’Œsitemap.xmlæ–‡ä»¶, å¹¶åœ¨ç½‘ç«™åº•éƒ¨â€é“¾æŽ¥â€çš„åœ°æ–¹ä»¥â€ç½‘ç«™åœ°å›¾â€å’Œâ€XMLâ€æ·»åŠ  é…ç½®robots.txtæ–‡ä»¶ éœ€è¦SSR æœ€åŽä¸€ç‚¹ä¹Ÿå°±æ˜¯å·¥ç¨‹é‡æœ€å¤§çš„ä¸€ç‚¹â€“SSR, å°±æ˜¯ä½¿ç”¨Nuxt.jsçš„ç›®çš„ æ€Žä¹ˆèµ·æ­¥å°±ä¸è¯´äº†, å®˜ç½‘å†™çš„å¾ˆå¥½, è¿™é‡Œå°±è®°å½•ä¸€ä¸‹æœ¬æ¬¡å°è¯•ä¸­èŠ±äº†æ¯”è¾ƒå¤šçš„æ—¶é—´åŽ»ç†è§£çš„åœ°æ–¹, ä»¥åŠå‘ compoents å’Œ pagesç›®å½•é¡¾åæ€ä¹‰, Pages æ–‡ä»¶å¤¹åº”è¯¥å­˜æ”¾çš„æ˜¯é¡µé¢, componentsåº”è¯¥æ˜¯ç»„ä»¶, è¿™å…¶å®žåœ¨æœ€å¼€å§‹æ˜¯æ¯”è¾ƒå®¹æ˜“æ··æ·†çš„, åœ¨æˆ‘ä»¬å¹³æ—¶ä¹ æƒ¯æ€§çš„ä½¿ç”¨vueçš„æ—¶å€™, ä¸€ä¸ªvueæ–‡ä»¶æ—¢å¯ä»¥ä½œä¸ºç»„ä»¶ä¹Ÿå¯ä»¥ä½œä¸ºé¡µé¢, ä½†åœ¨ Nuxt ä¸­æ˜¯ç±»ä¼¼ä½†ä¸å®Œå…¨ç›¸åŒ, pages ä¸­çš„é¡µé¢ç»„ä»¶å…·æœ‰è¢«å¼ºåŒ–çš„å‡ ä¸ªæ–¹æ³• è€Œcomponents åˆ™ç¡®å®žæ˜¯ç»„ä»¶çš„å®šä¹‰, å®ƒå°±æ˜¯æœ€æ™®é€šçš„vueç»„ä»¶ å¯é€‰ä¸Žå¿…é€‰åŠ¨æ€è·¯ç”±Nuxt.js çš„è·¯ç”±æŒ‰ç…§pages æ–‡ä»¶å¤¹çš„å…·ä½“ç›®å½•ç»“æž„è‡ªåŠ¨åˆ’åˆ†, åŠ¨æ€è·¯ç”±ä¹Ÿæ˜¯å¦‚æ­¤, ä½†åŠ¨æ€è·¯ç”±å¯è¢«åˆ†ä¸ºå¯é€‰å’Œå¿…é€‰, å¯é€‰è·¯ç”±, è®¿é—®è·¯å¾„demo: people/12312345pages/--| people/-----| _id.vue--| _.vue--| index.vue è¿™æ ·çš„ç»“æž„æ˜¯ å¿…é€‰è·¯ç”±, è®¿é—®è·¯å¾„demo: people/123/456 åŒæ—¶å¯æŽ¥æ”¶ 123 å’Œ 456 ä¸¤ä¸ªå‚æ•°, å¹¶ä¸” 123 å‚æ•°å¿…é¡»æœ‰1234567pages/--| people/-----| _id/---------| _id.vue---------| index.vue--| _.vue--| index.vue 404é¡µé¢_.vue å¯ä»¥ç”¨æ¥å……å½“è·¯ç”±æœªè¢«åŒ¹é…ä¸Šçš„æƒ…å†µ, æ‰€ä»¥æˆ‘ä»¬éœ€è¦çš„404é¡µé¢å°±å¯ä»¥ä½¿ç”¨_.vueæ¥ç¼–å†™, æ”¾åœ¨pagesç›®å½•ä¸‹ 123pages/--| _.vue--| index.vue ä½¿ç”¨axioså¿…é¡»è¦åœ¨nuxt.config.jsä¸­æ·»åŠ å…³äºŽaxiosçš„é…ç½®, æ‰èƒ½ä½¿ç”¨this.$axiosè®¿é—®åˆ°1234567891011121314axios: &#123; proxy: true, prefix: 'http://jsonplaceholder.typicode.com', // baseURL credentials: true,&#125;,proxy: &#123; '/api/': &#123; target: 'http://127.0.0.1:2001', // ä»£ç†åœ°å€ changeOrigin: true, pathRewrite: &#123; '^/api': '' &#125;, &#125;,&#125;, ä½¿ç”¨axiosä¸éœ€è¦åˆ›å»º vuexå®žä¾‹åªéœ€è¦æŠŠä½ çš„ state,gettersç­‰ç­‰å¯¼å‡ºå³å¯, å‘½åç©ºé—´çš„æ–¹å¼ä¹Ÿæ˜¯å¦‚æ­¤,åªéœ€è¦å¤šå»ºä¸€ä¸ªæ–‡ä»¶å³å¯ å¦‚ä¸‹:store/index.js1234567891011121314export const state = () =&gt; (&#123; userInfo: 0&#125;)export const getters = &#123; getUserInfo (state) &#123; return state.userInfo &#125;&#125;export const mutations = &#123; setUserInfo (state, data) &#123; state.userInfo = data &#125;&#125; fetch.js1234567891011121314export const state = () =&gt; (&#123; posts: null&#125;)export const getters = &#123; getPosts (state) &#123; return state.posts &#125;&#125;export const mutations = &#123; setPosts (state, data) &#123; state.posts = data &#125;&#125; ä½¿ç”¨fetchä¸­çš„stateæ—¶:12345// å†™æ•°æ®this.$store.commit('fetch/setPosts', res.data)// å–æ•°æ®this.posts = this.$store.getters['fetch/getPosts'] æœåŠ¡ç«¯ä¸Žå®¢æˆ·ç«¯æ•°æ®ä¼ é€’åˆ©ç”¨vuexé‡Œæä¾›çš„nuxtServerInit, Nuxt.js è°ƒç”¨å®ƒçš„æ—¶å€™ä¼šå°†é¡µé¢çš„ä¸Šä¸‹æ–‡å¯¹è±¡ä½œä¸ºç¬¬2ä¸ªå‚æ•°ä¼ ç»™å®ƒï¼ˆæœåŠ¡ç«¯è°ƒç”¨æ—¶æ‰ä¼šé…±ç´«å“Ÿï¼‰ ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœåŠ¡ç«¯çš„ä¼šè¯çŠ¶æ€æ ‘é‡Œå¯ä»¥é€šè¿‡ req.session.user æ¥è®¿é—®å½“å‰ç™»å½•çš„ç”¨æˆ·ã€‚å°†è¯¥ç™»å½•ç”¨æˆ·ä¿¡æ¯ä¼ ç»™å®¢æˆ·ç«¯çš„çŠ¶æ€æ ‘ï¼Œæˆ‘ä»¬åªéœ€æ›´æ–° store/index.js å¦‚ä¸‹ï¼š1234567actions: &#123; nuxtServerInit (&#123; commit &#125;, &#123; req &#125;) &#123; if (req.session.user) &#123; commit('user', req.session.user) &#125; &#125;&#125; å¦‚æžœä½ ä½¿ç”¨çŠ¶æ€æ ‘æ¨¡å—åŒ–çš„æ¨¡å¼ï¼Œåªæœ‰ä¸»æ¨¡å—ï¼ˆå³ store/index.jsï¼‰é€‚ç”¨è®¾ç½®è¯¥æ–¹æ³•ï¼ˆå…¶ä»–æ¨¡å—è®¾ç½®äº†ä¹Ÿä¸ä¼šè¢«è°ƒç”¨ï¼‰ã€‚ ç”Ÿå‘½å‘¨æœŸçš„è°ƒç”¨çŽ¯å¢ƒåœ¨ä»»ä½• Vue ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸå†…ï¼Œ åªæœ‰ beforeCreate å’Œ created è¿™ä¸¤ä¸ªæ–¹æ³•ä¼šåœ¨ å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯è¢«è°ƒç”¨ã€‚å…¶ä»–ç”Ÿå‘½å‘¨æœŸå‡½æ•°ä»…åœ¨å®¢æˆ·ç«¯è¢«è°ƒç”¨ã€‚]]></content>
      <categories>
        <category>SEO</category>
      </categories>
      <tags>
        <tag>Vue</tag>
        <tag>SSR</tag>
        <tag>SEO</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Reactã€‘é«˜é˜¶ç”¨æ³•]]></title>
    <url>%2F2019%2F04%2F02%2F%E3%80%90React%E3%80%91%E9%AB%98%E9%98%B6%E7%94%A8%E6%B3%95%2F</url>
    <content type="text"><![CDATA[é»˜è®¤å‚æ•° å½“æœªä¼ å…¥propsæ—¶ä½¿ç”¨é¢„è®¾çš„é»˜è®¤å€¼ ä½¿ç”¨é™æ€å±žæ€§defaultPropsæ¥å®šä¹‰propsçš„é»˜è®¤å€¼, é¿å…æœªä¼ propsæŠ¥é”™çš„æƒ…å†µ123static defaultProps = &#123; thing: "è¿™æ˜¯é»˜è®¤çš„propså‚æ•°"&#125; demo12345678910111213141516171819202122232425262728293031323334353637383940414243444546// todoList.jsxclass TodoList extends Component &#123; constructor(props) &#123; super(props) this.state = &#123; todoList: [ &#123; thing: 'å–å¯ä¹' &#125;, &#123; thing: 'æ‰“æ¸¸æˆ' &#125;, // æ•…æ„ç•™ç©ºä¸€ä¸ª &#123; &#125;, &#123; thing: 'çœ‹ç”µå½±' &#125;, &#123; thing: 'çœ‹å‰§' &#125;, &#123; thing: 'åˆ·æŠ–éŸ³' &#125;, &#123; thing: 'åƒé¥­' &#125; ] &#125; &#125; render() &#123; const &#123; todoList &#125; = this.state return ( &lt;div className="wrap"&gt; &#123; todoList.map( item =&gt; &lt;TodoItem thing=&#123;item.thing&#125; /&gt;) &#125; &lt;/div&gt; ) &#125;&#125;// todoItem.jsxclass TodoItem extends Component &#123; constructor(props) &#123; super(props) &#125; static defaultProps = &#123; thing: "è¿™æ˜¯é»˜è®¤çš„propså‚æ•°" &#125; render() &#123; return ( &lt;div&gt; &#123; this.props.thing &#125; &lt;/div&gt; ) &#125;&#125; å®žé™…æ˜¾ç¤º: è‡ªç”±çš„renderè¿”å›žå€¼ç±»åž‹ renderå‡½æ•°çš„è¦æ±‚æ²¡æœ‰ä»¥å‰ä¸¥æ ¼äº†ï¼Œ ä¸ç”¨å›ºå®šè¿”å›ždom ä»¥åŠ å…é™¤å¿…é¡»ä½¿ç”¨()åŒ…è£¹ è¿”å›ždom12345class Demo extends Component &#123; render() &#123; return &lt;div&gt;Hello React&lt;/div&gt; &#125;&#125; è¿”å›žå­—ç¬¦ä¸²12345class Demo extends Component &#123; render() &#123; return 'Hello React' &#125;&#125; è¿”å›žæ•°ç»„123456789class Demo extends Component &#123; render() &#123; return [ &lt;li&gt;1111&lt;/li&gt;, &lt;li&gt;2222&lt;/li&gt;, &lt;li&gt;3333&lt;/li&gt;, ] &#125;&#125; ç©ºçš„æ ¹èŠ‚ç‚¹ é¿å…äº†æ— æ•…åœ°åµŒå¥— å†™æ³•ä¸€ï¼š123456789class Demo extends Component &#123; render() &#123; return &lt;&gt; &lt;li&gt;hello world1&lt;/li&gt; &lt;li&gt;hello world2&lt;/li&gt; &lt;li&gt;hello world3&lt;/li&gt; &lt;/&gt; &#125;&#125; å†™æ³•äºŒ ï¼š123456789101112// ä½¿ç”¨æ–‡æ¡£ç‰‡æ®µimport React, &#123; Component, Fragment &#125; from 'react'class Demo extends Component &#123; render() &#123; return &lt;Fragment&gt; &lt;li&gt;hello world1&lt;/li&gt; &lt;li&gt;hello world2&lt;/li&gt; &lt;li&gt;hello world3&lt;/li&gt; &lt;/Fragment&gt; &#125;&#125; ä¸¤ç§å†™æ³•çš„æ•ˆæžœæ˜¯ä¸€æ ·çš„ï¼š PureComponent è‡ªåŠ¨ä¸ºçŠ¶æ€ç»„ä»¶æ·»åŠ shouldComponentUpdateå‡½æ•° 1234import React, &#123; PureComponent &#125; from 'react'class TodoItem extends PureComponent &#123; &#125; æ›´å®‰å…¨çš„æ•°æ®ç±»åž‹ä½¿ç”¨immutableJs å¤„ç†å¼‚æ­¥ä»»åŠ¡åŠç»„ä»¶ç«™å†…æœç´¢ react16.6ä¸­å¦‚ä½•å¤„ç†å¼‚æ­¥ ä¸ºå‡½æ•°ç»„ä»¶åšæ€§èƒ½ä¼˜åŒ–ç«™å†…æœç´¢ memo æ–°ç‰ˆrefç”¨æ³•ç«™å†…æœç´¢ react16ä¸­å¦‚ä½•ä½¿ç”¨ref]]></content>
      <categories>
        <category>React</category>
      </categories>
      <tags>
        <tag>React</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨ä¹‹ç»˜åˆ¶ä¸‰ç»´å¯¹è±¡]]></title>
    <url>%2F2019%2F04%2F02%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E4%B9%8B%E7%BB%98%E5%88%B6%E4%B8%89%E7%BB%B4%E5%AF%B9%E8%B1%A1%2F</url>
    <content type="text"><![CDATA[Plane ( å¹³é¢ ) äºŒç»´çŸ©å½¢ï¼Œæ¸²æŸ“ç»“æžœæ˜¯åœ¨å±å¹•ä¸­å¤®æœ‰ä¸ªç°è‰²çŸ©å½¢ Cube (æ–¹å—) ä¸‰ç»´ç«‹æ–¹ä½“ã€‚ Sphere ( çƒä½“ ) ä¸‰ç»´çƒä½“ã€‚ Camera ( ç›¸æœº ) å†³å®šè§†ç‚¹çš„ä½ç½®ï¼Œ å’Œæœ€ç»ˆè§‚å¯Ÿç»“æžœ Axes ( è½´ ) è¾…åŠ©æµ‹è¯•å·¥å…· ç¬¬ä¸€æ­¥-è®¾ç½®åœºæ™¯å˜é‡Sceneæ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œ å®ƒç”¨æ¥ä¿å­˜å¹¶ä¸”è·Ÿè¸ªæˆ‘ä»¬æƒ³æ¸²æŸ“çš„ç‰©ä½“1var scene = new THREE.Scene(); å…·ä½“å†…å®¹æˆ‘ä»¬åŽç»­ä¼šæ·»åŠ åˆ° sceneä¸­ ç¬¬äºŒæ­¥-è®¾ç½®ç›¸æœºcameraç”¨æ¥æŽ§åˆ¶æˆ‘ä»¬æ‰€çœ‹åˆ°çš„æ–¹å‘è§’åº¦12345678// è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹var camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 0.1, 1000)// è®¾ç½®åæ ‡camera.position.x = -30camera.position.y = 40camera.position.z = 30// è®¾ç½®æœå‘camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® ç¬¬ä¸‰æ­¥-è®¾ç½®ç»˜åˆ¶å¯¹è±¡æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªåŸºäºŽwebglçš„æ¸²æŸ“å™¨, å½“ç„¶è¿˜æœ‰å…¶ä»–çš„æ¸²æŸ“å™¨( canvas ,svgæ¸²æŸ“å™¨ç­‰)12345var renderer = new THREE.WebGLRenderer()// è®¾ç½®èƒŒæ™¯é¢œè‰²renderer.setClearColor(new THREE.Color(0xeeeeee));// æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸renderer.setSize(window.innerWidth, window.innerHeight) ç¬¬å››æ­¥-è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…·123// è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…·var axes = new THREE.AxisHelper(20)scene.add(axes) ç¬¬äº”æ­¥-åˆ›å»ºé›†åˆä½“åˆ›å»ºä¸€ä¸ªå¹³é¢123456789101112// è®¾ç½®å¹³é¢var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰²var plane = new THREE.Mesh(planeGeometry, planeMaterial)// è®¾ç½®æ—‹è½¬è§’åº¦plane.rotation.x = -0.5 * Math.PI;// è®¾ç½®åæ ‡plane.position.x = 15plane.position.y = 0plane.position.z = 0// åŠ å…¥åœºæ™¯scene.add(plane) åˆ›å»ºä¸€ä¸ªç«‹æ–¹ä½“1234567891011// è®¾ç½®ç«‹æ–¹ä½“var cubeGeometry = new THREE.CubeGeometry(4, 4, 4) //è®¾ç½®å®½é«˜å’Œæ®µåº¦// è®¾ç½®åŸºç¡€æè´¨var cubeMaterial = new THREE.MeshBasicMaterial(&#123;color: 0xff0000, wireframe: true&#125;) // è®¾ç½®é¢œè‰²å’Œæ‰“å¼€çº¿æ¡†var cube = new THREE.Mesh(cubeGeometry, cubeMaterial)// è®¾ç½®åæ ‡cube.position.x = 4cube.position.y = 3cube.position.z = 0// åŠ å…¥åœºæ™¯scene.add(cube) åˆ›å»ºä¸€ä¸ªçƒä½“12345678// è®¾ç½®çƒé¢ä½“var sphereGemometry = new THREE.SphereGeometry(4, 20, 20)var sphereMaterial = new THREE.MeshBasicMaterial(&#123; color: 0x7777ff, wireframe: true &#125;)var sphere = new THREE.Mesh(sphereGemometry, sphereMaterial)sphere.position.x = 20sphere.position.y = 4sphere.position.z = -2scene.add(sphere) æœ€åŽä¸€æ­¥-è¾“å‡ºåˆ°body123// å°†rendererçš„è¾“å‡ºæŒ‚åˆ°bodydocument.body.appendChild(renderer.domElement)renderer.render(scene, camera) æœ€ç»ˆæ•ˆæžœ å®Œæ•´ä»£ç  gitåœ°å€: https://0x9.me/ohetH 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879&lt;!DOCTYPE html&gt;&lt;html lang="en"&gt;&lt;head&gt; &lt;meta charset="UTF-8"&gt; &lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt; &lt;meta http-equiv="X-UA-Compatible" content="ie=edge"&gt; &lt;title&gt;ç¬¬ä¸€ä¸ªThreeJs&lt;/title&gt;&lt;/head&gt;&lt;style&gt; body &#123; margin: 0; overflow: hidden; &#125;&lt;/style&gt;&lt;body&gt;&lt;/body&gt;&lt;script src="../three.js"&gt;&lt;/script&gt;&lt;script&gt; // è®¾ç½®åœºæ™¯, var scene = new THREE.Scene(); // è®¾ç½®ç›¸æœº è§†è§’, å®½åº¦/é«˜åº¦, è¿‘è·ç¦»ç‚¹, è¿œè·ç‚¹ var camera = new THREE.PerspectiveCamera(50, window.innerWidth / window.innerHeight, 0.1, 1000) camera.position.x = -30 camera.position.y = 40 camera.position.z = 30 camera.lookAt(scene.position) // çœ‹å‘åœºæ™¯çš„ä¸­å¤® // è®¾ç½®ç»˜åˆ¶å¯¹è±¡---åŸºäºŽWebglçš„æ¸²æŸ“å™¨ var renderer = new THREE.WebGLRenderer() renderer.setClearColor(new THREE.Color(0xeeeeee)); // æŽ§åˆ¶æ¸²æŸ“å°ºå¯¸ renderer.setSize(window.innerWidth, window.innerHeight) // è®¾ç½®è¾…åŠ©æµ‹è¯•å·¥å…· var axes = new THREE.AxisHelper(20) scene.add(axes) // è®¾ç½®å¹³é¢ var planeGeometry = new THREE.PlaneGeometry(70, 50, 1, 1) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ var planeMaterial = new THREE.MeshLambertMaterial(&#123;color: 0xcccccc&#125;) // è®¾ç½®é¢œè‰² var plane = new THREE.Mesh(planeGeometry, planeMaterial) // è®¾ç½®æ—‹è½¬è§’åº¦ plane.rotation.x = -0.5 * Math.PI; // è®¾ç½®åæ ‡ plane.position.x = 15 plane.position.y = 0 plane.position.z = 0 // åŠ å…¥åœºæ™¯ scene.add(plane) // è®¾ç½®ç«‹æ–¹ä½“ var cubeGeometry = new THREE.CubeGeometry(4, 4, 4) //è®¾ç½®å®½é«˜å’Œæ®µåº¦ // è®¾ç½®åŸºç¡€æè´¨ var cubeMaterial = new THREE.MeshBasicMaterial(&#123;color: 0xff0000, wireframe: true&#125;) // è®¾ç½®é¢œè‰²å’Œæ‰“å¼€çº¿æ¡† var cube = new THREE.Mesh(cubeGeometry, cubeMaterial) // è®¾ç½®åæ ‡ cube.position.x = 4 cube.position.y = 3 cube.position.z = 0 // åŠ å…¥åœºæ™¯ scene.add(cube) // è®¾ç½®çƒé¢ä½“ var sphereGemometry = new THREE.SphereGeometry(4, 20, 20) var sphereMaterial = new THREE.MeshBasicMaterial(&#123; color: 0x7777ff, wireframe: true &#125;) var sphere = new THREE.Mesh(sphereGemometry, sphereMaterial) sphere.position.x = 20 sphere.position.y = 4 sphere.position.z = -2 scene.add(sphere) // å°†rendererçš„è¾“å‡ºæŒ‚åˆ°body document.body.appendChild(renderer.domElement) renderer.render(scene, camera)&lt;/script&gt;&lt;/html&gt;]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Threeã€‘Three.jså…¥é—¨å­¦ä¹ ç¬”è®°]]></title>
    <url>%2F2019%2F04%2F02%2F%E3%80%90Three%E3%80%91Three-js%E5%85%A5%E9%97%A8%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0%2F</url>
    <content type="text"><![CDATA[ç®€ä»‹WebGLæ˜¯åŸºäºŽOpenGl ES 2.0çš„Webæ ‡å‡†ï¼Œ å¯ä»¥é€šè¿‡HTML5 Canvas å…ƒç´ ä½œä¸ºDomæŽ¥å£è®¿é—®ã€‚ WebGl çµæ´»ä¸”å¤æ‚ã€‚ Three.js æ˜¯ä¸€ä¸ª3D JavaScript åº“ï¼Œ Three.js åº“å¯ç®€åŒ– WebGL å¼€å‘ã€‚ Three.js å°è£…äº†åº•å±‚çš„å›¾å½¢æŽ¥å£ï¼Œ èƒ½å¤Ÿåœ¨æ— éœ€æŽŒæ¡ç¹å†—çš„å›¾å½¢å­¦çŸ¥è¯†çš„æƒ…å†µä¸‹ï¼Œ ä¹Ÿèƒ½ç”¨ç®€å•çš„ä»£ç å®žçŽ°ä¸‰ä½åœºæ™¯çš„æ¸²æŸ“ Three.jsç”¨é€” åˆ›å»ºä¸‰ç»´å›¾å½¢ åœ¨ä¸‰ç»´åœºæ™¯ä¸­ç”ŸæˆåŠ¨ç”» åœ¨ç‰©ä½“ä¸Šåº”ç”¨çº¹ç†å’Œæè´¨ã€‚ ä»Žä¸‰ç»´å»ºæ¨¡è½¯ä»¶ä¸­åŠ è½½å›¾å½¢ åˆ›å»ºåŸºäºŽæ ·æ¡æ›²çº¿çš„äºŒç»´å›¾å½¢ å…¶ä»–web3Då¼•æ“Žæ’ä»¶å¼: Flash O3D Unity3d åŽŸç”Ÿ: GLGE X3DOM PhiloGL CopperLicht ä¼˜åŠ¿ æµè§ˆå™¨åŽŸç”Ÿæ”¯æŒï¼Œ ä¸éœ€è¦å®‰è£…æ’ä»¶ å¯¹æ“ä½œç³»ç»Ÿã€ æµè§ˆå™¨å…¼å®¹æ€§é«˜ï¼Œ æ”¯æŒç§»åŠ¨å¹³å° åŸºäºŽHTML5/WebGL, æ˜¯ Webå¼€å‘çš„ä¸»æµï¼› å¼€å‘ç»´æŠ¤éžå¸¸æ´»è·ƒ ç»„ä»¶åŠæ¡ˆä¾‹ä¸°å¯Œï¼Œ æ˜“äºŽå­¦ä¹ æŽŒæ¡ï¼› è®¾è®¡ä¼˜é›…ã€ çµæ´»ï¼Œ æ–¹ä¾¿ä»¥åŠå¢žåŠ æ–°çš„ç‰¹æ€§ åŸºäºŽ WebGL/OpenGL ES 2.0 ä½¿ç”¨ç†Ÿæ‚‰çš„HTML/JavaScript å¯¹åº•å±‚çš„WebGlçš„é«˜çº§å°è£… ä¿ç•™åº•å±‚å¼€å‘çš„ç‰¹æ€§ ç»“æž„ä¸¥è°¨çµæ´»ã€ æ˜“äºŽæ‰©å±•]]></content>
      <categories>
        <category>å›¾å½¢å­¦</category>
      </categories>
      <tags>
        <tag>å›¾å½¢å­¦</tag>
        <tag>ThreeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº†è§£CPUå·¥ä½œåŽŸç†]]></title>
    <url>%2F2019%2F04%2F01%2F%E4%BA%86%E8%A7%A3CPU%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[è®¡ç®—æœºåœ¨è¢«å‘æ˜Žå‡ºæ¥ä¹‹åŽï¼Œ ç»“æž„åŸºæœ¬ä¸Šæ²¡æœ‰æ€Žä¹ˆæ”¹å˜ï¼Œ ç›®å‰ä½¿ç”¨æœ€å¹¿æ³›çš„ç»“æž„æ˜¯â€œå†¯è¯ºä¾æ›¼ç»“æž„â€ å†¯è¯ºä¾æ›¼ç»“æž„ ç»´åŸºç™¾ç§‘ä¼ é€é—¨ ç®€å•è€Œè¨€çš„å†¯è¯ºä¾æ›¼ç»“æž„å¤„ç†å™¨å…·æœ‰ä»¥ä¸‹å‡ ä¸ªç‰¹ç‚¹: å¿…é¡»æœ‰ä¸€ä¸ªå­˜å‚¨å™¨ï¼› å¿…é¡»æœ‰ä¸€ä¸ªæŽ§åˆ¶å™¨ï¼› å¿…é¡»æœ‰ä¸€ä¸ªè¿ç®—å™¨ï¼Œç”¨äºŽå®Œæˆç®—æœ¯è¿ç®—å’Œé€»è¾‘è¿ç®—ï¼› å¿…é¡»æœ‰è¾“å…¥å’Œè¾“å‡ºè®¾å¤‡ï¼Œç”¨äºŽè¿›è¡Œäººæœºé€šä¿¡ã€‚ å¹¶ä¸”è¿˜æœ‰å’Œå†¯è¯ºä¾æ›¼ä¸ä¸€æ ·çš„å¦ä¸€ç§ç»“æž„: å“ˆä½›ç»“æž„ CPUçš„æŒ‡ä»¤é›†æŒ‡ä»¤é›†æ˜¯å­˜å‚¨åœ¨CPUå†…éƒ¨ï¼Œå¯¹CPUè¿ç®—è¿›è¡ŒæŒ‡å¯¼å’Œä¼˜åŒ–çš„ç¡¬ç¨‹åº è¯´äººè¯:æŒ‡ä»¤é›†å°±æ˜¯ä½ é©±åŠ¨CPUè¿ç®—å‘é€çš„æŒ‡ä»¤ x86/x64æŒ‡ä»¤é›†è¿™ä¸¤ç§æ˜¯æˆ‘ä»¬ç›®å‰æœ€æ™®éçš„å°å¼æœºå’Œç¬”è®°æœ¬çš„CPUç§ç±»ï¼Œ ARMæŒ‡ä»¤é›†åœ¨æˆ‘ä»¬çš„ç§»åŠ¨è®¾å¤‡ä¸Šã€ æ™ºèƒ½æ‰‹è¡¨ä¸Šã€åªèƒ½éŸ³å“ä¸Š MIPSæŒ‡ä»¤é›†ä¸€èˆ¬ç”¨åœ¨æœåŠ¡å™¨ä¸Šï¼Œ å¹¶ä¸”æ˜¯å¤§åž‹çš„æœåŠ¡å™¨ RISCæŒ‡ä»¤é›†è¿™å±žäºŽä¸€ç§ç²¾ç®€æŒ‡ä»¤ï¼Œ ä¹Ÿå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å¼€æºçš„æŒ‡ä»¤é›† ä¸­å›½æ›¾ç»è‡ªå·±ç ”å‘çš„èŠ¯ç‰‡ é¾™èŠ¯ï¼Œ è¿˜æœ‰ä¸­å›½çš„è¶…çº§è®¡ç®—æœºä¹Ÿæ˜¯ä½¿ç”¨çš„è¿™ä¸ªæŒ‡ä»¤é›† ðŸŒ—å¦‚ä½•å…¼å®¹å„æŒ‡ä»¤é›†æŒ‡ä»¤é›†æ˜¯CPUåŽŸç”Ÿæ”¯æŒçš„è¯­è¨€ï¼Œä¸åŒçš„æŒ‡ä»¤é›†ä¹‹é—´æ˜¯ä¸èƒ½äº’æ¢çš„ï¼Œ æ‰€ä»¥Cè¯­è¨€åœ¨ç¼–è¯‘çš„æ—¶å€™æœ‰ä¸€ç§æ–¹å¼å«äº¤å‰ç¼–è¯‘ï¼š ä½ åœ¨X64ç³»åˆ—çš„CPUä¸ŠåŽ»ç»™ARMçš„CPUåŽ»ç¼–è¯‘ç¨‹åºï¼Œè¿™å°±æ˜¯äº¤å‰ç¼–è¯‘ã€‚ è¿™ä¹Ÿæ˜¯åšåµŒå…¥å¼çš„å°±æ¯”è¾ƒå¸¸ç”¨è¿™äº›ä¸œè¥¿ã€‚ CPUçš„ç»„æˆ æŽ§åˆ¶å™¨ è¿ç®—å™¨ å­˜å‚¨å™¨ å­˜å‚¨å™¨å­˜å‚¨å™¨çš„ä¸»è¦åŠŸèƒ½æ˜¯å­˜å‚¨ç¨‹åºå’Œå„ç§æ•°æ®ï¼Œå¹¶èƒ½åœ¨è®¡ç®—æœºè¿è¡Œè¿‡ç¨‹ä¸­é«˜é€Ÿã€è‡ªåŠ¨åœ°å®Œæˆç¨‹åºæˆ–æ•°æ®çš„å­˜å–ã€‚ ä»–æ˜¯CPUä¸Šçš„ç¼“å­˜ï¼Œ å®ƒç›¸å½“äºŽæ˜¯æˆ‘ä»¬è€ƒè¯•æ—¶çš„è‰ç¨¿çº¸, åœ¨ä¸Šé¢å†™çš„åªæ˜¯è¿ç®—è¿‡ç¨‹ï¼Œ è€Œæœ€ç»ˆç­”æ¡ˆæ˜¯å†™åˆ°ç­”é¢˜çº¸ä¸Šçš„(å†…å­˜) è¿ç®—å™¨ç®—æœ¯é€»è¾‘è¿ç®—å•å…ƒï¼ˆALUï¼‰çš„åŸºæœ¬åŠŸèƒ½ä¸ºåŠ ã€å‡ã€ä¹˜ã€é™¤å››åˆ™è¿ç®—ï¼Œä¸Žã€æˆ–ã€éžã€å¼‚æˆ–ç­‰é€»è¾‘æ“ä½œï¼Œä»¥åŠç§»ä½ã€æ±‚è¡¥ç­‰æ“ä½œã€‚ æŽ§åˆ¶å™¨æŽ§åˆ¶å•å…ƒåˆåˆ†ä¸ºï¼š æŒ‡ä»¤è®¡æ•°å™¨ã€ æŒ‡ä»¤å¯„å­˜å™¨ æŽ§åˆ¶è´Ÿè´£åè°ƒè¿ç®—å™¨å’Œå­˜å‚¨å™¨ä¹‹é—´çš„å·¥ä½œ æ€»ä¹‹ï¼ŒæŽ§åˆ¶å™¨ç›¸å½“äºŽæŒ‡æŒ¥å®˜, è¿ç®—å•å…ƒç›¸å½“äºŽå£«å…µï¼Œ å­˜å‚¨å™¨ç›¸å½“äºŽä»“åº“ï¼Œ æŒ‡æŒ¥å®˜æŒ‡æŒ¥å£«å…µåœ¨å­˜åº“ä¸­æ¬å¼¹è¯ï¼Œåšå·¥ä½œ CPUå¦‚ä½•ä¸Žå†…å­˜æ²Ÿé€šè®¡ç®—æœºä¸­çš„æ•°æ®åˆ†ä¸ºä¸¤ç§ ä»£ç æ®µ â€”- æŒ‡ä»¤æ•°æ®ï¼ˆæˆ‘ä»¬å†™çš„ä»£ç ï¼‰ æ•°æ®æ®µ â€”- çº¯ç²¹çš„æ•°æ®ï¼ˆæ¯”å¦‚ç”µå½±æ–‡ä»¶ï¼‰ ä»£ç æ®µå’Œæ•°æ®æ®µä¸€èˆ¬æ˜¯åˆ†å¼€å­˜æ”¾çš„ï¼Œ ä¸€å®šè¦æ”¾ä¸€èµ·ä¹Ÿä¸æ˜¯ä¸å¯ä»¥ï¼Œ ä½†æ˜¯å¾ˆæœ‰å¯èƒ½å›žå¼•èµ·å¾ˆä¸¥é‡çš„å®‰å…¨é—®é¢˜â€“ ç¼“å†²åŒºæº¢å‡ºï¼Œçœ‹ä¸‹é¢çš„å®‰å…¨é—®é¢˜åŒºåŸŸ ðŸ‘‡ æŒ‡ä»¤è®¡æ•°å™¨ä»Žä»£ç æ®µä¸­æ‰¾å‡ºä¸€æ®µæŒ‡ä»¤ï¼Œ æ”¾åˆ°æŒ‡ä»¤å¯„å­˜å™¨ä¸­(æŒ‡ä»¤å¯„å­˜å™¨å¯ä»¥ç†è§£ä¸ºCPUä¸­ä¸€å—ç‰¹æ®Šçš„å†…å­˜, ä½†æ˜¯å®ƒåªèƒ½æ”¾æŒ‡ä»¤ï¼Œ å¦‚æžœå­˜æ•°æ®å°±ä¼šå®•æœº)ï¼Œ æ”¾åˆ°æŒ‡ä»¤å¯„å­˜å™¨ä¸­åŽï¼Œ æŽ§åˆ¶å™¨å°±å¼€å§‹æ ¹æ®è¿™ä¸ªæŒ‡ä»¤å…·ä½“çš„å†…å®¹ï¼ŒæŠŠæ•°æ®é€å…¥è¿ç®—å™¨ï¼Œ æ•°æ®ä»Žå“ªé‡Œæ¥ï¼Œ æŽ§åˆ¶å™¨é€šè¿‡æ•°æ®æ€»çº¿ä»Žå†…å­˜ä¸­æ‹¿åˆ°æ•°æ®ç„¶åŽé€å…¥å­˜å‚¨å•å…ƒï¼Œä¾›è¿ç®—å™¨ä½¿ç”¨ ðŸ”¥å®‰å…¨é—®é¢˜ðŸŒŠ ç¼“å†²åŒºæº¢å‡ºåœ¨ä»£ç æ®µæ’å…¥ä¸€äº›æ•°æ®ï¼Œ æˆ–æ˜¯æ’å…¥ä¸€äº›å¼‚å¸¸çš„è·³è½¬æŒ‡ä»¤ï¼Œ æœ¬æ¥ç¨‹åºä¸­çš„è·³è½¬æ˜¯ä½“çŽ°åœ¨if`elseæˆ–è€…æ˜¯forå¾ªçŽ¯ï¼Œ è¿™äº›è·³è½¬è¯­å¥åœ¨è®¡ç®—æœºåº•å±‚ä¼šè¢«è½¬æ¢æˆjmp`æŒ‡ä»¤ï¼Œä»Žè¿™ä¸ªåœ°æ–¹è·³è½¬åˆ°å¦ä¸€ä¸ªåœ°æ–¹åŽ»æ‰§è¡Œï¼Œ å½“ä½ è·³åˆ°å¦ä¸€æ®µä»£ç é‚£ï¼Œ è¿™æ®µä»£ç å°±å¼€å§‹æ‰§è¡Œäº†ï¼Œ ä¹Ÿå°±æ˜¯å¦‚æžœä»£ç æ˜¯ç»è¿‡ç²¾å¿ƒè®¾è®¡çš„ï¼Œ è·³è½¬åˆ°çš„ç›®æ ‡ä»£ç æ®µä¸æ˜¯ä½ åŽŸæœ¬æƒ³è¦çš„ä»£ç æ®µï¼Œ è€Œç›®æ ‡ä»£ç æ®µè¦åšå±é™©æ“ä½œï¼Œ é‚£å°±å±é™©å¤§äº†ï¼Œ è¿™å°±æ˜¯ç¼“å†²åŒºæº¢å‡ºã€‚ æ¯”å¦‚å‰ä¸¤å¹´çš„æ¼æ´žï¼š å¿ƒè„æ»´è¡€ ç»å…¸çš„8086CPUç»“æž„ä½“ç³»8086æ˜¯ä¸€ç§æ¯”è¾ƒæ—©çš„å•†ä¸šåŒ–å¤„ç†å™¨èŠ¯ç‰‡]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºåŸºç¡€</tag>
        <tag>CPU</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¾…å­¦ä¹¦ç±]]></title>
    <url>%2F2019%2F04%2F01%2F%E5%BE%85%E5%AD%A6%E4%B9%A6%E7%B1%8D%2F</url>
    <content type="text"><![CDATA[å›¾å½¢å­¦ ã€Šé«˜ä¸­æ•°å­¦å¿…ä¿®123ã€‹ çº¿æ€§ä»£æ•° ç¦»æ•£æ•°å­¦]]></content>
      <categories>
        <category>ç›®å½•</category>
      </categories>
      <tags>
        <tag>ç›®å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ¨¡æ‹Ÿå®žçŽ°ä¸€ä¸ªbind]]></title>
    <url>%2F2019%2F03%2F31%2F%E6%A8%A1%E6%8B%9F%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AAbind%2F</url>
    <content type="text"><![CDATA[bindæ–¹æ³•ç”¨æ¥ä¿ç•™JavaScriptçš„thisæŒ‡å‘ï¼Œ å’Œapplyã€callè¿™ä¸¤ä¸ªæ–¹æ³•ä¸åŒçš„æ˜¯ï¼Œbindä¸ä¼šç«‹å³æ‰§è¡Œ å¦‚ä½•æ¨¡æ‹Ÿå®žçŽ°ä¸€ä¸ªbindæ–¹æ³• åˆå§‹å‡½æ•°ï¼Œæˆ‘ä»¬å°†å¯¹æ•´ä¸ªå‡½æ•°ä¿®æ”¹thisæŒ‡å‘12345function fn( name ) &#123; this.name = name&#125;var obj = &#123; age: 18 &#125; æœ€æ™®é€šçš„å®žçŽ°åˆ›å»ºä¸€ä¸ªå‡½æ•°1234567function mybind(func ,context, ...args) &#123; return () =&gt; &#123; return func.apply(context, args ) &#125;&#125;var bindFn = mybind(fn, obj, 'å°æ˜Ž') åŽŸåž‹å®žçŽ°åˆ›å»ºä¸€ä¸ªå‡½æ•°12345678Function.prototype.mybind = function(context, ...args) &#123; const _this = this return (...args2) =&gt; &#123; return _this.apply( context, [ ...args, ...args2] ) &#125; &#125;var bindFn = fn.mybind(obj, 'å°æ˜Ž' ) å®žçŽ°å¾ˆç®€å•ï¼Œ ä½†æ˜¯è¿˜å·®ä¸€æ­¥ï¼Œå°±æ˜¯bindåŽçš„å‡½æ•°ï¼Œ æ‹¿æ¥ä½œä¸ºæž„é€ å‡½æ•°newæ—¶ï¼Œ thisæŒ‡å‘ä¼šå‡ºé—®é¢˜ å¤„ç†new çš„æŒ‡å‘123456789Function.prototype.mybind = function(context, ...args) &#123; const _this = this function cbFn (...tempArgs) &#123; return this instanceof cbFn ? _this.apply(this, [ ...args, ...tempArgs]) : _this.apply( context, [ ...args, ...tempArgs] ) &#125; return cbFn&#125;var BindFn = fn.mybind(obj, 'å°æ˜Ž' )var bfn = new BindFn() å‚è€ƒæ–‡çŒ® https://github.com/mqyqingfeng/Blog/issues/13]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[thisçš„è½¯ç»‘å®šå’Œç¡¬ç»‘å®š]]></title>
    <url>%2F2019%2F03%2F30%2Fthis%E7%9A%84%E8%BD%AF%E7%BB%91%E5%AE%9A%E5%92%8C%E7%A1%AC%E7%BB%91%E5%AE%9A%2F</url>
    <content type="text"><![CDATA[è¢«è°ƒç”¨çš„å‡½æ•°ç¤ºä¾‹1234function fn() &#123; // å¦‚æžœä¸¥æ ¼æ¨¡å¼ï¼Œ "use strict"åŠ åœ¨æ­¤å¤„ console.log(this)&#125; è½¯ç»‘å®š1fn() // window â€œuse strictâ€ ä¸¥æ ¼æ¨¡å¼çš„è½¯ç»‘å®š 1fn() // undefined ç¡¬ç»‘å®š1fn.apply(&#123;&#125;,['a']) // &#123;&#125; å¿½ç•¥ç¡¬ç»‘å®šï¼Œ ä½¿ç”¨è½¯ç»‘å®š1fn.apply(null,['a']) // window â€œuse strictâ€ ä¸¥æ ¼æ¨¡å¼12fn.apply(&#123;&#125;,['a']) // &#123;&#125;fn.apply(null,['a']) // null]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç†è§£Iaasã€PaaSã€SaaSçš„åŒºåˆ«]]></title>
    <url>%2F2019%2F03%2F29%2F%E7%90%86%E8%A7%A3Iaas%E3%80%81PaaS%E3%80%81SaaS%E7%9A%84%E5%8C%BA%E5%88%AB%2F</url>
    <content type="text"><![CDATA[å¦‚æžœä½ æ˜¯ä¸€ä¸ªç½‘ç«™ç«™é•¿ï¼Œæƒ³è¦å»ºç«‹ä¸€ä¸ªç½‘ç«™ã€‚ä¸é‡‡ç”¨äº‘æœåŠ¡ï¼Œä½ æ‰€éœ€è¦çš„æŠ•å…¥å¤§æ¦‚æ˜¯ï¼šä¹°æœåŠ¡å™¨ï¼Œå®‰è£…æœåŠ¡å™¨è½¯ä»¶ï¼Œç¼–å†™ç½‘ç«™ç¨‹åºã€‚ ðŸ˜¦Iaas æ¯”å¦‚: æ™®é€šçš„äº‘æœåŠ¡å™¨ çŽ°åœ¨ä½ è¿½éšæ½®æµï¼Œé‡‡ç”¨æµè¡Œçš„äº‘è®¡ç®—ï¼Œå¦‚æžœä½ é‡‡ç”¨IaaSæœåŠ¡ï¼Œé‚£ä¹ˆæ„å‘³ç€ä½ å°±ä¸ç”¨è‡ªå·±ä¹°æœåŠ¡å™¨äº†ï¼Œéšä¾¿åœ¨å“ªå®¶è´­ä¹°è™šæ‹Ÿæœºï¼Œä½†æ˜¯è¿˜æ˜¯éœ€è¦è‡ªå·±è£…æœåŠ¡å™¨è½¯ä»¶ã€‚ ðŸ˜§PaaS æ¯”å¦‚: é˜¿é‡Œäº‘çš„è™šæ‹Ÿæœº è€Œå¦‚æžœä½ é‡‡ç”¨PaaSçš„æœåŠ¡ï¼Œé‚£ä¹ˆæ„å‘³ç€ä½ æ—¢ä¸éœ€è¦ä¹°æœåŠ¡å™¨ï¼Œä¹Ÿä¸éœ€è¦è‡ªå·±è£…æœåŠ¡å™¨è½¯ä»¶ï¼Œåªéœ€è¦è‡ªå·±å¼€å‘ç½‘ç«™ç¨‹åº ðŸ˜¨SaaS å¦‚æ·˜å®å¯¹äºŽå•†å®¶ å¦‚æžœä½ å†è¿›ä¸€æ­¥ï¼Œè´­ä¹°æŸäº›åœ¨çº¿è®ºå›æˆ–è€…åœ¨çº¿ç½‘åº—çš„æœåŠ¡,è¿™æ„å‘³ç€ä½ ä¹Ÿä¸ç”¨è‡ªå·±å¼€å‘ç½‘ç«™ç¨‹åºï¼Œåªéœ€è¦ä½¿ç”¨å®ƒä»¬å¼€å‘å¥½çš„ç¨‹åºï¼Œè€Œä¸”ä»–ä»¬ä¼šè´Ÿè´£ç¨‹åºçš„å‡çº§ã€ç»´æŠ¤ã€å¢žåŠ æœåŠ¡å™¨ç­‰ï¼Œè€Œä½ åªéœ€è¦ä¸“å¿ƒè¿è¥å³å¯ï¼Œæ­¤å³ä¸ºSaaSã€‚ å‚è€ƒæ–‡çŒ® https://www.zhihu.com/question/20387284]]></content>
      <categories>
        <category>ä¸“ä¸šæœ¯è¯­</category>
      </categories>
      <tags>
        <tag>ä¸“ä¸šæœ¯è¯­</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€å®¹å™¨ã€‘æ­å»ºç¬¬ä¸€ä¸ªdockerçŽ¯å¢ƒ]]></title>
    <url>%2F2019%2F03%2F28%2F%E3%80%90%E5%AE%B9%E5%99%A8%E3%80%91%E6%90%AD%E5%BB%BA%E7%AC%AC%E4%B8%80%E4%B8%AAdocker%E7%8E%AF%E5%A2%83%2F</url>
    <content type="text"><![CDATA[åˆå§‹åŒ–ä¸€ä¸ªNodeJsç¨‹åºä»¥ä¸‹æ“ä½œå¿…é¡»å·²ç»å®‰è£…äº†ï¦ºNodeJSã€‚é¦–å…ˆåˆ›å»ºä¸€ä¸ªç©ºæ–‡ä»¶å¤¹ã€‚å¹¶åˆ›å»ºä»¥ä¸‹â½‚æ–‡ä»¶ï¼š server.js package.json Dockerfile .dockerignore 123456mkdir docker_democd docker_demotouch server.jstouch package.jsontouch Dockerfiletouch .dockerignore ç„¶åŽåœ¨server.jså†™â¼Šå…¥ 123456const Koa = require('koa');const app = new Koa();app.use(async ctx =&gt; &#123; ctx.body = 'Hello docker';&#125;);app.listen(3000); åœ¨package.jsonä¸­å†™å…¥ 1234567891011&#123; "name": "docker_demo", "version": "0.1.0", "private": true, "scripts": &#123; "start": "node server.js" &#125;, "dependencies": &#123; "koa": "^2.5.0" &#125;&#125; æµ‹è¯•ç¨‹åºã€‚æŽ§åˆ¶å°è¾“â¼Š1npm start æµè§ˆå™¨æ‰“å¼€æœ¬åœ°æµ‹è¯•,å¦‚æžœå¦‚å›¾æ‰€ç¤ºã€‚è¡¨ç¤ºdemoåˆ›å»ºæˆåŠŸã€‚è¯·ç»§ç»­å¾€ä¸‹ã€‚ åˆ›å»ºdockerfileæ–‡ä»¶Dockerfileæ˜¯ç”±ä¸€ç³»åˆ—å‘½ä»¤å’Œå‚æ•°æž„æˆçš„è„šæœ¬ï¼Œä¸€ä¸ªDockerfileâ¾¥é‡Œï§©â¾¯é¢åŒ…å«äº†æž„å»ºæ•´ä¸ªimageçš„å®Œæ•´å‘½ä»¤ã€‚Dockeré€šè¿‡docker buildæ‰§è¡ŒDockerfileä¸­çš„ä¸€ç³»åˆ—ï¦œå‘½ä»¤è‡ªåŠ¨æž„å»ºimage. åœ¨.dockerignoreæ–‡ä»¶é‡Œé¢å†™å…¥ä»£ç ã€‚è¡¨ç¤ºè¿‡æ»¤è¯¥ç±»åž‹çš„æ–‡ä»¶ã€‚ç±»ä¼¼gitçš„.gitignore 1234567891011121314151617181920212223242526272829303132# Logslogs*.lognpm-debug.log*# Runtime datapids*.pid*.seed# Directory for instrumented libs generated by jscoverage/JSCoverlib-cov# Coverage directory used by tools like istanbulcoverage# nyc test coverage.nyc_output# Grunt intermediate storage (http://gruntjs.com/creating-plugins#storing-task-files).grunt# node-waf configuration.lock-wscript# Compiled binary addons (http://nodejs.org/api/addons.html)build/Release# Dependency directoriesnode_modulesjspm_packages# Optional npm cache directory.npm# Optional REPL history.node_repl_history.idea.node_modulesnode_modules.vscode åœ¨Dockerfileæ–‡ä»¶ä¸­å†™å…¥ä»¥ä¸‹ä»£ç ï¼š1234567891011121314#åˆ¶å®šnodeé•œåƒçš„ç‰ˆæœ¬FROM node:8.9-alpine#å£°æ˜Žä½œè€…MAINTAINER evilboy#ç§»åŠ¨å½“å‰â½¬ç›®å½•ä¸‹â¾¯é¢çš„â½‚æ–‡ä»¶åˆ°appâ½¬ç›®å½•ä¸‹ADD . /app/#è¿›â¼Šå…¥åˆ°appâ½¬ç›®å½•ä¸‹â¾¯é¢ï¼Œç±»ä¼¼cdWORKDIR /app#å®‰è£…ä¾èµ–RUN npm install#å¯¹å¤–æš´ï¨†éœ²ï¤¸çš„ç«¯â¼å£EXPOSE 3000#ç¨‹åºå¯åŠ¨è„šæœ¬CMD ["npm", "start"] æž„å»ºé•œåƒ ä½¿ç”¨buildå‘½ä»¤æž„é€ é•œåƒ,æ³¨æ„åŽâ¾¯é¢é‚£ä¸ªâ€œ.â€ä¸ï¥§èƒ½å°‘ã€‚ 1234567891011121314151617181920212223242526272829[root@Sandbox-N ~]# docker build -t docker_demo .Sending build context to Docker daemon 39.94kBStep 1/7 : FROM node:8.9-alpine---&gt; 406f227b21f5Step 2/7 : MAINTAINER robin---&gt; Using cache---&gt; 78d6cdbcfee2Step 3/7 : ADD . /app/---&gt; 2cb30678612dStep 4/7 : WORKDIR /appRemoving intermediate container e51377081039---&gt; c2b7d0f37d2dStep 5/7 : RUN npm install---&gt; Running in da0c3946ca8dnpm notice created a lockfile as package-lock.json. You should committhis file.added 38 packages in 3.323sRemoving intermediate container da0c3946ca8d---&gt; eecee87f10e2Step 6/7 : EXPOSE 3000---&gt; Running in f3973cc168a4Removing intermediate container f3973cc168a4---&gt; 2671a4c6deb4Step 7/7 : CMD ["npm", "start"]---&gt; Running in dec529f754aaRemoving intermediate container dec529f754aa---&gt; 6ec73793d353Successfully built 6ec73793d353Successfully tagged docker_demo:latest ç­‰å¾…é•œåƒæž„é€ å®Œæˆã€‚ç„¶åŽä½¿ç”¨ imageså‘½ä»¤æŸ¥çœ‹é•œåƒã€‚ æ­¤æ—¶å¯ä»¥çœ‹åˆ°imageså·²ç»æž„é€ å®Œæˆã€‚çŽ°åœ¨å¼€å§‹å¯åŠ¨imagesï¼Œå¹¶æµ‹è¯•ã€‚ 12345#å¯åŠ¨é•œåƒ -dè¡¨ç¤ºåŽå°æ‰§â¾è¡Œï¨ˆï¼Œ-p 9000:3000è¡¨ç¤ºæŒ‡å®šæœ¬åœ°çš„9000ç«¯â¼å£éšå°„åˆ°å®¹å™¨ï¨¸å†…çš„3000ç«¯â¼å£ï¼Œdocker_demoä¸ºé•œåƒåç§°docker run -d -p 9000:3000 docker_demo#æŸ¥çœ‹å®¹å™¨ï¨¸docker ps æ­¤æ—¶æµè§ˆå™¨æ‰“å¼€http://localhost:9000/,å¦‚æžœå¦‚å›¾æ‰€ç¤ºã€‚è¡¨ç¤ºå®¹å™¨è¿è¡Œæ­£å¸¸ã€‚ å¦‚æžœæ­¤æ—¶æœ¬åœ°æ— æ³•æ‰“å¼€ã€‚å¯ä»¥ä½¿ç”¨logå‘½ä»¤æŸ¥çœ‹æ—¥å¿—ã€‚æ ¹æ®æ—¥å¿—ä¿®æ”¹å¯¹åº”å‡ºçŽ°çš„å¯¹æ–¹ã€‚]]></content>
      <categories>
        <category>å®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å®¹å™¨æŠ€æœ¯</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•ç†è§£ç ´è§£ä¸Žè„±å£³]]></title>
    <url>%2F2019%2F03%2F28%2F%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E7%A0%B4%E8%A7%A3%E4%B8%8E%E8%84%B1%E5%A3%B3%2F</url>
    <content type="text"><![CDATA[ä»€ä¹ˆæ˜¯å£³æƒ³è¦ç ´è§£åˆ«äººçš„ç¨‹åºï¼Œ å¿…ç„¶è¦å¯¹åˆ«äººä»£ç è¿›è¡Œåˆ†æžï¼Œ åˆ†æžæ‰‹æ®µæ— éžä¸¤ç§: é™æ€åˆ†æž åŠ¨æ€åˆ†æž åˆ©ç”¨åŠ¨æ€åˆ†æžå°±å¯ä»¥ç»•è¿‡ç±»ä¼¼æ³¨å†Œç çš„æ­¥éª¤ å¦‚ä½•é¿å…åˆ«äººé€šè¿‡åˆ†æžç»•è¿‡æ³¨å†Œç ç­‰æ­¥éª¤å‘¢ï¼Œ å°±éœ€è¦å¯¹ç¨‹åºåŠ ä¸€å±‚å£³ï¼Œ å½“ä½ ç¨‹åºåœ¨è½½å…¥åˆ°å†…å­˜çš„æ—¶å€™ï¼Œ è¦å…ˆåŽ»æ£€æŸ¥ä¸€ä¸‹çŽ¯å¢ƒï¼Œçœ‹çœ‹è‡ªèº«æ˜¯å¦è·‘åœ¨è°ƒè¯•å™¨çš„çŽ¯å¢ƒé‡Œï¼Œ å¦‚æžœåœ¨è°ƒè¯•å™¨çš„çŽ¯å¢ƒï¼Œå°±è¦æŠŠè°ƒè¯•å™¨çš„çŽ¯å¢ƒç ´åæŽ‰ï¼Œä¸è®©ä½ è¿›è¡ŒåŠ¨æ€åˆ†æžï¼Œ è¿™å°±æ˜¯åŠ å£³çš„ä¸€ç§æ‰‹æ®µ æˆ–è€…è¿˜æœ‰å…¶ä»–çš„æ‰‹æ®µï¼Œ ä¾‹å¦‚ï¼ŒæŠŠçœŸæ­£çš„ç¨‹åºåŽ‹ç¼©åˆ°å…¶ä»–åœ°æ–¹ï¼Œ å½“å¯åŠ¨exeç¨‹åºæ—¶å†å°†çœŸæ­£çš„ç¨‹åºè§£åŽ‹ç¼©ï¼Œ ç”¨æ¥é˜²æ­¢åŠ¨æ€åˆ†æž è„±å£³å°±æ˜¯æ‰’æŽ‰è¿™å±‚é˜²æŠ¤ é™æ€åˆ†æžé™æ€åˆ†æžå°±æ˜¯ç›´æŽ¥åŽ»çœ‹åˆ«äººçš„æºä»£ç ï¼Œ å½“ç„¶åˆ«äººå†™çš„Cçš„æºä»£ç ä½ æ˜¯çœ‹ä¸åˆ°çš„ï¼Œ å¿…é¡»è¿›è¡Œåç¼–è¯‘ï¼Œ ä½†æ˜¯åç¼–è¯‘ä¹Ÿä¸æ˜¯é‚£ä¹ˆçš„å®Œç¾Žï¼Œ æ— æ³•æ¢å¤å›žåŽŸæ¥çš„æ ·å­ï¼Œ ä¼šéžå¸¸éš¾ä»¥ç†è§£ã€‚ åŠ¨æ€åˆ†æžç±»ä¼¼äºŽdebugger, å€ŸåŠ©è°ƒè¯•å™¨ï¼Œ å¯ä»¥çœ‹åˆ°ä»£ç çš„å½“å‰æ‰§è¡ŒçŠ¶å†µï¼Œ è·³è½¬åœ°å€ã€å†…å­˜å½“ä¸­çš„çŠ¶æ€]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºåŸºç¡€</tag>
        <tag>ç ´è§£</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[JavaScriptäº‹ä»¶æœºåˆ¶]]></title>
    <url>%2F2019%2F03%2F26%2FJavaScript%E4%BA%8B%E4%BB%B6%E6%9C%BA%E5%88%B6%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆæˆ‘ä»¬éƒ½çŸ¥é“JavaScriptæ˜¯å•çº¿ç¨‹çš„ï¼Œ å½“ç„¶çŽ°åœ¨æµè§ˆå™¨ä¸­ HTML5 ä¸ºæˆ‘ä»¬æä¾›äº†Web-Worker, ä½†JavaScriptæœ¬è´¨ä¸Šè¿˜æ˜¯ä¸€é—¨å•çº¿ç¨‹çš„è¯­è¨€ï¼Œ è¿™ä¹Ÿæ˜¯ä¸ºäº†ä¿æŒJavaScript çš„ç®€å•æ˜“å­¦ï¼Œå¹¶ä¸”è¿™ä¹Ÿå’ŒDOMæœ‰å…³ï¼Œå› ä¸ºå¦‚æžœ JavaScript æ˜¯å¤šçº¿ç¨‹çš„ï¼Œ ä¸€ä¸ªåŽ¿åŸŽå¢žåŠ äº† DOMï¼Œä¸€ä¸ªåˆ é™¤äº†DOMï¼Œ é‚£è¯¥å¬å“ªä¸ªçº¿ç¨‹çš„ æ‰€ä»¥JavaScript æ”¾å¼ƒäº†å¤šçº¿ç¨‹ äº‹ä»¶æœºåˆ¶å•çº¿ç¨‹å½“é‡åˆ°æ¯”è¾ƒè´¹äº‹çš„æ“ä½œå¸¦æ¥çš„åŽæžœå°±æ˜¯æµè§ˆå™¨å¡æ­»ï¼Œ é‚£æ€Žä¹ˆåŠžï¼Ÿä¸ºäº†åº”å¯¹è¿™äº›é—®é¢˜ï¼Œ JavaScriptå°†äº‹ä»¶åˆ†ä¸ºäº† åŒæ­¥ä»»åŠ¡ å¼‚æ­¥ä»»åŠ¡ æ‰€æœ‰çš„äº‹ä»¶ä»»åŠ¡éƒ½è¢«åŠ å…¥åˆ°æ ˆå†…, æ ˆçš„ç‰¹ç‚¹æ˜¯å…ˆå…¥åŽå‡ºï¼Œ å¦‚ä¸‹å›¾ çœ‹å›¾ä¸­ï¼Œ æœ€å¼€å§‹è°ƒç”¨çš„å‡½æ•°è¢«åŽ‹åœ¨äº†æœ€ä¸‹é¢ï¼Œ ç›´åˆ°æœ€åŽæ‰å‡ºæ ˆ å½“æˆ‘ä»¬é€’å½’ä¹¦å†™ä¸è§„èŒƒæ—¶ï¼Œ å°±ä¼šæ’‘çˆ†å‡½æ•°çš„æ‰§è¡Œæ ˆï¼Œ ä¹Ÿå°±æ˜¯çˆ†æ ˆ å¾®ä»»åŠ¡ä¸Žå®ä»»åŠ¡çš„åŒºåˆ«æˆ‘ä»¬å¯ä»¥æŠŠäº‹ä»¶å¤„ç†æœºåˆ¶æƒ³è±¡æˆé“¶è¡ŒæŸœå°çš„æŸœå‘˜ï¼Œ æŸœå‘˜æ¯æ¬¡åªèƒ½å¤„ç†æŽ¥å¾…ä¸€ä¸ªå®¢æˆ·ï¼Œ å°±å’ŒJSä¸€æ ·æ˜¯å•çº¿ç¨‹çš„ï¼Œ æ¯ä¸€æ¬¡çš„äº‹ä»¶å¾ªçŽ¯å°±æ˜¯ä¸€ä¸ªæ¥åŠžç†ä¸šåŠ¡çš„å®¢æˆ·ï¼Œ è¿™ä¸ªå®¢æˆ·å°±æ˜¯å®ä»»åŠ¡ï¼Œ å½“å‰çš„å®¢æˆ·ç»“æŸä¹‹åŽï¼Œ æŸœå‘˜å«å·ï¼Œç»§ç»­æŽ¥å¾…ä¸‹ä¸€ä¸ªå®¢æˆ·ï¼Œ ä¹Ÿå°±æ˜¯å¼€å§‹ä¸‹ä¸€ä¸ªå®ä»»åŠ¡ èƒ½è¿›å…¥ä»»åŠ¡é˜Ÿåˆ—çš„éƒ½æ˜¯å·²å®Œæˆçš„å¼‚æ­¥æ“ä½œï¼Œ å½“ä½ æ³¨å†Œäº†å¼‚æ­¥äº‹ä»¶ï¼Œä½†è¿˜æœªå®Œæˆï¼Œ å°±å¥½æ¯”ä½ å–äº†æŽ’é˜Ÿçš„ç¥¨å­ï¼Œ ä½†æ˜¯äººç¦»å¼€äº†ï¼Œæœ‰å¯èƒ½å…ˆåŽ»åƒé¥­ï¼Œæœ‰å¯èƒ½å…ˆåŽ»é€›è¡—ï¼Œ äºŽæ˜¯å½“è½®åˆ°ä½ çš„å·ç æ—¶ï¼Œ é“¶è¡ŒæŸœå‘˜ä¼šå…ˆè·³è¿‡ä½ ï¼Œ å½“ä½ å›žæ¥æ—¶ï¼Œ ä½ ä¾æ—§éœ€è¦é‡æ–°æŽ’é˜Ÿ åœ¨å®ä»»åŠ¡æœŸé—´ï¼Œ å¯ä»¥è¿½åŠ å¾®ä»»åŠ¡çš„ï¼Œ æˆ–è€…è¯´å¾®ä»»åŠ¡æ˜¯å¯ä»¥æ’é˜Ÿçš„ï¼Œ å°±åƒåœ¨æŸœå°åŠžç†ä¸šåŠ¡ä¸­ï¼Œ ä¸€ä½å¤§çˆ·åœ¨åŠžå®Œè‡ªå·±çš„æœ¬æ¥çš„ä¸šåŠ¡åŽï¼Œ æŸœå‘˜é€šå¸¸éƒ½ä¼šé—®è¿˜æœ‰ä»€ä¹ˆéœ€è¦åŠžç†çš„ä¸šåŠ¡ï¼Œ è¿™æ—¶è€å¤§çˆ·æƒ³äº†ä¸€ä¸‹ï¼šâ€œæœ€è¿‘P2Pçˆ†é›·æœ‰ç‚¹å„¿å¤šï¼Œæ˜¯ä¸æ˜¯è¦é€‰æ‹©ç¨³ä¸€äº›çš„ç†è´¢å‘¢â€ï¼Œç„¶åŽå‘Šè¯‰æŸœå‘˜è¯´ï¼Œè¦åŠžä¸€äº›ç†è´¢çš„ä¸šåŠ¡ï¼Œè¿™æ—¶å€™æŸœå‘˜è‚¯å®šä¸èƒ½å‘Šè¯‰è€å¤§çˆ·è¯´ï¼šâ€œæ‚¨å†ä¸ŠåŽè¾¹å–ä¸ªå·åŽ»ï¼Œé‡æ–°æŽ’é˜Ÿâ€ã€‚ æ‰€ä»¥æœ¬æ¥å¿«è½®åˆ°ä½ æ¥åŠžç†ä¸šåŠ¡ï¼Œä¼šå› ä¸ºè€å¤§çˆ·ä¸´æ—¶æ·»åŠ çš„â€œç†è´¢ä¸šåŠ¡â€è€Œå¾€åŽæŽ¨ã€‚ä¹Ÿè®¸è€å¤§çˆ·åœ¨åŠžå®Œç†è´¢ä»¥åŽè¿˜æƒ³ å†åŠžä¸€ä¸ªä¿¡ç”¨å¡ï¼Ÿæˆ–è€… å†ä¹°ç‚¹å„¿çºªå¿µå¸ï¼Ÿæ— è®ºæ˜¯ä»€ä¹ˆéœ€æ±‚ï¼Œåªè¦æ˜¯æŸœå‘˜èƒ½å¤Ÿå¸®å¥¹åŠžç†çš„ï¼Œéƒ½ä¼šåœ¨å¤„ç†ä½ çš„ä¸šåŠ¡ä¹‹å‰æ¥åšè¿™äº›äº‹æƒ…ï¼Œè¿™äº›éƒ½å¯ä»¥è®¤ä¸ºæ˜¯å¾®ä»»åŠ¡ã€‚ æ‰€ä»¥åœ¨å½“å‰çš„å¾®ä»»åŠ¡æ²¡æœ‰æ‰§è¡Œå®Œæˆæ—¶ï¼Œæ˜¯ä¸ä¼šæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡çš„ ä¼˜å…ˆçº§ä¸ç®¡æ˜¯å¾®ä»»åŠ¡è¿˜æ˜¯å®ä»»åŠ¡ï¼Œ éƒ½æ˜¯å¼‚æ­¥ä»»åŠ¡ï¼Œ å½“ä»–ä»¬çš„äº‹ä»¶å¤„ç†å®ŒæˆåŽï¼Œ æœ€ç»ˆéƒ½æ˜¯è¦å½’å›žåˆ°åŒæ­¥äº‹ä»¶é˜Ÿåˆ—å¤„ç†çš„ï¼Œ ä¹Ÿå°±æ˜¯ä¸»è¿›ç¨‹ï¼Œ æ—¢ç„¶æ˜¯ä¸»è¿›ç¨‹ï¼Œä¸»è¿›ç¨‹åˆè¦è´Ÿè´£æµè§ˆå™¨çš„æ¸²æŸ“ï¼Œ é‚£è¿™ä¸‰è€…ä¹‹é—´çš„ä¼˜å…ˆçº§æ˜¯ä»€ä¹ˆå‘¢ å› ä¸ºå¾®ä»»åŠ¡å®žé™…ä¸Šæ˜¯å®ä»»åŠ¡çš„å…¶ä¸­ä¸€ä¸ªæ­¥éª¤ï¼Œ ä¹Ÿå°±æ˜¯ä¸‹ä¸€æ¬¡çš„å®ä»»åŠ¡åˆ°æ¥ä¹‹å‰å¿…ç„¶å¾—å…ˆæ‰§è¡Œå®Œå½“å‰çš„å®ä»»åŠ¡çš„å¾®ä»»åŠ¡, æ‰€ä»¥å¯ä»¥è¿™ä¹ˆçœ‹: æµè§ˆå™¨æ¸²æŸ“ &gt; å¾®ä»»åŠ¡ &gt; å®ä»»åŠ¡ å¾®ä»»åŠ¡ä¼šæ’é˜Ÿï¼Œ æ’å…¥æ¯ä¸€æ¬¡çš„æ‰§è¡Œæ ˆæœ«å°¾ï¼Œ å®ä»»åŠ¡æ¯”è¾ƒå¯æ€œï¼Œ åªè¦å­˜åœ¨å¾®ä»»åŠ¡ï¼Œå°±ä¼šè¢«æ’é˜Ÿï¼Œé¡ºåºå°±ä¼šå¾€åŽ çœ‹ä¸‹å›¾ï¼Œ æˆ‘ä»¬å¯ä»¥ç†è§£å¾®ä»»åŠ¡å’Œå¾®ä»»åŠ¡åˆ†åˆ«ç»´æŠ¤ç€ä¸€ä¸ªé˜Ÿåˆ—ï¼Œ å¾®ä»»åŠ¡çš„ç®­å¤´æŒ‡å‘é å‰ï¼Œ è¡¨ç¤ºå¾®ä»»åŠ¡ä¼šä¼˜å…ˆäºŽå®ä»»åŠ¡åŠ å…¥äº‹ä»¶é˜Ÿåˆ—ï¼Œ å®ä»»åŠ¡ä¼šå»¶è¿ŸåŠ å…¥ ç†è®ºä¸ŠUIæ¸²æŸ“çš„ä¼˜å…ˆçº§æ˜¯æ¯”è¾ƒé«˜çš„ï¼Œ ä½†å®žé™…ä¸Šå¦‚æžœä½ çš„å¾®ä»»åŠ¡æˆ–å®ä»»åŠ¡ä¹‹å†…ï¼Œ å‡ºçŽ°äº†æ­»å¾ªçŽ¯æˆ–å¤§é‡è®¡ç®—çš„æƒ…å†µï¼Œ UIæ¸²æŸ“å°±ä¼šè¢«é˜»å¡žä½ï¼Œ æ— æ³•è¿›è¡Œï¼Œä¹Ÿå°±æ˜¯é¡µé¢å¡æ­»çŠ¶æ€ï¼Œ æ¯•ç«Ÿjså•çº¿ç¨‹ EventLoopæ¯åŠžç†å®Œä¸€ä¸ªä¸šåŠ¡ï¼ŒæŸœå‘˜å°±ä¼šé—®å½“å‰çš„å®¢æˆ·ï¼Œæ˜¯å¦è¿˜æœ‰å…¶ä»–éœ€è¦åŠžç†çš„ä¸šåŠ¡ã€‚ï¼ˆæ£€æŸ¥è¿˜æœ‰æ²¡æœ‰å¾®ä»»åŠ¡éœ€è¦å¤„ç†ï¼‰è€Œå®¢æˆ·æ˜Žç¡®å‘ŠçŸ¥è¯´æ²¡æœ‰äº‹æƒ…ä»¥åŽï¼ŒæŸœå‘˜å°±åŽ»æŸ¥çœ‹åŽè¾¹è¿˜æœ‰æ²¡æœ‰ç­‰ç€åŠžç†ä¸šåŠ¡çš„äººã€‚ï¼ˆç»“æŸæœ¬æ¬¡å®ä»»åŠ¡ã€æ£€æŸ¥è¿˜æœ‰æ²¡æœ‰å®ä»»åŠ¡éœ€è¦å¤„ç†ï¼‰è¿™ä¸ªæ£€æŸ¥çš„è¿‡ç¨‹æ˜¯æŒç»­è¿›è¡Œçš„ï¼Œæ¯å®Œæˆä¸€ä¸ªä»»åŠ¡éƒ½ä¼šè¿›è¡Œä¸€æ¬¡ï¼Œè€Œè¿™æ ·çš„æ“ä½œå°±è¢«ç§°ä¸ºEvent Loopã€‚(è¿™æ˜¯ä¸ªéžå¸¸ç®€æ˜“çš„æè¿°äº†ï¼Œå®žé™…ä¸Šä¼šå¤æ‚å¾ˆå¤š) è€Œä¸”å°±å¦‚åŒä¸Šè¾¹æ‰€è¯´çš„ï¼Œä¸€ä¸ªæŸœå‘˜åŒä¸€æ—¶é—´åªèƒ½å¤„ç†ä¸€ä»¶äº‹æƒ…ï¼Œå³ä¾¿è¿™äº›äº‹æƒ…æ˜¯ä¸€ä¸ªå®¢æˆ·æ‰€æå‡ºçš„ï¼Œæ‰€ä»¥å¯ä»¥è®¤ä¸ºå¾®ä»»åŠ¡ä¹Ÿå­˜åœ¨ä¸€ä¸ªé˜Ÿåˆ—ï¼Œå¤§è‡´æ˜¯è¿™æ ·çš„ä¸€ä¸ªé€»è¾‘ï¼š å®ä»»åŠ¡ä¾‹å­ API æµè§ˆå™¨ Node I/O âœ… âœ… setTimeout âœ… âœ… setInterval âœ… âœ… setImmediate âŒ âœ… requestAnimationFrame âœ… âŒ I/Oè¿™ä¸€é¡¹æ„Ÿè§‰æœ‰ç‚¹å„¿ç¬¼ç»Ÿï¼Œæœ‰å¤ªå¤šçš„ä¸œè¥¿éƒ½å¯ä»¥ç§°ä¹‹ä¸ºI/Oï¼Œç‚¹å‡»ä¸€æ¬¡buttonï¼Œä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸Žç¨‹åºäº§ç”Ÿäº¤äº’çš„è¿™äº›éƒ½å¯ä»¥ç§°ä¹‹ä¸ºI/Oã€‚ æœ‰äº›åœ°æ–¹ä¼šåˆ—å‡ºæ¥UI Renderingï¼Œè¯´è¿™ä¸ªä¹Ÿæ˜¯å®ä»»åŠ¡ï¼Œå¯æ˜¯åœ¨è¯»äº†HTMLè§„èŒƒæ–‡æ¡£ä»¥åŽï¼Œå‘çŽ°è¿™å¾ˆæ˜¾ç„¶æ˜¯å’Œå¾®ä»»åŠ¡å¹³è¡Œçš„ä¸€ä¸ªæ“ä½œæ­¥éª¤ requestAnimationFrameå§‘ä¸”ä¹Ÿç®—æ˜¯å®ä»»åŠ¡å§ï¼ŒrequestAnimationFrameåœ¨MDNçš„å®šä¹‰ä¸ºï¼Œä¸‹æ¬¡é¡µé¢é‡ç»˜å‰æ‰€æ‰§è¡Œçš„æ“ä½œï¼Œè€Œé‡ç»˜ä¹Ÿæ˜¯ä½œä¸ºå®ä»»åŠ¡çš„ä¸€ä¸ªæ­¥éª¤æ¥å­˜åœ¨çš„ï¼Œä¸”è¯¥æ­¥éª¤æ™šäºŽå¾®ä»»åŠ¡çš„æ‰§è¡Œ å¾®ä»»åŠ¡ä¾‹å­ API æµè§ˆå™¨ Node process.nextTick âŒ âœ… MutationObserver âœ… âŒ Promise.then catch finally âœ… âœ… MessageChannel æ¶ˆæ¯é˜Ÿåˆ— æµè§ˆå™¨ä¸­çš„æƒ…å†µåœ¨ä¸Šè¾¹ç®€å•çš„è¯´æ˜Žäº†ä¸¤ç§ä»»åŠ¡çš„å·®åˆ«ï¼Œä»¥åŠEvent Loopçš„ä½œç”¨ï¼Œé‚£ä¹ˆåœ¨çœŸå®žçš„æµè§ˆå™¨ä¸­æ˜¯ä»€ä¹ˆè¡¨çŽ°å‘¢ï¼Ÿé¦–å…ˆè¦æ˜Žç¡®çš„ä¸€ç‚¹æ˜¯ï¼Œå®ä»»åŠ¡å¿…ç„¶æ˜¯åœ¨å¾®ä»»åŠ¡ä¹‹åŽæ‰æ‰§è¡Œçš„ï¼ˆå› ä¸ºå¾®ä»»åŠ¡å®žé™…ä¸Šæ˜¯å®ä»»åŠ¡çš„å…¶ä¸­ä¸€ä¸ªæ­¥éª¤ï¼‰ I/Oè¿™ä¸€é¡¹æ„Ÿè§‰æœ‰ç‚¹å„¿ç¬¼ç»Ÿï¼Œæœ‰å¤ªå¤šçš„ä¸œè¥¿éƒ½å¯ä»¥ç§°ä¹‹ä¸ºI/Oï¼Œç‚¹å‡»ä¸€æ¬¡buttonï¼Œä¸Šä¼ ä¸€ä¸ªæ–‡ä»¶ï¼Œä¸Žç¨‹åºäº§ç”Ÿäº¤äº’çš„è¿™äº›éƒ½å¯ä»¥ç§°ä¹‹ä¸ºI/Oã€‚ å‡è®¾æœ‰è¿™æ ·çš„ä¸€äº›DOMç»“æž„ï¼š123456789101112131415&lt;style&gt; #outer &#123; padding: 20px; background: #616161; &#125; #inner &#123; width: 100px; height: 100px; background: #757575; &#125;&lt;/style&gt;&lt;div id="outer"&gt; &lt;div id="inner"&gt;&lt;/div&gt;&lt;/div&gt; 1234567891011121314151617181920212223const $inner = document.querySelector('#inner')const $outer = document.querySelector('#outer')function handler () &#123; console.log('click') // ç›´æŽ¥è¾“å‡º Promise.resolve().then(_ =&gt; console.log('promise')) // æ³¨å†Œå¾®ä»»åŠ¡ setTimeout(_ =&gt; console.log('timeout')) // æ³¨å†Œå®ä»»åŠ¡ requestAnimationFrame(_ =&gt; console.log('animationFrame')) // æ³¨å†Œå®ä»»åŠ¡ $outer.setAttribute('data-random', Math.random()) // DOMå±žæ€§ä¿®æ”¹ï¼Œè§¦å‘å¾®ä»»åŠ¡&#125;new MutationObserver(_ =&gt; &#123; console.log('observer')&#125;).observe($outer, &#123; attributes: true&#125;)$inner.addEventListener('click', handler)$outer.addEventListener('click', handler) å¦‚æžœç‚¹å‡»#innerï¼Œå…¶æ‰§è¡Œé¡ºåºä¸€å®šæ˜¯ï¼šclick -&gt; promise -&gt; observer -&gt; click -&gt; promise -&gt; observer -&gt; animationFrame -&gt; animationFrame -&gt; timeout -&gt; timeoutã€‚ å› ä¸ºä¸€æ¬¡I/Oåˆ›å»ºäº†ä¸€ä¸ªå®ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯è¯´åœ¨è¿™æ¬¡ä»»åŠ¡ä¸­ä¼šåŽ»è§¦å‘handlerã€‚æŒ‰ç…§ä»£ç ä¸­çš„æ³¨é‡Šï¼Œåœ¨åŒæ­¥çš„ä»£ç å·²ç»æ‰§è¡Œå®Œä»¥åŽï¼Œè¿™æ—¶å°±ä¼šåŽ»æŸ¥çœ‹æ˜¯å¦æœ‰å¾®ä»»åŠ¡å¯ä»¥æ‰§è¡Œï¼Œç„¶åŽå‘çŽ°äº†Promiseå’ŒMutationObserverä¸¤ä¸ªå¾®ä»»åŠ¡ï¼Œé‚æ‰§è¡Œä¹‹ã€‚å› ä¸ºclickäº‹ä»¶ä¼šå†’æ³¡ï¼Œæ‰€ä»¥å¯¹åº”çš„è¿™æ¬¡I/Oä¼šè§¦å‘ä¸¤æ¬¡handlerå‡½æ•°(ä¸€æ¬¡åœ¨innerã€ä¸€æ¬¡åœ¨outer)ï¼Œæ‰€ä»¥ä¼šä¼˜å…ˆæ‰§è¡Œå†’æ³¡çš„äº‹ä»¶(æ—©äºŽå…¶ä»–çš„å®ä»»åŠ¡)ï¼Œä¹Ÿå°±æ˜¯è¯´ä¼šé‡å¤ä¸Šè¿°çš„é€»è¾‘ã€‚åœ¨æ‰§è¡Œå®ŒåŒæ­¥ä»£ç ä¸Žå¾®ä»»åŠ¡ä»¥åŽï¼Œè¿™æ—¶ç»§ç»­å‘åŽæŸ¥æ‰¾æœ‰æœ¨æœ‰å®ä»»åŠ¡ã€‚éœ€è¦æ³¨æ„çš„ä¸€ç‚¹æ˜¯ï¼Œå› ä¸ºæˆ‘ä»¬è§¦å‘äº†setAttributeï¼Œå®žé™…ä¸Šä¿®æ”¹äº†DOMçš„å±žæ€§ï¼Œè¿™ä¼šå¯¼è‡´é¡µé¢çš„é‡ç»˜ï¼Œè€Œè¿™ä¸ªsetçš„æ“ä½œæ˜¯åŒæ­¥æ‰§è¡Œçš„ï¼Œä¹Ÿå°±æ˜¯è¯´requestAnimationFrameçš„å›žè°ƒä¼šæ—©äºŽsetTimeoutæ‰€æ‰§è¡Œã€‚ Node Jsä¸­çš„æƒ…å†µNodeä¹Ÿæ˜¯å•çº¿ç¨‹ï¼Œä½†æ˜¯åœ¨å¤„ç†Event Loopä¸Šä¸Žæµè§ˆå™¨ç¨å¾®æœ‰äº›ä¸åŒï¼Œè¿™é‡Œæ˜¯Nodeå®˜æ–¹æ–‡æ¡£çš„åœ°å€ã€‚ å°±å•ä»ŽAPIå±‚é¢ä¸Šæ¥ç†è§£ï¼ŒNodeæ–°å¢žäº†ä¸¤ä¸ªæ–¹æ³•å¯ä»¥ç”¨æ¥ä½¿ç”¨ï¼šå¾®ä»»åŠ¡çš„process.nextTickä»¥åŠå®ä»»åŠ¡çš„setImmediateã€‚ å‡ ä¸ªç‰¹æ®Šçš„API SetTimeoutå’ŒSetInterval çº¿ç¨‹æ± ä¸å‚ä¸Ž process.nextTick() å®žçŽ°ç±»ä¼¼SetTimeout(function(){},0);æ¯æ¬¡è°ƒç”¨æ”¾å…¥é˜Ÿåˆ—ä¸­ï¼Œåœ¨ä¸‹ä¸€è½®å¾ªçŽ¯ä¸­å–å‡ºã€‚ setImmediate();æ¯”process.nextTick()ä¼˜å…ˆçº§ä½Ž æ¥çœ‹çœ‹è¿™æ®µä»£ç  1234567891011121314151617181920setTimeout(() =&gt; &#123; console.log(1)&#125;, 0)setImmediate(() =&gt; &#123; console.log(2)&#125;)process.nextTick(() =&gt; &#123; console.log(3)&#125;)new Promise((resolve, reject) =&gt; &#123; console.log(4) resolve(4)&#125;).then(() =&gt; &#123; console.log(5)&#125;)console.log(6) è¿™é“é¢˜ç›®çš„ç­”æ¡ˆæ˜¯ 463512 è¿™é‡Œæœ‰å‡ ä¸ªæ³¨æ„ç‚¹ï¼Œ ç¬¬ä¸€å°±æ˜¯ nextTick ï¼Œå®ƒçš„ä¼˜å…ˆçº§æ¯” promise.then è¦é«˜ï¼Œ å¦‚ä¸‹å›¾ï¼Œ å®ƒåŠ å…¥é˜Ÿåˆ—çš„æ–¹å¼å±žäºŽæ’é˜Ÿè¡Œä¸º, å®ƒç›´æŽ¥åŠ å…¥åˆ°äº†å½“å‰æ‰§è¡Œæ ˆï¼ˆåŒæ­¥é˜Ÿåˆ—ï¼‰ä¸Ž ä¸‹ä¸€æ¬¡çš„ç­‰å¾…æ‰§è¡Œæ ˆä¹‹é—´ æˆ‘ä»¬éƒ½çŸ¥é“ then æ¯” setTimeout ä¼˜å…ˆçº§é«˜ ç„¶åŽå°±æ˜¯ setTimeout å’Œ setImmediate çš„é—®é¢˜äº†ï¼Œ setImmediateä¸ŽsetTimeoutçš„åŒºåˆ«ï¼Œåœ¨å®˜æ–¹æ–‡æ¡£ä¸­çš„å®šä¹‰ï¼ŒsetImmediateä¸ºä¸€æ¬¡Event Loopæ‰§è¡Œå®Œæ¯•åŽè°ƒç”¨ã€‚ setTimeoutåˆ™æ˜¯é€šè¿‡è®¡ç®—ä¸€ä¸ªå»¶è¿Ÿæ—¶é—´åŽè¿›è¡Œæ‰§è¡Œã€‚ ä½†æ˜¯åœ¨å®žé™…ä½¿ç”¨ä¸­ï¼Œ å½“setTimeout è®¾ç½®ä¸º0æ—¶ï¼Œ ä»–ä»¬éƒ½æ˜¯æ”¾åœ¨é˜Ÿåˆ—æœ€åŽ, æ‰€ä»¥æ‰§è¡Œé¡ºåºå°±æ˜¯è°å…ˆå†™å°±å…ˆæ‰§è¡Œè°äº†ï¼Œ ä½†å½“setTimeout è®¾ç½®çš„æ—¶é—´å¤§äºŽ0 æ—¶ï¼ˆæœ€ä½Žå»¶è¿Ÿä¼šè¢«å¿½ç•¥ï¼‰ï¼Œ æƒ…å†µå°±ä¸ä¸€æ ·äº†ï¼Œ setTmmediate ä¼šå…ˆè¢«æ‰§è¡Œ å‚è€ƒæ–‡çŒ®(åŽŸæ–‡å†™çš„ä¸é”™ï¼Œ æ‰€ä»¥æˆ‘å¤§éƒ¨åˆ†æ˜¯å¤åˆ¶ï¼Œæ–¹ä¾¿ä¹‹åŽè‡ªå·±å›žé¡¾ç†è§£) https://segmentfault.com/a/1190000016022069]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€NodeJsã€‘å¼‚æ­¥IOä¸ŽEventLoop]]></title>
    <url>%2F2019%2F03%2F26%2F%E3%80%90NodeJs%E3%80%91%E5%BC%82%E6%AD%A5IO%E4%B8%8EEventLoop%2F</url>
    <content type="text"><![CDATA[IOå¯†é›†åž‹å°±æ˜¯éœ€è¦é¢‘ç¹è¯·æ±‚çš„ç¨‹åºï¼Œé«˜è®¿é—®é‡ï¼Œ CPUå¯†é›†åž‹å°±æ˜¯éœ€è¦è¿›è¡Œå¤§é‡è®¡ç®—çš„ å¼‚æ­¥IOçš„å¥½å¤„ å‰ç«¯é€šè¿‡å¼‚æ­¥IOå¯ä»¥æ¶ˆé™¤UIå µå¡žã€‚ å‡è®¾è¯·æ±‚èµ„æºAçš„æ—¶é—´ä¸ºM,è¯·æ±‚èµ„æºBçš„æ—¶é—´ä¸ºN.é‚£ä¹ˆåŒæ­¥çš„è¯·æ±‚è€—æ—¶ä¸ºM+N.å¦‚æžœé‡‡ç”¨å¼‚æ­¥æ–¹å¼å ç”¨æ—¶é—´ä¸ºMax(M,N)ã€‚ éšç€ä¸šåŠ¡çš„å¤æ‚ï¼Œä¼šå¼•å…¥åˆ†å¸ƒå¼ç³»ç»Ÿï¼Œæ—¶é—´ä¼šçº¿æ€§çš„å¢žåŠ ï¼ŒM+N+â€¦å’ŒMax(M,Nâ€¦)ï¼Œè¿™ä¼šæ”¾å¤§åŒæ­¥å’Œå¼‚æ­¥ä¹‹é—´çš„å·®å¼‚ã€‚ I/Oæ˜¯æ˜‚è´µçš„ï¼Œåˆ†å¸ƒå¼I/Oæ˜¯æ›´æ˜‚è´µçš„ã€‚ åˆ†å¸ƒå¼å› ä¸ºä½ è¯»å–åˆ°äº†è¿™ä¸ªå€¼ï¼Œ ä½†å¹¶æ²¡æœ‰åœ¨ä½ è¿™å°æœºå™¨ä¸Šï¼Œ è¿œç¨‹çš„æœºå™¨æƒ³è¦è¯»å–åˆ°é‚£å°±å¿…é¡»è¦èµ°ç½‘ç»œï¼Œ è¿™ä¸ªè¿‡ç¨‹å°±å˜é•¿äº† NodeJS é€‚ç”¨äºŽIOå¯†é›†åž‹ä¸é€‚ç”¨CPUå¯†é›†åž‹ Nodeå¯¹å¼‚æ­¥IOçš„å®žçŽ° å®Œç¾Žçš„å¼‚æ­¥IOåº”è¯¥æ˜¯åº”è¯¥æ˜¯åº”ç”¨ç¨‹åºå‘èµ·éžé˜»å¡žè°ƒç”¨ï¼Œæ— éœ€é€šè¿‡éåŽ†æˆ–è€…äº‹ä»¶å¹»æƒ³ç­‰æ–¹å¼è½®è¯¢ã€‚ Node.js çš„äº‹ä»¶å¾ªçŽ¯å’Œåœ¨æµè§ˆå™¨ä¸­çš„å®žçŽ°ä¸å¤ªä¸€æ ·ï¼Œ åœ¨Node.js ä¸­äº‹ä»¶å¾ªçŽ¯äº¤ç»™äº†Libuvæ‰˜ç®¡ï¼Œ Libuv å’Œ v8 æ˜¯åˆ†åˆ«ç‹¬ç«‹çš„çº¿ç¨‹ï¼Œ è¾…åŠ©Node.js è¿›è¡Œäº‹ä»¶è½®è¯¢ Node.js ä¾é v8è¿è¡Œjavascript, å¹¶ä¸”ç»‘å®šäº†åº•å±‚çš„æ“ä½œç³»ç»Ÿ å½“V8æŽ¥æ”¶åˆ°ç”¨æˆ·çš„è¯·æ±‚è¿›å…¥ï¼Œ é€šè¿‡ç»‘å®šç³»ç»ŸæŽ¥å£ï¼Œå°†äº‹ä»¶äº¤ç»™Libuvå¤„ç†ï¼Œ Libuv å°†äº‹ä»¶åŠ å…¥äº‹ä»¶é˜Ÿåˆ—( event queue)ï¼Œ EventLoop ä¸è¡Œçš„æ—‹è½¬å¹¶æ‰§è¡ŒåŒæ­¥äº‹ä»¶ï¼Œå½“é‡åˆ°å¼‚æ­¥äº‹ä»¶æ—¶ï¼Œå°†å…¶äº¤ç»™ worker Threads çº¿ç¨‹ï¼Œ æ¯”å¦‚æ“ä½œæ–‡ä»¶å°±æ˜¯äº¤ç»™å·¥ä½œçº¿ç¨‹åŽ»åŒæ­¥å®Œæˆï¼Œ å½“æ–‡ä»¶æ“ä½œå®Œæ¯•åŽï¼Œ æ ¹æ®æ–‡ä»¶æè¿°ç¬¦åŽ»èŽ·å–æ•°æ®ï¼Œ ç„¶åŽå°†ç»“æžœä½œä¸ºå‚æ•°è¿”å›žç»™äº‹ä»¶é˜Ÿåˆ—ä¸­ç­‰å€™çš„å›žè°ƒå‡½æ•° å¸¸ç”¨çš„NodeæŽ§åˆ¶å¼‚æ­¥æŠ€æœ¯æ‰‹æ®µ Promise æ˜¯ä¸€ä¸ªè¯­æ³•ï¼Œ è§„èŒƒï¼Œ jsåªæ˜¯å®žçŽ°äº†è¿™ä¸ªè§„èŒƒï¼Œ Promise æ˜¯ä¸€ä¸ªé«˜çº§æŽ¥å£ï¼Œ åˆ›å»ºä¸€æ¬¡ï¼Œä¸å®¹æ˜“ä¿®æ”¹ï¼Œ thenå°±æ˜¯ ä½Žçº§æŽ¥å£ï¼Œ å¯ä»¥ä¸€ç›´then ,å¤„ç†é€»è¾‘ Stepã€windï¼ˆæä¾›ç­‰å¾…çš„å¼‚æ­¥åº“ï¼‰ã€Bigpipeã€Q.js Asyncã€Await Promise/Defferred æ˜¯ä¸€ç§å…ˆæ‰§è¡Œå¼‚æ­¥è°ƒç”¨ï¼Œå»¶è¿Ÿä¼ é€’çš„å¤„ç†æ–¹å¼ã€‚Promiseæ˜¯é«˜çº§æŽ¥å£ï¼Œäº‹ä»¶æ˜¯ä½Žçº§æŽ¥å£ã€‚ä½Žçº§æŽ¥å£å¯ä»¥æž„å»ºæ›´å¤šå¤æ‚çš„åœºæ™¯ï¼Œé«˜çº§æŽ¥å£ä¸€æ—¦å®šä¹‰ï¼Œä¸å¤ªå®¹æ˜“å˜åŒ–ï¼Œä¸å†æœ‰ä½Žçº§æŽ¥å£çš„çµæ´»æ€§ï¼Œä½†å¯¹äºŽè§£å†³é—®é¢˜éžå¸¸æœ‰æ•ˆ ç”±äºŽNodeåŸºäºŽV8çš„åŽŸå› ï¼Œç›®å‰è¿˜ä¸æ”¯æŒåç¨‹ã€‚åç¨‹ä¸æ˜¯è¿›ç¨‹æˆ–çº¿ç¨‹ï¼Œå…¶æ‰§è¡Œè¿‡ç¨‹æ›´ç±»ä¼¼äºŽå­ä¾‹ç¨‹ï¼Œæˆ–è€…è¯´ä¸å¸¦è¿”å›žå€¼çš„å‡½æ•°è°ƒç”¨ã€‚ä¸€ä¸ªç¨‹åºå¯ä»¥åŒ…å«å¤šä¸ªåç¨‹ï¼Œå¯ä»¥å¯¹æ¯”ä¸Žä¸€ä¸ªè¿›ç¨‹åŒ…å«å¤šä¸ªçº¿ç¨‹ï¼Œå› è€Œä¸‹é¢æˆ‘ä»¬æ¥æ¯”è¾ƒåç¨‹å’Œçº¿ç¨‹ã€‚æˆ‘ä»¬çŸ¥é“å¤šä¸ªçº¿ç¨‹ç›¸å¯¹ç‹¬ç«‹ï¼Œæœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œåˆ‡æ¢å—ç³»ç»ŸæŽ§åˆ¶ï¼›è€Œåç¨‹ä¹Ÿç›¸å¯¹ç‹¬ç«‹ï¼Œæœ‰è‡ªå·±çš„ä¸Šä¸‹æ–‡ï¼Œä½†æ˜¯å…¶åˆ‡æ¢ç”±è‡ªå·±æŽ§åˆ¶ï¼Œç”±å½“å‰åç¨‹åˆ‡æ¢åˆ°å…¶ä»–åç¨‹ç”±å½“å‰åç¨‹æ¥æŽ§åˆ¶ã€‚ åº•å±‚çš„çŸ¥è¯† CPUæ—¶é’Ÿå‘¨æœŸï¼š1/cpuä¸»é¢‘ -&gt; 1s/3.1 GHz æ“ä½œç³»ç»Ÿå¯¹è®¡ç®—æœºè¿›è¡Œäº†æŠ½è±¡ï¼Œå°†æ‰€æœ‰è¾“å…¥è¾“å‡ºè®¾å¤‡æŠ½è±¡ä¸ºæ–‡ä»¶ã€‚å†…æ ¸åœ¨è¿›è¡Œæ–‡ä»¶I/Oæ“ä½œæ—¶ï¼Œé€šè¿‡æ–‡ä»¶æè¿°ç¬¦è¿›è¡Œç®¡ç†ã€‚åº”ç”¨ç¨‹åºå¦‚æžœéœ€è¦è¿›è¡ŒIOéœ€è¦æ‰“å¼€æ–‡ä»¶æè¿°ç¬¦ï¼Œåœ¨è¿›è¡Œæ–‡ä»¶å’Œæ•°æ®çš„è¯»å†™ã€‚å¼‚æ­¥IOä¸å¸¦æ•°æ®ç›´æŽ¥è¿”å›žï¼Œè¦èŽ·å–æ•°æ®è¿˜éœ€è¦é€šè¿‡æ–‡ä»¶æè¿°ç¬¦å†æ¬¡è¯»å–ã€‚]]></content>
      <categories>
        <category>NodeJs</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>NodeJs</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ç®€å•ç†è§£å¾®æœåŠ¡æž¶æž„]]></title>
    <url>%2F2019%2F03%2F26%2F%E7%AE%80%E5%8D%95%E7%90%86%E8%A7%A3%E5%BE%AE%E6%9C%8D%E5%8A%A1%E6%9E%B6%E6%9E%84%2F</url>
    <content type="text"><![CDATA[1.1 å•ä½“åº”ç”¨ä¸Žå¾®æœåŠ¡ å¾®æœåŠ¡å¯¹åº”çš„æ˜¯ä¼ ç»Ÿæž¶æž„ï¼Œ ä¼ ç»Ÿçš„è½¯ä»¶æž¶æž„æ˜¯æŠŠæ‰€æœ‰éƒ½æ‰“åœ¨ä¸€ä¸ªåŒ…é‡Œé¢ï¼Œ ä¹Ÿå°±æ˜¯å•ä½“åº”ç”¨ã€‚ å•ä½“åº”ç”¨åœ¨éƒ¨ç½²ä¸Šå’ŒåŽæœŸç®¡ç†ç»´æŠ¤ä¸Šä¼šæ„ˆæ¥æ„ˆè¶Šåºžå¤§å’Œéš¾ä»¥ç®¡ç†ï¼Œ è€Œä¸”çº¦æŸå¼€å‘æˆå‘˜ä½¿ç”¨çš„æŠ€æœ¯æ ˆï¼Œ JAVAçš„ç¨‹åºå¿…é¡»ä½¿ç”¨JAVA, ä½†æ˜¯å¯èƒ½å›¢é˜Ÿé‡Œæœ‰çš„æ“…é•¿PHPï¼Œæœ‰çš„æ“…é•¿Goã€‚ é’ˆå¯¹è¿™äº›é—®é¢˜å°±æœ‰äººæå‡ºäº†å¾®æœåŠ¡çš„æ¦‚å¿µï¼Œ å¯ä»¥è®©é€‚åˆçš„è¯­è¨€å¹²é€‚åˆçš„äº‹æƒ…ã€‚ å•ä½“åº”ç”¨æƒ³è¦å¢žåŠ æœåŠ¡å™¨åªèƒ½æŠŠæ•´ä¸ªé¡¹ç›®éƒ½ä¸¢åˆ°ä¸€å°æ–°çš„æœåŠ¡å™¨ä¸Šï¼Œä½†æ¯ä¸ªæ¨¡å—å¯¹å¹¶å‘çš„è¦æ±‚ä¸ä¸€æ ·ï¼Œ æ¯”å¦‚äº§å“æœåŠ¡æ¨¡å—æ˜¯éœ€æ±‚è¾ƒå¤šçš„ï¼ŒåŽ‹åŠ›æ¯”è¾ƒå¤§ï¼Œ ä½†æ˜¯è®¢å•æ¨¡å—éœ€æ±‚å°±æ¯”è¾ƒå°‘ï¼Œä½ ä¹Ÿæ— æ³•æ‹†å¼€ï¼Œ è€Œå¾®æœåŠ¡ä¸ä¸€æ ·ï¼Œ å¯ä»¥å•ç‹¬å¯¹äº§å“æœåŠ¡ è¿™ä¸ªéœ€æ±‚æ¯”è¾ƒå¤§çš„å¾®æœåŠ¡è¿›è¡Œå¢žåŠ æœåŠ¡å™¨ï¼Œ å¹¶ä¸”åœ¨åŠŸèƒ½å‡çº§æ—¶å¯ä»¥å®žçŽ°éƒ¨åˆ†å‡çº§ï¼Œ è®©ç”¨æˆ·æ„Ÿè§‰ä¸åˆ°ä»€ä¹ˆå¼‚æ ·ã€‚ 2.1 å¾®æœåŠ¡åˆ°åº•æ˜¯ä»€ä¹ˆ å¾®æœåŠ¡åªæ˜¯ä¸šåŠ¡å±‚é¢ä¸Šçš„æž¶æž„ï¼Œ æŠ€æœ¯å±‚é¢çš„æž¶æž„å±žäºŽä½ é€‰ç”¨æŸæ¡†æž¶ âœ…å¾®æœåŠ¡å±žäºŽæž¶æž„å±‚é¢çš„è®¾è®¡æ¨¡å¼ã€ç»“æž„å±‚é¢çš„è®¾è®¡æ¨¡å¼ã€‘ âœ…å¾®æœåŠ¡çš„è®¾è®¡æ¦‚å¿µä»¥ä¸šåŠ¡åŠŸèƒ½ä¸ºä¸» âœ…å¾®æœåŠ¡ç‹¬ç«‹æä¾›å¯¹åº”çš„ä¸šåŠ¡åŠŸèƒ½ âœ…å¾®æœåŠ¡ä¸æ‹˜æ³¥äºŽå…·ä½“çš„å®žçŽ°è¯­è¨€ âœ…å¾®æœåŠ¡æž¶æž„ â‰ˆ æ¨¡å—åŒ–å¼€å‘ + åˆ†å¸ƒå¼è®¡ç®— 2.1 æ˜“äºŽæ‰©å±•çš„åˆ†å¸ƒå¼å¾®æœåŠ¡çš„æž¶æž„ä¸ç®¡æ˜¯æ¨ªå‘æ‰©å±•è¿˜æ˜¯çºµå‘æ‰©å±•éƒ½æ¯”è¾ƒçš„å‹å¥½ 2.1.1 æ¨ªå‘æ‰©å±•é’ˆå¯¹ä¸šåŠ¡è¿›è¡Œæ‰©å±•ï¼Œ å½“éœ€è¦æ–°å¢žä¸šåŠ¡æ—¶åªéœ€è¦å¢žåŠ ä¸€ä¸ªå¾®æœåŠ¡å³å¯ 2.1.2 çºµå‘æ‰©å±•çºµå‘æ‰©å±•æ˜¯å¯¹è®¡ç®—åŽ‹åŠ›ä¸Šçš„æ‰©å±•ï¼Œ é’ˆå¯¹æŸä¸€å—å¢žåŠ æœåŠ¡å™¨ï¼Œå¢žå¼ºå…¶è®¡ç®—èƒ½åŠ›ï¼Œ ç„¶åŽä½¿ç”¨Nginxè¿›è¡Œåå‘ä»£ç† 3.1 å¾®æœåŠ¡çš„ç‰¹ç‚¹ å°, ä¸”ä¸“æ³¨äºŽåšâ¼€ä»¶äº‹æƒ… å¤„äºŽç‹¬ç«‹çš„è¿›ç¨‹ä¸­ è½»é‡çº§çš„é€šä¿¡æœºåˆ¶ æ¾è€¦åˆã€ç‹¬ç«‹éƒ¨ç½² 4.1 åˆç†ä½¿ç”¨å¾®æœåŠ¡å¾®æœåŠ¡ä¸æ˜¯çµä¸¹å¦™è¯ï¼Œå¹¶ä¸èƒ½é€‚åº”æ‰€æœ‰çš„æƒ…å†µã€‚ å¾®æœåŠ¡éœ€è¦åœ¨èŒƒå›´å†…è¢«åˆç†çš„ä½¿ç”¨ã€‚ ä¸šåŠ¡å¤æ‚åº¦é«˜ å›¢é˜Ÿè§„æ¨¡å¤§ ä¸šåŠ¡éœ€è¦é•¿æœŸæ¼”è¿› æœ€åŽâ€”â€”æ²¡æœ‰é“¶å¼¹ã€äººæœˆç¥žè¯ã€‘ 5.1 å¾®æœåŠ¡â€”â€”é›†æˆä¸Žéƒ¨ç½² æŒç»­é›†æˆâ€”â€”jekins è™šæ‹ŸåŒ–â€”â€”è™šæ‹Ÿæœº å®¹å™¨â€”â€”Docker]]></content>
      <categories>
        <category>æž¶æž„</category>
      </categories>
      <tags>
        <tag>æž¶æž„</tag>
        <tag>å¾®æœåŠ¡</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TypeScriptè¯­æ³•]]></title>
    <url>%2F2019%2F03%2F24%2FTypeScript%E8%AF%AD%E6%B3%95%2F</url>
    <content type="text"><![CDATA[åˆå§‹åŒ–é…ç½®æ–‡ä»¶ tsc â€“initä¿®æ”¹outDir å®šä¹‰æ•°ç»„ 1 1var arr:number[] = [1,2,3,4] 2 1var arr:Array&lt;number&gt; = [3,4,56,7,8,9] 3 1var arr:any[] = [1,'5515', false] å®šä¹‰å…ƒç»„ å…ƒç»„è¡¨ç¤ºä¸€ä¸ªå·²çŸ¥å…ƒç´ æ•°é‡å’Œç±»åž‹çš„æ•°ç»„ï¼Œå„å…ƒç´ çš„ç±»åž‹ä¸å¿…ç›¸åŒã€‚1 1let arr:[number, string] = [123, 'this is ts'] å®šä¹‰æžšä¸¾ ç”¨äºŽå¤„ç†éžæ•°å€¼çš„æ•°æ® 1234enum Flag &#123; success=1, error=2 &#125;;let s:Flag=Flag.successconsole.log(s) // 1 never ç±»åž‹: neverç±»åž‹è¡¨ç¤ºçš„æ˜¯é‚£äº›æ°¸ä¸å­˜åœ¨çš„å€¼çš„ç±»åž‹, å¦‚null, undefind, error 12var a:undefineda = undefined å®šä¹‰ symbolç±»åž‹ symbolç±»åž‹çš„å€¼æ˜¯é€šè¿‡Symbolæž„é€ å‡½æ•°åˆ›å»ºçš„ã€‚ 1let sym1 = Symbol(); å®¹è®¸å¤šä¸ªç±»åž‹1234var num:number | undefined;num = 123;console.log(num) æœ‰è¿”å›žå€¼ç±»åž‹ å‡½æ•°å£°æ˜Ž 123function run():string &#123; return '32132132'&#125; å‡½æ•°è¡¨è¾¾å¼ 123var fun2 = function():number &#123; return 132&#125; æ— è¿”å›žå€¼ç±»åž‹123function run():void&#123; console.log('run')&#125; å¯é€‰å‚æ•°ã€ é»˜è®¤å‚æ•° ã€å‰©ä½™å‚æ•° é»˜è®¤å¿…ä¼ , å¸¦â€˜?â€™å¯ä¼ å¯ä¸ä¼ ï¼Œ å¿…é¡»é…ç½®åˆ°å‚æ•°çš„æœ€åŽé¢ 123function getInfo(name:string, age?:number):string &#123; return `$&#123;name&#125; ---- $&#123;age&#125;`&#125; é»˜è®¤å‚æ•°å†™äº†é»˜è®¤å‚æ•°å°±ä¸å†éœ€è¦ â€˜?â€™ æ ‡è®° 123function getInfo(name:string, age:number=250):string &#123; return `$&#123;name&#125; ---- $&#123;age&#125;`&#125; å‰©ä½™å‚æ•°12 json å±žæ€§çº¦æŸ12345// jsonå±žæ€§çº¦æŸfunction jsonCon(label) &#123; console.log(label.labelJson);&#125;jsonCon(&#123; labelJson: 'ä½ å¥½è¯„' &#125;); é‡è½½ å› ä¸ºéœ€è¦éµå¾ªjs ï¼Œ æ‰€ä»¥æ— æ³•åƒjavaä¸€æ ·å®žçŽ°é‡è½½ï¼Œ å®žçŽ°çš„åªèƒ½æ˜¯å˜ä½“ï¼Œ è‡ªå·±åˆ¤æ–­typeof 123456789101112131415function getInfo(name:string):string;function getInfo(name:string, age:number):string;function getInfo(name:string, age?:any):string &#123; // åˆ¤æ–­ç±»åž‹ç”¨ typeof if(age) &#123; return `å§“å:$&#123;name&#125;, å¹´é¾„$&#123;age&#125;` &#125;else &#123; return `å§“å:$&#123;name&#125;` &#125;&#125;console.log(getInfo('å´å¤§é¾™')) åˆ›å»ºç±»123456789101112131415161718class Person&#123; name:string; // å±žæ€§ ,å‰é¢çœç•¥äº†Public å…³é”®è¯ constructor(name:string)&#123; // æž„é€ å‡½æ•° å®žä¾‹åŒ–ç±»çš„æ—¶å€™ è§¦å‘çš„æ–¹æ³• this.name = name; &#125; getName():string&#123; return this.name &#125; setName(name:string):void&#123; this.name=name; &#125;&#125; var aa = new Person('æ —è‰²')console.log(aa.getName())aa.setName('å´å¤§é¾™')console.log(aa.getName()) ä½¿ç”¨ç±»çš„ get å’Œ set 123456789101112131415class Person&#123; private _name:string; constructor(name:string, age:number)&#123; this._name = name; &#125; get name():string&#123; return this._name &#125; set name(name:string)&#123; this._name = name; &#125;&#125;const p = new Person('å´å¤§é¾™', 112)p.name = 'å´å¼º' // èµ‹å€¼console.log(p.name) // å–å€¼ å®žçŽ°ç»§æ‰¿ ç»§æ‰¿è‡ªä¸Šæ–¹ç±» 12345678class Web extends Person &#123; constructor(name:string)&#123; super(name); &#125;&#125;var w=new Web('å¾€');console.log(w.run()) ç±»ä¿®é¥°ç¬¦ ä¸åŠ ä¿®é¥°ç¬¦é»˜è®¤å°±æ˜¯ Public , ==å¤–éƒ¨çš„æ„æ€å°±æ˜¯æŒ‡ä¸è¢«å†…éƒ¨å‡½æ•°é‡Œè¢«è°ƒç”¨, è€Œæ˜¯è¢«å¤–éƒ¨äººä¸ºè°ƒç”¨==public: å…±æœ‰, åœ¨ç±»çš„é‡Œé¢, å­ç±», ç±»å¤–éƒ¨éƒ½å¯ä»¥è®¿é—® protected: ä¿æŠ¤ç±»åž‹, åœ¨ç±»é‡Œé¢, å­ç±»é‡Œé¢å¯ä»¥è®¿é—®, ç±»å¤–éƒ¨æ— æ³•è®¿é—® private: ç§æœ‰, åœ¨ç±»é‡Œå¯ä»¥è®¿é—®, å­ç±», ç±»å¤–éƒ¨éƒ½æ²¡æ³•è®¿é—® é™æ€å±žæ€§å’Œé™æ€æ–¹æ³• static é™æ€æ–¹æ³•, åœ¨æ²¡æœ‰ new å‡ºå®žä¾‹å‰éƒ½å¯ä»¥è°ƒç”¨==ä½†æ˜¯æ²¡æ³•ç›´æŽ¥è°ƒç”¨ç±»é‡Œé¢çš„å±žæ€§== 123456789class Person &#123; public nickname:string= 'å´å¤§é¾™'; static speak():void&#123; console.log(`ç”¨æˆ·å§“å:$&#123;this.nickname&#125;`) &#125;&#125;Person.speak() // ç”¨æˆ·å§“å:undefined å¤šæ€ çˆ¶ç±»å®šä¹‰ä¸€ä¸ªæ–¹æ³•ä¸åŽ»å®žçŽ°, è®©ç»§æ‰¿å®ƒçš„å­ç±»åŽ»å®žçŽ°, æ¯ä¸€ä¸ªå­ç±»æœ‰ä¸åŒçš„è¡¨çŽ°ä¹Ÿæ˜¯ç»§æ‰¿çš„ä¸€ç§è¡¨çŽ°, å­ç±»å®žçŽ°æˆ–é‡å†™çˆ¶ç±»ä¸­çš„å·²æœ‰çš„æ–¹æ³•ï¼Œ è¿™å«å¤šæ€ 123456789101112131415161718192021222324252627282930313233343536// å¤šæ€class Animal &#123; name:string; constructor(name:string)&#123; this.name = name; &#125; eat():void&#123; console.log(`$&#123;this.name&#125;ï¼Œ åœ¨åƒå±Ž`) &#125;&#125;class Dog extends Animal &#123; constructor(name:string)&#123; super(name) &#125; // å­ç±»é‡æ–°å®šä¹‰ eatæ–¹æ³• eat():void &#123; console.log(this.name+'åƒè‚‰') &#125;&#125;const wuxiaohong = new Dog('å´æ™“çº¢')wuxiaohong.eat()// å­ç±»é‡æ–°å®šä¹‰ eatæ–¹æ³•class Cat extends Animal &#123; constructor(name:string) &#123; super(name) &#125; eat():void&#123; console.log(this.name+ 'åƒç²®é£Ÿ') &#125;&#125;var cc = new Cat('å´å¼º')cc.eat() æŠ½è±¡ç±» ç”¨abstractå…³é”®å­—å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼Œ æ˜¯æä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»==æŠ½è±¡æ–¹æ³•åªèƒ½æ”¾åœ¨æŠ½è±¡ç±»é‡Œ==ä»ŽæŠ½è±¡ç±»ç»§æ‰¿çš„æ–¹æ³•å¿…é¡»è¢«å­ç±»é‡å†™, é‡æ–°å®žçŽ° 1234567891011121314151617181920abstract class Animal&#123; public name:string; constructor(name:string)&#123; this.name=name; &#125; abstract eat():any;&#125;class Dog extends Animal&#123; constructor(name:any)&#123; super(name) &#125; eat()&#123; console.log(this.name + 'åƒç²®é£Ÿ') &#125;&#125;var d = new Dog('å°ç‹—')d.eat() æŽ¥å£ ä¹Ÿæ˜¯ä¸€ç§å®šä¹‰æ ‡å‡†. ç±»ä¼¼æŠ½è±¡ç±», æŠ½è±¡ç±»åªèƒ½è§„å®šæ–¹æ³•ï¼Œ æŽ¥å£å¯ä»¥è§„å®šå±žæ€§ï¼Œ å‡½æ•°ï¼Œ ç´¢å¼•å’Œç±» æ‰¹é‡å±žæ€§æŽ¥å£ï¼Œ å¯å®šä¹‰å¯é€‰å‚æ•° 123456789// å±žæ€§æŽ¥å£interface FullName&#123; firstName: string; //å°å·ç»“æŸ secondName: string;&#125;function printName (name: FullName) : void&#123; console.log(name.firstName +'====&gt;' + name.secondName);&#125;printName(&#123;firstName: 'å´', secondName: 'å¤§é¾™'&#125;) // å´====&gt;å¤§é¾™ æ•°ç»„ç±»åž‹æŽ¥å£123456interface StringArray &#123; [index:number]:string&#125;var myArray:StringArray;myArray = ["iwen", "ime"]alert(myArray[1]) å‡½æ•°ç±»åž‹æŽ¥å£, å¯¹æ–¹æ³•ä¼ å…¥çš„å‚æ•°ï¼Œ ä»¥åŠè¿”å›žå€¼è¿›è¡Œçº¦æŸ 123456789// æ¯”å¦‚å»ºä¸€ä¸ªmd5åŠ å¯†çš„æŽ¥å£ çš„æŽ¥å£interface encrypt&#123; (key:string, value:string):string;&#125;var md5:encrypt = function(key:string, value:string):string &#123; return key + value;&#125;console.log(md5('name', 'å´å¤§é¾™')) æŽ¥å£æ‰©å±•ï¼Œ æŽ¥å£å¯ä»¥ç»§æ‰¿æŽ¥å£ 1234567891011121314151617181920212223interface Animal&#123; eat():void;&#125;// ç»§æ‰¿ä¸Šæ–¹æŽ¥å£interface Person extends Animal &#123; work():void;&#125;// æœ‰ä¸ªç±» å®žçŽ° è¿™ä¸ªæŽ¥å£class Web implements Person &#123; public name:string; constructor(name:string)&#123; this.name=name &#125; eat()&#123; console.log(this.name + 'å–œæ¬¢åƒé¦’å¤´') &#125; work()&#123; console.log(this.name + 'å†™ä»£ç ') &#125;&#125;var w = new Web('å°æž—')w.work() // å°æž—å†™ä»£ç  æŽ¥å£å¤šç»§æ‰¿ &amp;&amp; ==åˆ›å»ºä¸€ä¸ªæŽ¥å£å¯¹è±¡==123456789101112131415161718// å¤šç»§æ‰¿ å¹¶ åˆ›å»ºä¸€ä¸ªæŽ¥å£å¯¹è±¡interface Shape &#123; color:string;&#125;interface PenStroke &#123; penWidth: number;&#125;interface Square extends Shape, PenStroke &#123; sideLength:number;&#125;// åˆ›å»ºæŽ¥å£å¯¹è±¡ä¸éœ€è¦ new è€Œæ˜¯è¿™æ ·çš„è¯­æ³•var s = &lt;Square&gt;&#123;&#125;;s.color = "blue"s.penWidth = 10s.sideLength = 10 æ³›åž‹ ç”¨äºŽåˆ›å»ºå¯é‡ç”¨çš„ç»„ä»¶ï¼Œ è®©ä¸€ä¸ªç»„ä»¶æ”¯æŒå¤šç§æ•°æ®ç±»åž‹ ==æ³›åž‹å°±æ˜¯è§£å†³ç±» æŽ¥å£ æ–¹æ³•çš„å¤ç”¨æ€§ã€ ä»¥åŠå¯¹ä¸ç‰¹å®šæ•°æ®ç±»åž‹çš„æ”¯æŒ== åŸºæœ¬ä½¿ç”¨ 12345// æ³›åž‹ : å¯ä»¥æ”¯æŒä¸ç‰¹å®šçš„æ•°æ®ç±»åž‹ è¦æ±‚ï¼š ä¼ å…¥çš„å‚æ•°å’Œè¿”å›žçš„å‚æ•°ä¸€è‡´function getData&lt;T&gt;(value:T):T&#123; // Tè¡¨ç¤ºæ³›åž‹ return value&#125;console.log(getData&lt;string&gt;('æˆ‘æ˜¯æ³›åž‹')) å¤šä¸ªæ³›åž‹å‚æ•° 12345678910class HelloNumber&lt;T, S&gt;&#123; Ten:T; add:(x:T, y:T) =&gt; S;&#125;var myHelloNumber = new HelloNumber&lt;number, string&gt;()myHelloNumber.Ten = 10;myHelloNumber.add = function(x, y) &#123; return x+y+''&#125;console.log(myHelloNumber.add(1, 2)); lamb è¡¨è¾¾å¼ 12345678function Hello&lt;T&gt;(arg:T):T&#123; return arg;&#125;// lamb è¡¨è¾¾å¼åªæ˜¯è¡¨è¾¾å…·ä½“ å‚æ•°å’Œè¿”å›žç±»åž‹, éœ€è¦é‡æ–°èµ‹å€¼ä¸ŠçœŸå‡½æ•°var myHello:&lt;K&gt;(arg:K)=&gt; K = &lt;K&gt;(arg:K):K =&gt; &#123; return arg&#125;alert(myHello('hello')) å¦ä¸€ç§å†™æ³•ï¼Œ å¯¹è±¡å½¢å¼ 12345function Hello&lt;T&gt;(arg:T)&#123; return arg&#125;var myHello:&#123;&lt;T&gt;(arg:T):T&#125; = Hello;alert(myHello(" Hello")) æ³›åž‹æŽ¥å£ 12345678// æ³›åž‹æŽ¥å£interface ConfigFn&#123; &lt;T&gt;(value:T):T;&#125;var getData:ConfigFn = function&lt;T&gt;(value:T):T&#123; return value&#125;console.log( getData&lt;string&gt;('ä½ å¥½') ) æ³›åž‹å°å®žæˆ˜ ==éœ€è¦åŒæ—¶æ”¯æŒè¿”å›žæ•°å­—å’Œå­—ç¬¦ä¸²ä¸¤ç§ç±»åž‹ï¼Œ é€šè¿‡ç±»çš„æ³›åž‹æ¥å®žçŽ°== 12345678910111213141516171819202122// æ³›åž‹ç±»: æ¯”å¦‚æœ‰ä¸ªæœ€å°å †ç®—æ³•ï¼Œ éœ€è¦åŒæ—¶æ”¯æŒè¿”å›žæ•°å­—å’Œå­—ç¬¦ä¸²ä¸¤ç§ç±»åž‹ï¼Œ é€šè¿‡ç±»çš„æ³›åž‹æ¥å®žçŽ°class MinClass&lt;T&gt;&#123; list:T[]=[] add(value:T):void&#123; this.list.push(value) &#125; min():T&#123; var minNum = this.list[0] for(var i=0;i&lt;this.list.length;i++)&#123; if(minNum &gt; this.list[i])&#123; minNum=this.list[i] &#125; &#125; return minNum; &#125;&#125;var m1 = new MinClass&lt;string&gt;();m1.add('1')m1.add('you')m1.add('love')console.log(m1.min()) è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å¦‚ä½•åœ¨ä¼ªå…ƒç´ ä¸­ä½¿ç”¨Iconfont]]></title>
    <url>%2F2019%2F03%2F24%2F%E5%A6%82%E4%BD%95%E5%9C%A8%E4%BC%AA%E5%85%83%E7%B4%A0%E4%B8%AD%E4%BD%BF%E7%94%A8Iconfont%2F</url>
    <content type="text"><![CDATA[æŠŠiconfont ä¸­çš„æ ·å¼æ‹·åˆ° ä¼ªå…ƒç´ ä¸Š1234567.iconfont&#123; font-family:"iconfont" !important; font-size:16px;font-style:normal; -webkit-font-smoothing: antialiased; -webkit-text-stroke-width: 0.2px; -moz-osx-font-smoothing: grayscale;&#125; ç æŽ‰unicode å‰é¢çš„å­—ç¬¦å¦‚ä¸‹ å³å¯123456789&amp;::after&#123; content: '\e60e'; font-family:"iconfont" !important; font-size:16px;font-style:normal; -webkit-font-smoothing: antialiased; -webkit-text-stroke-width: 0.2px; -moz-osx-font-smoothing: grayscale;&#125; è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€AOPã€‘é¢å‘åˆ‡é¢ç¼–ç¨‹]]></title>
    <url>%2F2019%2F03%2F24%2F%E3%80%90AOP%E3%80%91%E9%9D%A2%E5%90%91%E5%88%87%E9%9D%A2%E7%BC%96%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[Aspect Oriented Programming é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆaopï¼‰æ˜¯å¯¹é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ˆoopï¼‰çš„è¡¥å…… é¢å‘åˆ‡é¢ç¼–ç¨‹åœ¨è½¯ä»¶ä¸šï¼Œ AOPä¸º Aspect Oriented Programming çš„ç¼©å†™ï¼Œ æ„ä¸º: é¢å‘åˆ‡é¢ç¼–ç¨‹ï¼Œ é€šè¿‡é¢„ç¼–è¯‘æ–¹å¼å’Œè¿è¡ŒæœŸåŠ¨æ€ä»£ç†å®žçŽ°ç¨‹åºåŠŸèƒ½çš„ç»Ÿä¸€ç»´æŠ¤çš„ä¸€ç§æŠ€æœ¯ã€‚ AOPæ˜¯OOPçš„å»¶ç»­ï¼Œ æ˜¯è½¯ä»¶å¼€å‘ä¸­çš„ä¸€ä¸ªçƒ­ç‚¹ï¼Œ ä¹Ÿæ˜¯Spring æ¡†æž¶ä¸­çš„ä¸€ä¸ªé‡è¦å†…å®¹ï¼Œ æ˜¯å‡½æ•°å¼ç¼–ç¨‹çš„ä¸€ç§è¡ç”ŸèŒƒå¼ã€‚ åˆ©ç”¨AOPå¯ä»¥å¯¹ä¸šåŠ¡é€»è¾‘çš„å„ä¸ªéƒ¨åˆ†è¿›è¡Œéš”ç¦»ï¼Œ ä»Žè€Œä½¿å¾—ä¸šåŠ¡é€»è¾‘å„éƒ¨åˆ†ä¹‹é—´çš„è€¦åˆåº¦é™ä½Žï¼Œ æé«˜ç¨‹åºçš„å¯é‡ç”¨æ€§ï¼Œ åŒæ—¶æé«˜äº†å¼€å‘æ•ˆçŽ‡ã€‚ åŸºç¡€æ¦‚å¿µAOP å®Œå–„Spring çš„ä¾èµ–æ³¨å…¥(DI) é¢å‘å¯¹è±¡ç¼–ç¨‹å°†ç¨‹åºåˆ†è§£æˆå„ä¸ªå±‚æ¬¡çš„å¯¹è±¡ï¼Œ é¢å‘åˆ‡é¢ç¼–ç¨‹å°†ç¨‹åºè¿è¡Œè¿‡ç¨‹åˆ†è§£æˆå„ä¸ªåˆ‡é¢ã€‚ FilterFilter(è¿‡æ»¤å™¨) ä¹Ÿæ˜¯ä¸€ç§AOPAï¼Œ ä»–åˆ©ç”¨ä¸€ç§ç§°ä¸ºâ€œæ¨ªåˆ‡â€çš„æŠ€æœ¯ï¼Œ åˆ¨è§£å¼€å°è£…çš„å¯¹è±¡å†…éƒ¨ï¼Œ å¹¶å°†é‚£äº›å½±å“äº†å¤šä¸ªç±»çš„å…¬å…±è¡Œä¸ºå°è£…åˆ°ä¸€ä¸ªå¯é‡ç”¨çš„æ¨¡å—ï¼Œ å¹¶å°†å…¶å‘½åä¸ºâ€Aspectâ€ï¼Œ å³åˆ‡é¢ã€‚ æ‰€è°“â€œåˆ‡é¢â€ã€‚ ä¼˜ç‚¹AOPçš„å¥½å¤„å°±æ˜¯ä½ åªéœ€è¦å¹²ä½ çš„æ­£äº‹ï¼Œ å…¶ä»–äº‹æƒ…åˆ«äººå¸®ä½ å¹²ã€‚ åœ¨ä½ è®¿é—®æ•°æ®åº“ä¹‹å‰ï¼Œ è‡ªåŠ¨å¸®ä½ å¼€å¯äº‹åŠ¡ï¼Œ å½“ä½ è®¿é—®æ•°æ®åº“ç»“æŸä¹‹åŽï¼Œ è‡ªåŠ¨å¸®ä½ æäº¤/å›žæ»šäº‹åŠ¡ï¼ å°±åƒå‡½æ•°çš„beforeå’Œ after è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>AOP</tag>
        <tag>ç¼–ç¨‹èŒƒå¼</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢å‘å¯¹è±¡è®¾è®¡åŽŸåˆ™ä¹‹IOCæŽ§åˆ¶åè½¬]]></title>
    <url>%2F2019%2F03%2F24%2F%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B9%8BIOC%E6%8E%A7%E5%88%B6%E5%8F%8D%E8%BD%AC%2F</url>
    <content type="text"><![CDATA[IOC ï¼ˆæŽ§åˆ¶åè½¬ï¼‰ Inversion of Control IoCå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç§å…¨æ–°çš„è®¾è®¡æ¨¡å¼ï¼Œä½†æ˜¯ç†è®ºå’Œæ—¶é—´æˆç†Ÿç›¸å¯¹è¾ƒæ™šã€‚ ä»€ä¹ˆæ˜¯æŽ§åˆ¶åè½¬æŽ§åˆ¶åè½¬ï¼ˆInversion of Controlï¼Œç¼©å†™ä¸ºIoCï¼‰ï¼Œæ˜¯é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­çš„ä¸€ç§è®¾è®¡åŽŸåˆ™ï¼Œå¯ä»¥ç”¨æ¥å‡ä½Žè®¡ç®—æœºä»£ç ä¹‹é—´çš„è€¦åˆåº¦ã€‚å…¶ä¸­æœ€å¸¸è§çš„æ–¹å¼å«åšä¾èµ–æ³¨å…¥ï¼ˆDependency Injectionï¼Œç®€ç§°DIï¼‰ï¼Œè¿˜æœ‰ä¸€ç§æ–¹å¼å«â€œä¾èµ–æŸ¥æ‰¾â€ï¼ˆDependency Lookupï¼‰ã€‚é€šè¿‡æŽ§åˆ¶åè½¬ï¼Œå¯¹è±¡åœ¨è¢«åˆ›å»ºçš„æ—¶å€™ï¼Œç”±ä¸€ä¸ªè°ƒæŽ§ç³»ç»Ÿå†…æ‰€æœ‰å¯¹è±¡çš„å¤–ç•Œå®žä½“ï¼Œå°†å…¶æ‰€ä¾èµ–çš„å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™å®ƒã€‚ä¹Ÿå¯ä»¥è¯´ï¼Œä¾èµ–è¢«æ³¨â¼Šåˆ°å¯¹è±¡ä¸­ã€‚ DIæ˜¯IOCçš„ä¸€ç§è¡¨çŽ°å½¢å¼ ä¸¤ç§æ–¹å¼ä¾èµ–æŸ¥æ‰¾å®¹å™¨æä¾›å›žè°ƒæŽ¥å£å’Œä¸Šä¸‹æ–‡æ¡ä»¶ç»™ç»„ä»¶ã€‚ ä¾èµ–æ³¨å…¥ç»„ä»¶ä¸åšå®šä½æŸ¥è¯¢ï¼Œ éœ€æä¾›æ™®é€šçš„æ–¹æ³•è®©å®¹å™¨åŽ»å†³å®šä¾èµ–å…³ç³»ã€‚ IOCæ¦‚å¿µå›¾åœ¨æœªä½¿ç”¨IOCçš„æ—¶å€™ å„ä¸ª Object ä¹‹é—´çš„è€¦åˆåº¦å¾ˆé«˜ï¼Œ è°ä¹Ÿç¦»ä¸å¼€è° åœ¨ä½¿ç”¨ IOC åŽï¼Œ å„ä¸ª Object ä¹‹é—´é€šè¿‡ IOCå®¹å™¨ æ•´ä¸ªç¬¬ä¸‰æ–¹è§’è‰²æ¥è°ƒåº¦ï¼Œ å˜æˆäº†å¯ä»»æ„ç»„è£…çš„æ¨¡å¼ï¼Œ è°éœ€è¦çš„æ—¶å€™æ³¨å…¥è°ï¼Œ é™ä½Žäº†è€¦åˆåº¦ è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>oop</tag>
        <tag>IOC</tag>
        <tag>ç¼–ç¨‹åŽŸåˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[äº†è§£æ±‡ç¼–è¯­è¨€]]></title>
    <url>%2F2019%2F03%2F24%2F%E4%BA%86%E8%A7%A3%E6%B1%87%E7%BC%96%E8%AF%AD%E8%A8%80%2F</url>
    <content type="text"><![CDATA[æ±‡ç¼–è¯­è¨€æ˜¯æœ€è´´è¿‘åº•å±‚çš„è®¡ç®—æœºè¯­è¨€ æ±‡ç¼–è¯­è¨€æ˜¯ç›´æŽ¥æ“ä½œç¡¬ä»¶çš„ï¼Œæ²¡æœ‰ä»»ä½•æŠ½è±¡ æ±‡ç¼–è¯­è¨€ç”±æŒ‡ä»¤ä¸Žæ•°æ®ç»„æˆï¼Œæ²¡æœ‰ä»»ä½•è¯­å¥ æ±‡ç¼–æŒ‡ä»¤å—åˆ°ç¡¬ä»¶å¹³å°é™åˆ¶ï¼Œå¯ç§»æ¤æ€§å¾ˆä½Ž äº†è§£ä¸€äº›åº•å±‚è¯­è¨€çŸ¥è¯†ï¼Œå¯¹ç†è§£è®¡ç®—æœºçš„è¿ä½œæœºåˆ¶å’Œå†…å­˜ç®¡ç†å¤§æœ‰å¥½å¤„ ä½“éªŒä¸€ä¸‹æ±‡ç¼–è¯­è¨€æ¥çœ‹ä¸€ä¸‹ä¸€ä¸ªç®€å•çš„æ±‡ç¼–è¯­è¨€ä»£ç ï¼Œ è¿™æ®µä»£ç åªæ˜¯ä¸ºäº†è¾“å‡ºä¸€ä¸ªâ€hello worldâ€ ä¸Šé¢éƒ¨åˆ†ä¹Ÿå°±æ˜¯ç¨‹åºçš„æ•°æ®æ®µ: ä¸‹é¢è¿™éƒ¨åˆ†æ˜¯ç¨‹åºçš„ä»£ç æ®µ: ä»£ç æ®µå’Œæ•°æ®æ®µæ˜¯ä¸¥æ ¼åˆ†å¼€çš„ï¼Œ æ±‡ç¼–è¯­è¨€æœ€åŽŸå§‹çš„æ–¹å¼æ˜¯ï¼šå½“è¿™æ®µä»£ç è½¬æ¢ä¸ºæœºå™¨æŒ‡ä»¤åŽï¼Œ æ•°æ®å’Œä»£ç æ˜¯ç›¸é‚»åœ¨ä¸€èµ·çš„. ä½†å…¶å®žæ”¾åœ¨ä¸€èµ·æ˜¯ä¸å¤ªå®‰å…¨çš„ï¼ çŽ°ä»£è®¡ç®—æœºçš„åšæ³•æ˜¯ï¼Œ å°†ä»£ç æ®µå’Œæ•°æ®æ®µä¸¥æ ¼åŒºåˆ†å¼€æ¥ï¼Œ å¦‚æžœè¶Šç•Œï¼Œåœ¨æ•°æ®æ®µçš„åœ°æ–¹å–ä»£ç ï¼Œ æ“ä½œç³»ç»Ÿå°±ä¼šç»™ä½ æŠ›å‡ºé”™è¯¯ï¼Œ ä¹Ÿå°±æ˜¯ç»å…¸çš„è“å±]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºåŸºç¡€</tag>
        <tag>æ±‡ç¼–</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢å‘å¯¹è±¡è®¾è®¡åŽŸåˆ™ä¹‹S.O.L.I.D]]></title>
    <url>%2F2019%2F03%2F24%2F%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E8%AE%BE%E8%AE%A1%E5%8E%9F%E5%88%99%E4%B9%8BSOLID%2F</url>
    <content type="text"><![CDATA[ä½œä¸ºä¸€åä¼˜ç§€çš„å·¥ç¨‹å¸ˆï¼Œæœ€é‡è¦çš„ä¸æ˜¯æ‹›å¼ï¼Œ è€Œæ˜¯å†…åŠŸï¼Œ åƒæ­¦ä¾ å°è¯´é‡Œçš„é«˜æ‰‹ï¼Œ ä¸€æ—¦æœ‰äº†å‡ åå¹´çš„å†…åŠŸï¼Œ å­¦ä»€ä¹ˆæ­¦åŠŸéƒ½èƒ½å¿«äººä¸€æ­¥ é‚£ç¼–ç¨‹é‡Œå¦‚ä½•æå‡å†…åŠŸï¼Œ ä¸»è¦å°±æ˜¯ä½“çŽ°åœ¨ç¼–ç¨‹æ€æƒ³ä¸Šäº†ï¼Œ é€å±‚æå‡ä½ ç¼–ç¨‹æ€æƒ³æ¯”å¦‚ä»Žä¸€å¼€å§‹çš„æœ€ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ åˆ° é¢å‘åˆ‡é¢ é¢å‘å¯¹è±¡ -&gt; å·¥åŽ‚æ¨¡å¼ -&gt; é¢å‘åˆ‡é¢ ä»Ž â€œoop çš„é™æ€æŠ½è±¡â€ æ¼”å˜ä¸º â€œaopçš„åŠ¨æ€æŠ½è±¡â€ SOLIDåŽŸåˆ™çš„åŸºæœ¬æ¦‚å¿µè®©æˆ‘ä»¬æ¥çœ‹ä¸‹ SOLID çš„æ¦‚å¿µ ç¨‹åºè®¾è®¡é¢†åŸŸï¼Œ SOLID (å•ä¸€ä¸€åŠŸèƒ½ã€å¼€é—­åŽŸåˆ™ã€â¾¥é‡Œï§©â½’æ°æ›¿æ¢ã€æŽ¥â¼å£éš”ç¦»ä»¥åŠä¾èµ–åè½¬)æ˜¯ç”±ç½—ä¼¯ç‰¹Â·CÂ·â»¢é©¬ä¸åœ¨21ä¸–çºªæ—©æœŸ å¼•â¼Šå…¥çš„è®°å¿†æœ¯â¾¸é¦–å­—âºŸæ¯ç¼©ç•¥ï¥¶å­—ï¼ŒæŒ‡ä»£äº†ï¦ºâ¾¯é¢å‘å¯¹è±¡ç¼–ç¨‹å’Œâ¾¯é¢å‘å¯¹è±¡è®¾è®¡çš„äº”ä¸ªåŸºæœ¬åŽŸåˆ™ã€‚å½“è¿™äº›åŽŸåˆ™è¢«ä¸€ä¸€èµ·åº”â½¤ç”¨æ—¶ï¼Œå®ƒä»¬ä½¿å¾—ä¸€ä¸€ä¸ªç¨‹åºå‘˜å¼€å‘ä¸€ä¸€ä¸ªå®¹æ˜“ï§ è¿›â¾è¡Œï¨ˆè½¯ä»¶ç»´æŠ¤å’Œæ‰©å±•çš„ç³»ç»Ÿå˜å¾—æ›´ï¤åŠ å¯èƒ½SOLIDè¢«å…¸åž‹çš„åº”â½¤ç”¨åœ¨æµ‹è¯•é©±åŠ¨å¼€å‘ä¸Šï¼Œå¹¶ä¸”æ˜¯æ•ï©æ·å¼€å‘ä»¥åŠâ¾ƒè‡ªé€‚åº”è½¯ä»¶å¼€å‘çš„åŸºæœ¬åŽŸåˆ™çš„é‡è¦ç»„æˆéƒ¨åˆ†ã€‚ SOLIDè¿™å‡ ä¸ªå­—æ¯ä»£è¡¨ä»€ä¹ˆæ„ä¹‰ï¼ŸS (å•ä¸€ä¸€åŠŸèƒ½åŽŸåˆ™) Single Responsibility Principle å•ä¸€ä¸€åŠŸèƒ½åŽŸåˆ™ ï¼šå•ä¸€ä¸€åŠŸèƒ½åŽŸåˆ™ è®¤ä¸ºå¯¹è±¡åº”è¯¥ä»…å…·æœ‰ä¸€ä¸€ç§å•ä¸€ä¸€åŠŸèƒ½çš„æ¦‚å¿µã€‚æ¢å¥ï¤†è¯è¯´å°±æ˜¯è®©ä¸€ä¸€ä¸ªç±»åªåšä¸€ä¸€ç§ç±»åž‹è´£ä»»ï¼Œå½“è¿™ä¸ªç±»éœ€è¦æ‰¿æ‹…å…¶ä»–ç±»åž‹çš„è´£ä»»çš„æ—¶å€™ï¼Œå°±éœ€è¦åˆ†è§£è¿™ä¸ªç±»ã€‚åœ¨æ‰€æœ‰çš„SOLIDåŽŸåˆ™ä¸­ï¼Œè¿™æ˜¯â¼¤å¤§å¤šæ•°å¼€å‘â¼ˆäººå‘˜æ„Ÿåˆ°æœ€èƒ½å®Œå…¨ç†ï§¤è§£çš„ä¸€ä¸€æ¡ã€‚ä¸¥æ ¼æ¥è¯´ï¼Œè¿™ä¹Ÿå¯èƒ½æ˜¯è¿åæœ€é¢‘ç¹çš„ä¸€ä¸€æ¡åŽŸåˆ™äº†ï¦ºã€‚å•ä¸€ä¸€è´£ä»»åŽŸåˆ™å¯ä»¥çœ‹ä½œæ˜¯ä½Žè€¦åˆã€â¾¼å†…èšåœ¨é¢å‘å¯¹è±¡åŽŸåˆ™ä¸Šçš„å¼•ç”³ï¼Œå°†è´£ä»»å®šä¹‰ä¸ºå¼•èµ·å˜åŒ–çš„åŽŸå› ï¼Œä»¥æé«˜å†…èšæ€§æ¥å‡å°‘å¼•èµ·å˜åŒ–çš„åŽŸå› ã€‚è´£ä»»è¿‡å¤šï¼Œå¯èƒ½å¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› å°±è¶Šå¤šï¼Œè¿™å°†å¯¼è‡´è´£ä»»ä¾èµ–ï¼Œç›¸äº’ä¹‹é—´å°±äº§â½£ç”Ÿå½±å“ï¼Œä»Žâ½½è€Œæžâ¼¤å¤§çš„æŸä¼¤å…¶å†…èšæ€§å’Œè€¦åˆåº¦ã€‚å•ä¸€ä¸€è´£ä»»ï¼Œé€šå¸¸æ„å‘³ç€å•ä¸€ä¸€çš„åŠŸèƒ½ï¼Œå› æ­¤ä¸ï¥§è¦ä¸ºä¸€ä¸€ä¸ªæ¨¡å—å®ž çŽ°è¿‡å¤šçš„åŠŸèƒ½ç‚¹ï¼Œä»¥ä¿è¯å®žä½“åªæœ‰ä¸€ä¸€ä¸ªå¼•èµ·å®ƒå˜åŒ–çš„åŽŸå› ã€‚ ç¼©å‡ä¸€ä¸‹å°±æ˜¯: è®©æ¯ä¸ªå‡½æ•°å’Œæ¯ä¸ªç±»éƒ½åªåšä¸€ä»¶å°äº‹ï¼ŒèŒè´£å•ä¸€ï¼Œè§£è€¦å’Œ O (å¼€é—­åŽŸåˆ™) Open Close Principle å¼€é—­åŽŸåˆ™(ocp) è®¤ä¸ºâ€œè½¯ä»¶ä½“åº”è¯¥æ˜¯å¯¹äºŽæ‰©å±•å¼€æ”¾çš„ï¼Œä½†æ˜¯å¯¹äºŽä¿®æ”¹å°é—­çš„â€çš„æ¦‚å¿µã€‚è½¯ä»¶å®žä½“åº”è¯¥æ˜¯å¯æ‰©å±•ï¼Œè€Œä¸ï¥§å¯ä¿®æ”¹çš„ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹æ‰©å±•æ˜¯å¼€æ”¾çš„ï¼Œè€Œå¯¹ä¿®æ”¹æ˜¯å°é—­çš„ï¼ˆâ€œå¼€â€æŒ‡çš„å°±æ˜¯ç±»ã€æ¨¡å—ã€å‡½æ•°éƒ½åº”è¯¥å…·æœ‰å¯æ‰©å±•æ€§ï¼Œâ€œé—­â€æŒ‡çš„æ˜¯å®ƒä»¬ä¸ï¥§åº”è¯¥è¢«ä¿®æ”¹ã€‚ä¹Ÿå°±æ˜¯è¯´ä½ å¯ä»¥æ–°å¢žåŠŸèƒ½ä½†ä¸èƒ½åŽ»ä¿®æ”¹æºç ã€‚ï¼‰ã€‚è¿™ä¸ªåŽŸåˆ™æ˜¯è¯¸å¤šé¢å‘å¯¹è±¡ç¼–ç¨‹åŽŸåˆ™ä¸­æœ€æŠ½è±¡ã€æœ€éš¾ç†ï§¤è§£çš„ä¸€ä¸ªã€‚ å¯¹æ‰©å±•å¼€æ”¾ï¼Œæ„å‘³ç€æœ‰æ–°çš„éœ€æ±‚æˆ–å˜åŒ–æ—¶ï¼Œå¯ä»¥å¯¹çŽ°æœ‰ä»£ç è¿›è¡Œæ‰©å±•ï¼Œä»¥é€‚åº”æ–°çš„æƒ…å†µã€‚å¯¹ä¿®æ”¹å°é—­ï¼Œæ„å‘³ç€ç±»ä¸€æ—¦è®¾è®¡å®Œæˆï¼Œå°±å¯ä»¥ç‹¬â½´ç«‹å®Œæˆå…¶â¼¯å·¥ä½œï¼Œâ½½è€Œä¸è¦å¯¹ç±»è¿›â¾è¡Œï¨ˆä»»ä½•ä¿®æ”¹ã€‚å¯ä»¥ä½¿ç”¨å˜åŒ–å’Œä¸å˜æ¥è¯´æ˜Žï¼šå°è£…ä¸å˜éƒ¨åˆ†ï¼Œå¼€æ”¾å˜åŒ–éƒ¨åˆ†ï¼Œä¸€èˆ¬ä½¿ç”¨æŽ¥å£ç»§æ‰¿å®žçŽ°â½…æ–¹å¼æ¥å®žçŽ°â€œå¼€æ”¾â€åº”å¯¹å˜åŒ–ã€‚ è¯´å¤§ç™½è¯å°±æ˜¯ï¼šä½ ä¸ï¥§æ˜¯è¦å˜åŒ–å—ï¼Ÿï¼Œé‚£ä¹ˆæˆ‘å°±è®©ä½ ç»§æ‰¿å®žçŽ°ä¸€ä¸ªå¯¹è±¡ï¼Œç”¨ä¸€ä¸ªæŽ¥å£æ¥æŠ½è±¡ä½ çš„èŒè´£ï¼Œä½ å˜åŒ–è¶Šå¤šï¼Œç»§æ‰¿å®žçŽ°çš„å­ç±»å°±è¶Šå¤šã€‚ è®©æˆ‘ä»¬æ¥çœ‹ä¸‹ä¸€ä¸ªç®€å•çš„ Ts demo ç³Ÿç³•çš„å®žçŽ°1234567891011121314class Animal &#123; constructor(name: any) &#123; super(name) this.name = name &#125; eat() &#123; if(this.name == 'å°çŒ«') &#123; console.log(this.name + 'åƒçŒ«ç²®') &#125; else if( this.name == "å°ç‹—") &#123; console.log(this.name + 'åƒç‹—ç²®') &#125; &#125;&#125; è¿™ç§ç³Ÿç³•çš„å®žçŽ°ä¸ä½†ä½¿ç¨‹åºçš„å¯æ‰©å±•æ€§é™ä½Žï¼Œ è€Œä¸”æ¯æ¬¡æ–°å¢žä¸€ç§åŠ¨ç‰©éƒ½éœ€è¦ä¿®æ”¹ä¹‹å‰çš„ä»£ç ï¼Œ å®¹æ˜“é€ æˆéšæ‚£ï¼Œ è¿™å’Œç¼–ç¨‹æ€æƒ³æžå¤§çš„è¿èƒŒ åˆ©ç”¨ OCP æ€æƒ³1234567891011121314151617181920// Animal æŠ½è±¡ç±»abstract class Animal &#123; public name: string; constructor(name: string) &#123; this.name = name; &#125; abstract eat(): any;&#125;// å®žçŽ°AnimalæŠ½è±¡ç±»class Dog extends Animal &#123; constructor(name: any) &#123; super(name) &#125; eat() &#123; console.log(this.name + 'åƒç‹—ç²®') &#125;&#125;var d = new Dog('å°ç‹—')d.eat() ä¸Šé¢çš„ä»£ç ä¸­ï¼Œ é¦–å…ˆä½¿ç”¨abstract å®šä¹‰æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•ï¼Œæä¾›å…¶ä»–ç±»ç»§æ‰¿çš„åŸºç±»æˆ‘ä»¬å®šä¹‰åªè¦æ˜¯Animalå°±å¿…é¡»è¦æœ‰eatæ–¹æ³• äºŽæ˜¯ï¼Œ æˆ‘ä»¬åˆ›å»ºäº†ä¸€ä¸ªDog ç»§æ‰¿Animal ,è¿™ä¸ªDogå°±ä¸ä¸€èˆ¬äº†ï¼Œ å®ƒè§„å®šäº†å¿…é¡»é‡æ–°å®žçŽ° eat æ–¹æ³•ï¼Œ å¹¶ä¸”å¯ä»¥æ‰©å±•è‡ªå·±çš„æ–¹æ³• å½“æˆ‘ä»¬å°†æ¥å¦‚æžœéœ€è¦ä¸€åª Catæˆ‘ä»¬ä¸€æ ·åªéœ€è¦è®©ä»–ç»§æ‰¿AnimalæŠ½è±¡ç±»ï¼Œ ç„¶åŽå®žçŽ°ä¸€ä¸ªè‡ªå·±çš„eatæ–¹æ³• L (ï§©â½’æ°æ›¿æ¢åŽŸåˆ™) Liskov Substitution Principle é‡Œæ°æ›¿æ¢åŽŸåˆ™: é‡Œæ°æ›¿æ¢åŽŸåˆ™è®¤ä¸ºâ€œç¨‹åºä¸­çš„å¯¹è±¡åº”è¯¥æ˜¯å¯ä»¥åœ¨ä¸æ”¹å˜ç¨‹åºæ­£ç¡®æ€§çš„å‰æä¸‹æå‰è¢«å®ƒçš„å­ç±»æ‰€æ›¿æ¢çš„â€çš„æ¦‚å¿µã€‚ å­ç±»å¿…é¡»èƒ½å¤Ÿæ›¿æ¢ä»–ä»¬çš„åŸºç±»ã€‚å³ï¼š å­ç±»åº”è¯¥å¯ä»¥æ›¿æ¢ä»»ä½•åŸºç±»èƒ½å¤Ÿå‡ºçŽ°çš„åœ°æ–¹ï¼Œ å¹¶ä¸”ç»è¿‡æ›¿æ¢ä»¥åŽï¼Œ ä»£ç è¿˜èƒ½æ­£å¸¸å·¥ä½œã€‚ å¦å¤–ï¼Œ ä¸åº”è¯¥åœ¨ä»£ç ä¸­å‡ºçŽ°if/elseä¹‹ç±»å¯¹å­ç±»ç±»åž‹è¿›è¡Œåˆ¤æ–­çš„æ¡ä»¶ã€‚ é‡Œæ°æ›¿æ¢åŽŸåˆ™LSPä½¿ä½¿ä»£ç ç¬¦åˆå¼€é—­åŽŸåˆ™çš„ä¸€ä¸ªé‡è¦ä¿è¯ã€‚ æ­£æ˜¯ç”±äºŽå­ç±»çš„æ›¿æ¢æ€§æ‰ä½¿å¾—çˆ¶ç±»åž‹çš„æ¨¡å—åœ¨æ— éœ€ä¿®æ”¹çš„æƒ…å†µä¸‹å°±å¯ä»¥æ‰©å±•ã€‚åœ¨å¾ˆå¤šæƒ…å†µä¸‹ï¼Œ åœ¨è®¾è®¡åˆæœŸæˆ‘ä»¬ç±»ä¹‹é—´çš„å…³ç³»ä¸æ˜¯å¾ˆæ˜Žç¡®ï¼Œ LSPåˆ™ç»™äº†æˆ‘ä»¬ä¸€ä¸ªåˆ¤æ–­å’Œè®¾è®¡ç±»ä¹‹é—´å…³ç³»çš„åŸºå‡†: éœ€ä¸éœ€è¦ç»§æ‰¿ï¼Œ ä»¥åŠæ€Žæ ·è®¾è®¡ç»§æ‰¿å…³ç³»ã€‚ å½“ä¸€ä¸ªå­ç±»çš„å®žä¾‹åº”è¯¥èƒ½å¤Ÿæ›¿æ¢ä»»ä½•å…¶è¶…ç±»çš„å®žä¾‹æ—¶ï¼Œ å®ƒä»¬ä¹‹é—´æ‰å…·æœ‰is-Aå…³ç³»ã€‚ ç»§æ‰¿å¯¹äºŽOCPï¼Œ å°±ç›¸å½“äºŽå¤šæ€æ€§å¯¹äºŽé‡Œæ°æ›¿æ¢åŽŸåˆ™ã€‚å­ç±»å¯ä»¥ä»£æ›¿åŸºç±»ï¼Œ å®¢æˆ·ä½¿ç”¨åŸºç±»ï¼Œ ä»–ä»¬ä¸éœ€è¦çŸ¥é“æ´¾ç”Ÿç±»æ‰€åšçš„äº‹æƒ…ã€‚è¿™æ˜¯ä¸€ä¸ªé’ˆå¯¹è¡Œä¸ºèŒè´£å¯æ›¿ä»£çš„åŽŸåˆ™ï¼Œ å¦‚æžœSæ˜¯Tçš„å­ç±»åž‹ï¼Œ é‚£ä¹ˆSå¯¹è±¡å°±åº”è¯¥åœ¨ä¸æ”¹å˜ä»»ä½•æŠ½è±¡å±žæ€§æƒ…å†µä¸‹æ›¿æ¢æ‰€æœ‰Tå¯¹è±¡ã€‚ ç¼©å‡ä¸€ä¸‹å°±æ˜¯: è€çˆ¸èƒ½å¹²çš„äº‹ï¼Œ å„¿å­å¿…é¡»éƒ½èƒ½å¹²ï¼Œ å¹¶ä¸”è¿˜è¦å¹²çš„èƒ½å¤šï¼Œ åªè¦æœ‰å„¿å­åœ¨ï¼Œ è€çˆ¸ä¸åœ¨çŽ°åœºéƒ½æ²¡å…³ç³» I (æŽ¥â¼éš”ç¦»åŽŸåˆ™) Interface Segregation Principle æŽ¥å£éš”ç¦»åŽŸåˆ™: æŽ¥å£éš”ç¦»åŽŸåˆ™è®¤ä¸ºâ€œå¤šä¸ªç‰¹å®šå®¢æˆ·ç«¯æŽ¥å£è¦å¥½äºŽä¸€ä¸ªå®½æ³›ç”¨é€”çš„æŽ¥å£â€çš„æ¦‚å¿µã€‚ ä¸èƒ½å¼ºè¿«ç”¨æˆ·åŽ»ä¾èµ–é‚£äº›ä»–ä»¬ä¸èƒ½ä½¿ç”¨çš„æŽ¥å£ã€‚ æ¢å¥è¯è¯´ï¼Œ ä½¿ç”¨å¤šä¸ªä¸“é—¨çš„æŽ¥å£æ¯”ä½¿ç”¨å•ä¸€çš„æ€»æŽ¥å£æ€»è¦å¥½(JavaScriptå‡ ä¹Žæ²¡æœ‰æŽ¥å£çš„æ¦‚å¿µï¼Œ æ‰€ä»¥ä½¿ç”¨ts)ã€‚ æ³¨æ„ï¼š åœ¨ä»£ç ä¸­åº”ç”¨ ISP å¹¶ä¸ä¸€å®šæ„å‘³ç€æœåŠ¡å°±æ˜¯ç»å¯¹å®‰å…¨çš„ã€‚ ä»ç„¶éœ€è¦é‡‡ç”¨è‰¯å¥½çš„ç¼–ç å®žè·µï¼Œ ä»¥ç¡®ä¿æ­£ç¡®çš„éªŒè¯ä¸ŽæŽˆæƒã€‚ è¿™ä¸ªåŽŸåˆ™èµ·æºäºŽæ–½ä¹å…¬å¸ï¼Œ ä»–ä»¬éœ€è¦å»ºç«‹äº†ä¸€ä¸ªæ–°çš„æ‰“å°æœºç³»ç»Ÿï¼Œ å¯ä»¥æ‰§è¡Œè¯¸å¦‚è£…è®¢çš„å°åˆ·å“ä¸€å¥—ï¼Œä¼ çœŸå¤šç§ä»»åŠ¡ã€‚æ­¤ç³»ç»Ÿè½¯ä»¶åˆ›å»ºä»Žåº•å±‚å¼€å§‹ç¼–åˆ¶ï¼Œ å¹¶å®žçŽ°äº†è¿™äº›ä»»åŠ¡åŠŸèƒ½ï¼Œ ä½†æ˜¯ä¸æ–­å¢žé•¿çš„è½¯ä»¶åŠŸèƒ½å´ä½¿è½¯ä»¶æœ¬èº«è¶Šæ¥è¶Šéš¾é€‚åº”å˜åŒ–å’Œç»´æŠ¤ã€‚ æ¯ä¸€æ¬¡æ”¹å˜ï¼Œå³ä½¿æ˜¯æœ€å°çš„å˜åŒ–ï¼Œ æœ‰äººå¯èƒ½éœ€è¦è¿‘ä¸€ä¸ªå°æ—¶çš„é‡æ–°ç¼–è¯‘å’Œé‡æ–°éƒ¨ç½²ã€‚è¿™å‡ ä¹Žä¸å¯èƒ½å†ç»§ç»­å‘å±•ï¼Œ æ‰€ä»¥ä»–ä»¬è˜è¯·ç½—ä¼¯ç‰¹(Robert)å¸®åŠ©ä»–ä»¬ã€‚ä»–ä»¬é¦–å…ˆè®¾è®¡äº†ä¸€ä¸ªä¸»è¦ç±»Job,å‡ ä¹Žèƒ½å¤Ÿç”¨äºŽå®žçŽ°æ‰€æœ‰ä»»åŠ¡åŠŸèƒ½ã€‚ åªè¦è°ƒç”¨Jobç±»çš„ä¸€ä¸ªæ–¹æ³•å°±å¯ä»¥å®žçŽ°ä¸€ä¸ªåŠŸèƒ½ï¼Œ Jobç±»å°±å˜åŠ¨éžå¸¸å¤§ï¼Œ æ˜¯ä¸€ä¸ªèƒ–æ¨¡åž‹å•Šï¼Œ å¯¹äºŽå®¢æˆ·ç«¯å¦‚æžœåªéœ€è¦ä¸€ä¸ªæ‰“å°åŠŸèƒ½ï¼Œ ä½†æ˜¯å…¶ä»–æ— å…³æ‰“å°çš„æ–¹æ³•åŠŸèƒ½ä¹Ÿå’Œå…¶è€¦åˆï¼Œ ISPåŽŸåˆ™å»ºè®®åœ¨å®¢æˆ·ç«¯å’ŒJobç±»ä¹‹é—´å¢žåŠ ä¸€ä¸ªæŽ¥å£å±‚ï¼Œ å¯¹äºŽä¸åŒåŠŸèƒ½æœ‰ä¸åŒçš„æŽ¥å£ï¼Œ æ¯”å¦‚æ‰“å°åŠŸèƒ½å°±æ˜¯PrintæŽ¥å£ï¼Œ ç„¶åŽå°†å¤§çš„Jobç±»åˆ‡åˆ†ä¸ºç»§æ‰¿ä¸åŒæŽ¥å£çš„å­ç±»ï¼Œ è¿™æ ·æœ‰ä¸€ä¸ªPrint Jobç±» ç­‰ç­‰ã€‚ ç¼©å‡ä¸€ä¸‹å°±æ˜¯: æ¯ä¸€ä¸ªä¸šåŠ¡éƒ½è¦å‡†å¤‡ä¸€ä¸ªæŽ¥å£ï¼Œ æ¯ä¸ªä¸åŒåŠŸèƒ½çš„æŽ¥å£å†ç»§æ‰¿è‡ªå…¬å…±çš„åŸºç¡€æŽ¥å£ D (ä¾èµ–åè½¬åŽŸåˆ™) Dependency Inversion Principle ä¾èµ–å€’ç½®åŽŸåˆ™ï¼ˆDependency Inversion Principleï¼Œ DIPï¼‰è§„å®šï¼š ä»£ç åº”å½“å–å†³äºŽæŠ½è±¡æ¦‚å¿µï¼Œ è€Œä¸æ˜¯å…·ä½“å®žçŽ°ã€‚ é«˜å±‚æ¨¡å—ä¸åº”è¯¥ä¾èµ–äºŽåº•å±‚æ¨¡å—ï¼Œ äºŒè€…éƒ½åº”è¯¥ä¾èµ–äºŽæŠ½è±¡æŠ½è±¡ä¸åº”è¯¥ä¾èµ–äºŽç»†èŠ‚ï¼Œ ç»†èŠ‚åº”è¯¥ä¾èµ–äºŽæŠ½è±¡(æ€»ç»“è§£è€¦) ç±»å¯èƒ½ä¾èµ–äºŽå…¶ä»–ç±»æ¥æ‰§è¡Œå…¶å·¥ä½œï¼Œ ä½†æ˜¯ï¼Œ ä»–ä»¬ä¸åº”å½“ä¾èµ–äºŽè¯¥ç±»çš„ç‰¹å®šå…·ä½“å®žçŽ°ï¼Œ è€Œåº”å½“æ˜¯å®ƒçš„æŠ½è±¡ã€‚ è¿™ä¸ªåŽŸåˆ™å®žåœ¨æ˜¯å¤ªé‡è¦äº†ï¼Œ ç¤¾ä¼šçš„åˆ†å·¥åŒ–ï¼Œ æ ‡å‡†åŒ–éƒ½æ˜¯è¿™ä¸ªè®¾è®¡åŽŸåˆ™çš„ä½“çŽ°ã€‚æ˜¾ç„¶ï¼Œ è¿™ä¸€æ¦‚å¿µä¼šå¤§å¤§æé«˜ç³»ç»Ÿçš„çµæ´»æ€§ã€‚ å¦‚æžœç±»åªæ˜¯å…³å¿ƒä»–ä»¬æ”¯æŒç‰¹å®šé”²çº¦è€Œä¸æ˜¯ç‰¹å®šç±»åž‹çš„ç»„ä»¶ï¼Œ å°±å¯ä»¥å¿«é€Ÿè€Œè½»æ¾åœ°ä¿®æ”¹è¿™äº›ä½Žçº§æœåŠ¡çš„åŠŸèƒ½ï¼Œ åŒæ—¶æœ€å¤§é™åº¦åœ°é™ä½Žå¯¹ç³»ç»Ÿå…¶ä½™éƒ¨åˆ†åœ°å½±å“ã€‚ ä¸¾ä¸ªä¾‹å­: ä½ å®¶é‡Œéœ€è¦æ´—è¡£æœºï¼Œ ä¸å¯èƒ½æŠŠæ•´ä¸ªæ´—è¡£æœºçš„ç”Ÿäº§æµç¨‹éƒ½ç»™å®žçŽ°äº†ï¼Œ æ¬åˆ°è‡ªå·±å®¶é‡Œï¼Œ å½“ç„¶æ—¶åŽ»è¶…å¸‚å•†åœºè´­ä¹°ä¸€å°æ´—è¡£æœºã€‚ ä½ éœ€è¦ç”µé¥­ç…²ï¼Œä¹Ÿä¸å¯èƒ½æŠŠç”µé¥­ç…²åœ°ç”Ÿäº§å·¥è‰ºå®žçŽ°äº†ï¼Œ ä¹Ÿæ˜¯åŽ»å•†åœºä¹°çŽ°æˆåœ°ã€‚ æ­¤æ—¶å•†åœºå°±æ˜¯ä¸€ä¸ªå®¹å™¨ï¼Œ å•†åœºå¸®æˆ‘ä»¬åŽ»å„ä¸ªå·¥åŽ‚é‡‡è´­è¿™äº›å•†å“ï¼Œ å½“æˆ‘ä»¬éœ€è¦æŸä»¶ç‰©å“æ—¶å°±å¯ä»¥åŽ»å•†åœºè´­ä¹°çŽ°æˆåœ°å•†å“ ä¾èµ–åè½¬åŽŸåˆ™ä¾èµ–æ³¨å…¥ å½“æŸä¸ªâ»†è§’â¾Šè‰²è¦å¦ä¸€ä¸ªè§’è‰²ååŠ©æ—¶ï¼Œé€šå¸¸ç”±è°ƒç”¨è€…æ¥åˆ›å»ºè¢«è°ƒç”¨è€…çš„å®žä¾‹ã€‚çŽ°åœ¨åˆ›å»ºå®žä¾‹ç”±å®¹å™¨æ¥å®Œæˆç„¶åŽæ³¨â¼Šè°ƒç”¨è€…ã€‚ æ³¨â¼Šå…¥è¿‡ç¨‹ å¦‚æžœéœ€è¦è°ƒç”¨å¦ä¸€ä¸ªå¯¹è±¡ååŠ©æ—¶ï¼Œæ— é¡»åœ¨ä»£ç ä¸­åˆ›å»ºè¢«è°ƒç”¨è€…ï¼Œè€Œæ˜¯ä¾èµ–äºŽå¤–éƒ¨çš„æ³¨â¼Š ä¾èµ–åè½¬æœ‰ä¸¤ç§æ–¹å¼ è®¾å€¼æ³¨å…¥ï¼ˆåœ¨ç±»ä¸Šæ–¹è®¾ç½®å­—æ®µï¼‰ æž„é€ æ³¨å…¥ ï¼ˆåœ¨constructorä¸­æŽ¥æ”¶éœ€è¦åœ°å‚æ•°ï¼‰ DIï¼ˆä¾èµ–æ³¨â¼Šå…¥ï¼‰ ä¾èµ–æ³¨â¼Šå…¥ï¼ˆDependency Injectionï¼‰ ä¸ºä¸€ä¸ªæ–¹æ³•åº”è¯¥éµä»Žâ€œä¾èµ–äºŽæŠ½è±¡è€Œä¸æ˜¯ä¸€ä¸ªå®žä¾‹â€ çš„æ¦‚å¿µã€‚ä¾èµ–æ³¨â¼Šæ˜¯è¯¥åŽŸåˆ™çš„ä¸€ç§å®žçŽ°â½…æ–¹å¼ã€‚ è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>ç¼–ç¨‹æ€æƒ³</category>
      </categories>
      <tags>
        <tag>oop</tag>
        <tag>ç¼–ç¨‹åŽŸåˆ™</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Cè¯­è¨€ã€‘å…¥é—¨çŸ¥è¯†]]></title>
    <url>%2F2019%2F03%2F23%2F%E3%80%90C%E8%AF%AD%E8%A8%80%E3%80%91%E5%85%A5%E9%97%A8%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[Cè¯­è¨€çš„è¯žç”Ÿè¦æ¯”JavaScriptæ—©å¾ˆå¤š, å±žäºŽä½Žçº§è¯­è¨€ï¼Œæ¯”è¾ƒæ“…é•¿å’Œç³»ç»Ÿäº¤äº’å†™åº•å±‚åº”ç”¨ã€‚ Cè¯­è¨€çš„ç¼–è¯‘å·¥å…·å°±æ˜¯gcc ðŸ¤¯å‰ç«¯ä¸é™ç«¯ä½œä¸ºä¸€åä¼˜è´¨çš„å‰ç«¯åˆ‡å›¾ä»”ï¼Œ ä¸åº”è¯¥æŠŠè‡ªå·±å›°æ­»åœ¨å‰ç«¯ä¸­ï¼Œ æ›´åº”è¯¥å¤šå¼€é˜”è§†é‡Žï¼Œ æœè¾ƒåº•å±‚çš„æ–¹å‘æŽ¢ç´¢ å½“ç„¶ï¼Œ è¿™åªæ˜¯é¸¡æ±¤ï¼Œ æˆ‘ä»¬æ¥çœ‹çœ‹å‰ç«¯å­¦ä¹ Cè¯­è¨€çš„å¿…è¦æ€§ ç¼–è¯‘å¼€æºè½¯ä»¶çš„æºä»£ç  Cè¯­è¨€åŸºæœ¬è¯­æ³•ï¼Œè¦çœ‹å¾—æ‡‚ä»£ç  æŒ‡é’ˆå’ŒCè¯­è¨€çš„å‘ ä»Žå†…å­˜å±‚é¢ç†è§£æ•°æ®ç»“æž„ æžæ‡‚V8çš„å†…å­˜ç®¡ç†æœºåˆ¶ åˆ†æžwebkitå¼•æ“Žä»£ç  ç”¨Cè¯­è¨€ç¼–å†™Node.jså’ŒPHPæ‰©å±•æ¨¡å— Cè¯­è¨€æ²‰æµ®å½•Cè¯­è¨€çš„å‰èº«æ˜¯Bè¯­è¨€ å¤©ç”Ÿçš„ç³»ç»Ÿçº§è¯­è¨€ æœ€æ—©ç”¨æ¥ç¼–å†™Unixå†…æ ¸ æ›¾ç»æœ€æµè¡Œçš„è¯­è¨€ è‡³ä»Šä»åœ¨ä¸æ–­å‘å±• Cè¯­è¨€å’ŒJavaScriptçš„å¼‚åŒ Cè¯­è¨€æ˜¯ç¼–è¯‘åž‹è¯­è¨€ Cè¯­è¨€è¦å€ŸåŠ©ç¼–è¯‘å™¨è½¬æ¢æˆå¯æ‰§è¡Œç¨‹åº JavaScriptæ˜¯è§£é‡Šåž‹è¯­è¨€ JavaScriptè¦å€ŸåŠ©è§£é‡Šå¼•æ“Žè¿è¡Œ éœ€è¦ç¼–è¯‘çš„è¯­è¨€ç»è¿‡ç¼–è¯‘åŽç”Ÿæˆç›®æ ‡ç¨‹åºï¼Œ å…¶å®žç”Ÿæˆç›®æ ‡ç¨‹åºæ—¶å·²ç»æ˜¯æœºå™¨æŒ‡ä»¤äº†ï¼Œ ä½†æ˜¯è®¡ç®—æœºä»æ—§æ— æ³•ç›´æŽ¥è¿è¡Œå®ƒï¼Œå› ä¸ºæ“ä½œç³»ç»Ÿæœ‰ä»–è‡ªå·±çš„è§„åˆ™ï¼Œ æƒ³è¦ç¬¦åˆæ“ä½œç³»ç»Ÿçš„è§„åˆ™ï¼Œ è¿™æ—¶å€™å°±è¦èµ°é“¾æŽ¥ï¼Œ é‚£é“¾æŽ¥åšäº†å“ªäº›äº‹è®©æ“ä½œç³»ç»Ÿèƒ½å¤Ÿè¯†åˆ«åˆ°è¯¥ç¨‹åºå‘¢ï¼š ç»™æ“ä½œç³»ç»Ÿä¸€ä¸ªè¯†åˆ«å—ï¼Œæ“ä½œç³»ç»Ÿå…ˆè¯»è¯†åˆ«å—å†è¿è¡Œç¨‹åº æŠŠç”Ÿæˆçš„å¾ˆå¤š.objæ–‡ä»¶ä¸²èµ·æ¥ï¼Œ è¿žæˆä¸€å— Cè¯­è¨€ä¸ŽC++è¯­è¨€çš„åŒºåˆ« C++æ˜¯æ–°çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹¶ä¸æ˜¯Cçš„æ‰©å±• Cè¯­è¨€æ˜¯é¢å‘è¿‡ç¨‹çš„ï¼ŒCï¼‹ï¼‹æ˜¯é¢å‘å¯¹è±¡çš„ Cå’ŒC++è¯­è¨€éƒ½æœ‰æ ‡å‡†åº“ã€standard.ioã€‘ ç›®å‰Cå¤§å¤šç”¨åœ¨ç½‘ç»œç›¸å…³å’ŒåµŒå…¥å¼ç­‰æ–¹é¢ã€ä¸ç®¡Pythonã€è¿˜æ˜¯JSï¼Œåº•å±‚éƒ½éœ€è¦Cè¯­è¨€åŸºæœ¬çŽ¯å¢ƒã€‘ ç›®å‰C++å¤§å¤šç”¨åœ¨å¤æ‚å¼•æ“Žå’Œåº”ç”¨è½¯ä»¶æ–¹é¢ ç†è§£å†…å­˜ä¸ŽæŒ‡é’ˆ å†…å­˜ä¸Žå†…å­˜åœ°å€ æŒ‡é’ˆã€åœ°å€ä¸Žå¼•ç”¨ æŒ‡å‘å˜é‡çš„æŒ‡é’ˆ æŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆ æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ åŠ¨æ€å†…å­˜åˆ†é… è¦ç†è§£å†…å­˜å’ŒæŒ‡é’ˆé¦–å…ˆæˆ‘ä»¬åº”è¯¥çŸ¥é“å†…å­˜åœ¨è®¡ç®—æœºä¸­æ˜¯ä»€ä¹ˆæ ·å­çš„ï¼Œ æˆ‘ä»¬å¯ä»¥æŠŠå†…å­˜çœ‹ä½œæ˜¯ä¸€ä¸ªæ‰“äº†å¾ˆå¤šæ ¼å­çš„å°çº¸æ¡ï¼Œæ¯ä¸ªæ ¼å­å°±æ˜¯å†…å­˜çš„åŸºæœ¬å­˜å‚¨å•ä½, 1ä¸ªå•ä½æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œä¹Ÿå°±æ˜¯ä¸€ä¸ªbyte, è€Œä¸€ä¸ªbyteç­‰äºŽ8ä¸ªbitï¼Œé‚£æˆ‘ä»¬è¯¥å¦‚ä½•æ‰¾åˆ°å¯¹åº”çš„å†…å­˜å‘¢ï¼Œ å®žé™…ä¸Šå†…å­˜æ˜¯æœ‰ç¼–å·çš„ï¼Œè¿™ä¸ªç¼–å·ä»Ž0å¼€å§‹ï¼Œ ä½œä¸ºå†…å­˜çš„åœ°å€ï¼ˆé—¨ç‰Œï¼‰ æŒ‡é’ˆ æŒ‡é’ˆå…¶å®žä¹Ÿæ˜¯å¯ä»¥è¿ç®—çš„ï¼Œä½†å¤§å¤šæ•°æƒ…å†µæ²¡æœ‰æ„ä¹‰ï¼Œ ä¸€èˆ¬ç”¨åœ¨è®¡ç®—å­˜å‚¨ç©ºé—´ å®¹çº³å†…å­˜åœ°å€çš„å˜é‡å°±æ˜¯æŒ‡é’ˆ Cè¯­è¨€ä¸­ï¼Œ æŒ‡é’ˆä¹Ÿæ˜¯æœ‰ç±»åž‹çš„ï¼Œ å› ä¸ºä¸åŒçš„æ•°æ®ç±»åž‹å¯¹åº”å†…å­˜ä¸­çš„æ‰€å çš„å¤§å°ä¸ä¸€æ ·ï¼Œ å®šä¹‰ç±»åž‹æ˜¯ä¸ºäº†ä»Žå†…å­˜ä¸­æ‹¿å‡ºæ­£ç¡®é•¿åº¦çš„æ•°æ®ï¼Œ æ¯”å¦‚ï¼š çŸ­æ•´åž‹åªå ä¸¤ä¸ªå­—èŠ‚ã€ é•¿æ•´åž‹å 4ä¸ªå­—èŠ‚ã€ è¶…é•¿æ•´åž‹å 8ä¸ªå­—èŠ‚ã€å•ç²¾åº¦æµ®ç‚¹åž‹å 6ä¸ªå­—èŠ‚ã€ åŒç²¾åº¦æµ®ç‚¹åž‹å 8ä¸ªå­—èŠ‚ å¦‚æžœä¸æ­£ç¡®å®šä¹‰æŒ‡é’ˆçš„ç±»åž‹ï¼Œå°±ä¼šå¯¼è‡´ä»Žå†…å­˜ä¸­æ‹¿å‡ºæ¥çš„é•¿åº¦æ˜¯é”™çš„ï¼Œ ä¹Ÿå°±æ˜¯å¯¼è‡´å¾—åˆ°çš„å€¼æ˜¯é”™çš„ ðŸ•µï¸â€ä¸€çº§æŒ‡é’ˆç»“æž„ ðŸ•µï¸â€äºŒçº§æŒ‡é’ˆç»“æž„ ðŸ¤’å£°æ˜ŽæŒ‡é’ˆ ä¸€å¼€å§‹å£°æ˜Žçš„æŒ‡é’ˆæˆ‘ä»¬åªèƒ½ç»™ä»–ä¸€ä¸ªNullæˆ–æ˜¯ å†…å­˜åœ°å€, å› ä¸ºä¸€ä¸ªå…·ä½“çš„å€¼å¯¹äºŽæŒ‡é’ˆæ˜¯æ²¡æœ‰æ„ä¹‰çš„ï¼Œ å£°æ˜Žä¸€ä¸ªæ•´åž‹çš„æŒ‡é’ˆ12345// å£°æ˜Žä¸€ä¸ªå˜é‡ï¼Œ ä¼šè‡ªåŠ¨åˆ†é…å†…å­˜int a = 10;// å£°æ˜Žä¸€ä¸ªæŒ‡å‘å˜é‡açš„æŒ‡é’ˆint * p_a = &amp;a; ðŸ§ç›´æŽ¥å¯»å€å’Œé—´æŽ¥å¯»å€ç›´æŽ¥ä½¿ç”¨å˜é‡å’Œåˆ©ç”¨æŒ‡é’ˆè®¿é—®çš„ç»“æž„æ˜¯ä¸€æ ·çš„12printf(a); // 10printf( *p ); // 10 ðŸ¤’äºŒçº§æŒ‡é’ˆåŠå¤šçº§æŒ‡é’ˆ ä¸ç®¡æ˜¯å‡ çº§æŒ‡é’ˆç¼–è¯‘å™¨éƒ½æ˜¯èƒ½å¤Ÿé€šè¿‡çš„ 12345678// å£°æ˜Žä¸€ä¸ªå˜é‡ï¼Œ ä¼šè‡ªåŠ¨åˆ†é…å†…å­˜int a = 10;// å£°æ˜Žä¸€ä¸ªæŒ‡å‘å˜é‡açš„æŒ‡é’ˆint * p_a = &amp;a;// å£°æ˜Žä¸€ä¸ªæŒ‡å‘æŒ‡é’ˆçš„æŒ‡é’ˆint ** pp_a = &amp;p_a; æŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ å‡½æ•°å®ƒæœ¬èº«ä¹Ÿåœ¨å†…å­˜å½“ä¸­, å½“æˆ‘ä»¬çœ‹åˆ°ä¸€ä¸ªæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆæ—¶å°±ä»£è¡¨ç€å‡½æ•°è°ƒç”¨ï¼Œ å›žè°ƒå‡½æ•°å°±æ˜¯åŸºäºŽæŒ‡é’ˆçš„ Cè¯­è¨€çš„å‡½æ•°æ˜¯æœ‰åŽŸåž‹çš„ å£°æ˜Žä¸€ä¸ªä¸¤æ•°ç›¸åŠ å‡½æ•°çš„åŽŸåž‹12// å‡½æ•°è¿”å›žç±»åž‹åŠå‚æ•°ç±»åž‹int add( int, int ); å®žçŽ°å‡½æ•°1234int add(int v1, int v2) &#123; return v1 + v2;&#125; åˆ›å»ºæŒ‡å‘å‡½æ•°çš„æŒ‡é’ˆ12int*(int, int) p_func;p_func = add; å¼•ç”¨å¼•ç”¨æ˜¯å¯¹æŒ‡é’ˆçš„å°è£…ï¼Œ çŽ°ä»£è¯­è¨€ä¸å…è®¸ä½ ç›´æŽ¥åŽ»æ“ä½œåœ°å€ å› ä¸ºçŽ°ä»£è¯­è¨€éƒ½è‡ªå¸¦ç€åžƒåœ¾å›žæ”¶æœºåˆ¶ï¼Œ åœ¨åžƒåœ¾å›žæ”¶çš„è¿‡ç¨‹ä¸­ï¼Œ åœ°å€ä¼šç»å¸¸æ”¹å˜ï¼Œ æ”¹å˜åœ°å€çš„ç›®çš„æ˜¯ä¸ºäº†æé«˜å†…å­˜çš„åˆ©ç”¨æ•ˆçŽ‡ï¼Œ ä½¿å†…å­˜è¿žç»­ å†…å­˜åŠ¨æ€åˆ†é…Cè¯­è¨€ä¸»è¦åˆ†å¦‚ä¸‹å››ä¸ªåŒº å†…å­˜ æè¿° ç‰¹æ€§ æ ˆåŒº æ˜¯ä¸€ä¸ªç¡®å®šçš„å¸¸æ•°(1~2M) ä¸åŒå¹³å°ä¼šæœ‰ä¸åŒå¤§å°ï¼Œè¶…å‡ºä¼šæç¤ºstackoverflow è‡ªåŠ¨åˆ†é…, è‡ªåŠ¨é‡Šæ”¾ å †åŒº ç”¨äºŽåŠ¨æ€å†…å­˜åˆ†é… æ‰‹åŠ¨åˆ†é…å’Œé‡Šæ”¾ ï¼Œ å¯å ç”¨80%å†…å­˜ å…¨å±€åŒºæˆ–é™æ€åŒº åœ¨ç¨‹åºä¸­æ˜Žç¡®è¢«åˆå§‹åŒ–çš„å…¨å±€å˜é‡ã€é™æ€å˜é‡ï¼ˆåŒ…æ‹¬å…¨å±€é™æ€å˜é‡å’Œå±€éƒ¨é™æ€å˜é‡ï¼‰å’Œå¸¸é‡æ•°æ®ï¼ˆå¦‚å­—ç¬¦ä¸²å¸¸é‡ï¼‰ åªåˆå§‹åŒ–ä¸€æ¬¡ ç¨‹åºä»£ç åŒº ä»£ç åŒºæŒ‡ä»¤æ ¹æ®ç¨‹åºè®¾è®¡æµç¨‹ä¾æ¬¡æ‰§è¡Œï¼Œå¯¹äºŽé¡ºåºæŒ‡ä»¤ï¼Œåˆ™åªä¼šæ‰§è¡Œä¸€æ¬¡ï¼ˆæ¯ä¸ªè¿›ç¨‹ï¼‰ï¼Œå¦‚æžœåå¤ï¼Œåˆ™éœ€è¦ä½¿ç”¨è·³è½¬æŒ‡ä»¤ï¼Œå¦‚æžœè¿›è¡Œé€’å½’ï¼Œåˆ™éœ€è¦å€ŸåŠ©æ ˆæ¥å®žçŽ°ã€‚ ä»£ç åŒºçš„æŒ‡ä»¤ä¸­åŒ…æ‹¬æ“ä½œç å’Œè¦æ“ä½œçš„å¯¹è±¡ï¼ˆæˆ–å¯¹è±¡åœ°å€å¼•ç”¨ï¼‰ æ ˆåŒºï¼š è¿˜ç”¨æ¥ä¿å­˜å½“å‰å‡½æ•°çš„å±€éƒ¨å˜é‡ å †åŒºï¼š å­˜æ”¾newå‡ºæ¥çš„å˜é‡ å…¨å±€åŒºæˆ–é™æ€åŒº: å­˜æ”¾å…¨å±€å˜é‡åŠå¯¹è±¡çš„é™æ€å˜é‡ ç¨‹åºä»£ç åŒº: å­˜æ”¾æŒ‡ä»¤ã€ä»£ç ï¼Œ ä»¥å‰çš„é‡‘å±±æ¸¸ä¾ ä¿®æ”¹å™¨å°±æ˜¯ä¸“é—¨æ”¹ç¨‹åºä»£ç åŒºçš„ åˆ†é…å†…å­˜ä»£ç 123456789101112131415161718int * p;// size_t è¡¨ç¤ºä¸€ä¸ªæ— ç¬¦å·æ•´åž‹// p = malloc( size_t );// ç»™æ•´åž‹åˆ†é…ç©ºé—´å¿…é¡» ä¼ å…¥æ•´åž‹é•¿åº¦çš„å€æ•°ï¼ˆ æ•´åž‹é•¿åº¦æ˜¯ 4ä¸ªå­—èŠ‚ï¼‰// è¿™æ ·æˆ‘å°±ç”³è¯·äº†40ä¸ªå­—èŠ‚çš„å†…å­˜ç©ºé—´ï¼Œ å®ƒèƒ½å®¹çº³10ä¸ªæ•´åž‹çš„æ•°å­—p = malloc(40);// å®žé™…ä¸Š malloc ç”³è¯·åˆ°çš„æ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œ ä¸‹é¢è¿™æ ·æ˜¯å¯¹å‰4ä¸ªå­—èŠ‚è¿›è¡Œèµ‹å€¼*p = 1;// å®žé™…ç­‰ä»·äºŽp[0] = 1;// å¦‚æžœä½ è¦ç»™å…¶ä»–ä½ç½®çš„å­—èŠ‚èµ‹å€¼, è¿™æ ·è¡¨ç¤ºå‘åŽç§»åŠ¨ä¸€ä¸ªå…ƒç´ å•ä½çš„ä½ç½®*(p+1) = 2; // ç­‰ä»·äºŽp[1] = 2; é‡Šæ”¾å†…å­˜1free(p)]]></content>
      <categories>
        <category>Cè¯­è¨€</category>
      </categories>
      <tags>
        <tag>Cè¯­è¨€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Linuxã€‘ç†è§£æƒé™å‘½ä»¤-chown]]></title>
    <url>%2F2019%2F03%2F22%2F%E3%80%90Linux%E3%80%91%E7%90%86%E8%A7%A3chown%E5%91%BD%E4%BB%A4%2F</url>
    <content type="text"><![CDATA[123456789101112131415161718192021# æ›´æ”¹æ–‡ä»¶å±žç»„chgrp [-R] å±žç»„å æ–‡ä»¶å# æ›´æ”¹æ–‡ä»¶å±žä¸» æˆ– å±žç»„chown [-R] å±žä¸»å æ–‡ä»¶åchown [-R] å±žä¸»åï¼šå±žç»„å æ–‡ä»¶å# ä¿®æ”¹æ–‡ä»¶æƒé™ 9 ä¸ªå±žæ€§# æœ‰ä¸¤ç§è®¾ç½®æ–¹å¼ï¼Œ ä¸€ç§æ˜¯æ•°å­— ä¸€ç§æ˜¯ç¬¦å·# åŸºæœ¬èº«ä»½ owner/group/others çš„å„è‡ªä¸‰ç§æƒé™# read(r 4)/write(w 2)/execute(x 1): -rwxr-xr-- = [4+2+1][4+0+1][4+0+0]=754chmod [-R] xyz æ–‡ä»¶æˆ–ç›®å½•# ç¬¦å·ä¿®æ”¹æƒé™chmod u(user) +(åŠ å…¥) r æ–‡ä»¶æˆ–ç›®å½• g(group) -(å‡åŽ») w o(others) =(è®¾å®š) x a(all å…¨éƒ¨èº«ä»½) chmod u=rwx,g=rx, o=r æ–‡ä»¶åchmod a-x test1 å›¾è§£]]></content>
      <categories>
        <category>Linux</category>
      </categories>
      <tags>
        <tag>Linux</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[é¢è¯•é¢˜é›†åˆ]]></title>
    <url>%2F2019%2F03%2F20%2F%E9%9D%A2%E8%AF%95%E9%A2%98%E9%9B%86%E5%90%88%2F</url>
    <content type="text"><![CDATA[äº‹ä»¶æœºåˆ¶Promiseé¢˜ç›®ä¸€:123456789101112131415setTimeout(() =&gt; &#123; console.log(4)&#125;, 0)new Promise(resolve =&gt; &#123; console.log(1) setTimeout(() =&gt; &#123; resolve("done") console.log(6) &#125;, 0) resolve(5)&#125;).then((res) =&gt; &#123; // å¾®ä»»åŠ¡ console.log(res)&#125;)console.log(2) ç­”æ¡ˆ: 1 , 2 , 5 , 4, 6 æ³¨æ„ï¼Œ æ²¡æœ‰doneï¼ åˆ†æž:Promise çš„resolveåªä¼šè§¦å‘ä¸€æ¬¡ï¼Œ å› ä¸ºPromiseçš„çŠ¶æ€å·²ç»è¢«ä¿®æ”¹ä¸ºresolve æ‰€ä»¥ç¬¬äºŒæ¬¡çš„resolve ä¸ä¼šè§¦å‘ é¢˜ç›®äºŒ:1234567891011121314151617181920setTimeout(() =&gt; &#123; console.log(4)&#125;, 0)new Promise(resolve =&gt; &#123; console.log(1) new Promise(resolve =&gt; &#123; console.log(7) setTimeout(() =&gt; &#123; resolve("done") console.log("aa") &#125;, 0) resolve(8) &#125;).then((res) =&gt; &#123; console.log(res) &#125;) resolve(5)&#125;).then((res) =&gt; &#123; console.log(res)&#125;)console.log(2) ç­”æ¡ˆ: 1, 7, 2, 8 , 5 , 4 , aa åˆ†æž:Promiseçš„å®Œæˆå…ˆåŽè¿˜å¾—çœ‹è°å…ˆæŒ‚è½½äº† thenï¼Œ å¹¶ä¸æ˜¯è°å…ˆnewå°±æ˜¯è° ES6ç³»åˆ—async await:é¢˜ç›®ä¸€: async ä»€ä¹ˆåŽŸç† ?ä¾‹å­:1234async function test () &#123; let result = await 10 &#125;test() ç»è¿‡ Babel è½¬æ¢12345678910111213while (1) &#123; switch (_context.prev = _context.next) &#123; case 0: _context.next = 2; return 10; case 2: result = _context.sent; case 3: case "end": return _context.stop(); &#125; åˆ†æžæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç»è¿‡babel è½¬æ¢è¿‡çš„ async await ä»£ç ä¸­å…³é”®çš„è¿™å¥ï¼Œ whileå¾ªçŽ¯ï¼Œ å¹¶ä¸”æ˜¯ä¸€ä¸ªæ­»å¾ªçŽ¯ï¼Œ babel å°±æ˜¯è¿™æ ·æ¥æ¨¡æ‹Ÿ async awaitçš„ï¼Œ å½“awaitè¿”å›žç»“æžœæ—¶ï¼Œ _context.stopæŠ›å‡ºå¼‚å¸¸é€€å‡ºæ­»å¾ªçŽ¯ , babelè¿™æ ·åšä¹Ÿæ˜¯ä¸ºäº†æ›´å¥½çš„æ•èŽ·å¼‚å¸¸ é¢˜ç›®äºŒ: è¯·é—®resultè¾“å‡ºå‡  ?12345678var a = 0async function test () &#123; let result = a + await 10 console.log(result)&#125;test()a = a + 1test() ç­”æ¡ˆ: 10 , 11 åˆ†æž: await åŽå¦‚æžœæ˜¯ä¸€ä¸ªå¸¸é‡, å°†ä½œä¸º Promise.resolveçš„ç»“æžœè¿”å›ž å› ä¸º async await æ˜¯ generatorçš„è¯­æ³•ç³–ï¼Œ å½“æ‰§è¡Œ test æ–¹æ³•æ—¶ï¼Œ å˜é‡açš„å€¼ä¼šè¢«é”ä½ æ‰€ä»¥ç¬¬ä¸€ä¸ªç»“æžœæ˜¯10ï¼Œ ç¬¬äºŒä¸ªç»“æžœæ˜¯ 11 Promiseé¢˜ç›®ä¸€: è¯·ç”¨ ES5å®žçŽ°ES6 Promise A+è§„èŒƒçš„ä»£ç ï¼Œ ç”¨æ—¶ä½ èƒ½è§£é‡Šä¸‹å¦‚ä½•ä½¿ç”¨Promiseå®Œæˆäº‹åŠ¡çš„æ“ä½œå—]]></content>
      <categories>
        <category>é¢è¯•</category>
      </categories>
      <tags>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[TypeScriptæ‰‹å†Œ]]></title>
    <url>%2F2019%2F03%2F18%2FTypeScript%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[TypeScriptæ˜¯JavaScriptçš„è¶…é›† å¼€å‘çŽ¯å¢ƒæ­å»º æˆ‘çš„çŽ¯å¢ƒ: window10 + vscode å…¨å±€å®‰è£…Ts npm i -g typescript ç”Ÿæˆå¹¶é…ç½®tsconfig.json tsc â€“init é…ç½®æ–‡ä»¶ï¼Œ ä¸‹é¢çš„é…ç½®ä¸­tsåº”å­˜æ”¾åœ¨src ç›®å½•ä¸‹ï¼Œ å¹¶ä¸”ä¼šè‡ªåŠ¨ç¼–è¯‘åˆ°distæ–‡ä»¶å¤¹ä¸‹1234567891011121314151617181920212223242526272829303132333435&#123; "compilerOptions": &#123; "target": "es2017", // æŒ‡å®š ECMAScript ç›®æ ‡ç‰ˆæœ¬: 'ES3' (default), 'ES5', 'ES2015', 'ES2016', 'ES2017', or 'ESNEXT' "module": "commonjs", // æŒ‡å®šä½¿ç”¨æ¨¡å—: 'commonjs', 'amd', 'system', 'umd' or 'es2015' "moduleResolution": "node", // é€‰æ‹©æ¨¡å—è§£æžç­–ç•¥ï¼š 'node' (Node.js) or 'classic' (TypeScript pre-1.6) "emitDecoratorMetadata": true, // ä¸ºè£…é¥°å™¨æä¾›å…ƒæ•°æ®çš„æ”¯æŒ "experimentalDecorators": true, // å¯ç”¨è£…é¥°å™¨ "allowSyntheticDefaultImports": true, // å…è®¸ä»Žæ²¡æœ‰è®¾ç½®é»˜è®¤å¯¼å‡ºçš„æ¨¡å—ä¸­é»˜è®¤å¯¼å…¥ã€‚ "strict": true, // å¯ç”¨æ‰€æœ‰ä¸¥æ ¼ç±»åž‹æ£€æŸ¥é€‰é¡¹ "noImplicitAny": true, // åœ¨è¡¨è¾¾å¼å’Œå£°æ˜Žä¸Šæœ‰éšå«çš„ anyç±»åž‹æ—¶æŠ¥é”™ "alwaysStrict": true, // ä»¥ä¸¥æ ¼æ¨¡å¼æ£€æŸ¥æ²¡ä¸ªæ¨¡å—ï¼Œå¹¶åœ¨æ²¡ä¸ªæ–‡ä»¶é‡ŒåŠ å…¥ 'use strict' "sourceMap": true, "noEmit": false, // ä¸ç”Ÿæˆè¾“å‡ºæ–‡ä»¶ "removeComments": true, // åˆ é™¤ç¼–è¯‘åŽçš„æ‰€æœ‰çš„æ³¨é‡Š "importHelpers": true, // ä»Ž tslib å¯¼å…¥è¾…åŠ©å·¥å…·å‡½æ•° "strictNullChecks": true, // å¯ç”¨ä¸¥æ ¼çš„ null æ£€æŸ¥ "lib": ["es2017"], // æŒ‡å®šè¦åŒ…å«åœ¨ç¼–è¯‘ä¸­çš„åº“æ–‡ä»¶ "typeRoots": ["node_modules/@types"], "types": [ "node", ], "outDir": "./dist", // ç¼–è¯‘åŽæ–‡ä»¶äº§å‡ºç›®å½• "rootDir": "./src" // ä½ çš„tsæ–‡ä»¶ç›®å½• &#125;, "include": [ // éœ€è¦ç¼–è¯‘çš„tsæ–‡ä»¶ä¸€ä¸ª*è¡¨ç¤ºæ–‡ä»¶åŒ¹é…**è¡¨ç¤ºå¿½ç•¥æ–‡ä»¶çš„æ·±åº¦é—®é¢˜ "./src/*.ts", "./src/**/*.ts" ], "exclude": [ "node_modules", "dist", "**/*.test.ts", "public" ]&#125; å¿«é€Ÿç”Ÿæˆpackage.json npm init -y è¿è¡Œå‘½ä»¤ï¼Œ å¼€å§‹ç›‘å¬ tsc -w æ˜¯å¦æœ‰æ•ˆå‘¢ï¼Ÿ è®©æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ è¿›å…¥srcç›®å½•æ–°å»ºä¸€ä¸ª hello.tsï¼Œè®°å¾—æ˜¯.tsï¼Œ ä¸è¦å†™ä¹ æƒ¯äº†æ‰“æˆ.jsðŸ˜… éšä¾¿å†™ç‚¹ä¸œè¥¿ï¼Œ æ¯”å¦‚å®šä¹‰ä¸€ä¸ªå­—ç¬¦ä¸²ç±»åž‹:1var a:string = "hello world" å¦‚æžœä½ é…ç½®æ²¡æœ‰é—®é¢˜çš„è¯ï¼Œ æˆ‘ä»¬å°±ä¼šçœ‹åˆ°ä»–ç›‘å¬æ–‡ä»¶ä¿®æ”¹å¹¶ç¼–è¯‘ è¿™æ˜¯tsæ–‡ä»¶ä¸Ž ç¼–è¯‘åŽçš„jsæ–‡ä»¶ å¹¶ä¸”åœ¨ä»–è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œ æˆ‘ä»¬å¯ä»¥æŒ‰F5è¿›è¡Œè°ƒè¯• åŸºæœ¬æ•°æ®ç±»åž‹ Boolean Number String Array Enum Any Void ç®€å•çš„å‡ ç§æ•°æ®çš„å®šä¹‰123456// å®šä¹‰ä¸€ä¸ªBooleanvar a:boolean = true// å®šä¹‰ä¸€ä¸ªNumbervar a:number = 13// å®šä¹‰ä¸€ä¸ª String var a:string = "13" åŸºæœ¬çš„æ•°æ®ç»“æž„å®šä¹‰1var list:number[] = [1,2,3] æŽ¥å£ interfaces åŸºç¡€æŽ¥å£æ²¡æœ‰æŽ¥å£æ—¶æˆ‘ä»¬å¦‚ä½•è§„èŒƒå‚æ•°ç±»åž‹12345function fn(dog:&#123;name:string&#125;) &#123; console.log(dog.name)&#125;var myObj = &#123; name: "Hello" &#125;fn(myObj) æœ‰äº†æŽ¥å£ï¼Œ æˆ‘ä»¬å°±å¯ä»¥æŠŠå‚æ•°è§„å®šä¸Žå‡½æ•°åˆ†ç¦» å¦‚ä½•åˆ›å»ºæŽ¥å£ é€šè¿‡ interface å…³é”®å­—æ¥å£°æ˜Ž 1234567891011interface dogValue &#123; name:string;&#125;// æŒ‡å®šå‚æ•°`dog`æ˜¯æŽ¥å£ç±»åž‹function fn(dog: dogValue) &#123; console.log(dog.name)&#125;var myObj = &#123; name: "Hello" &#125;fn(myObj) // ç¼–è¯‘é€šè¿‡ æŽ¥å£çš„å¯é€‰å±žæ€§æŽ¥å£å®šä¹‰çš„å‚æ•°ä¸ä¸€å®šæ¯ä¸€ä¸ªéƒ½ä¼šè¢«ç”¨åˆ° æ³›åž‹ä»€ä¹ˆæ˜¯æ³›åž‹? æ³›åž‹: æŠŠç±»åž‹æ˜Žç¡®çš„å·¥ä½œæŽ¨è¿Ÿåˆ°åˆ›å»ºå¯¹è±¡æˆ–è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æ‰åŽ»æ˜Žç¡®çš„ç‰¹æ®Šçš„ç±»åž‹ ä¸€å¥è¯ç†è§£å°±æ˜¯ï¼š å‚æ•°åŒ–ç±»åž‹ï¼ˆæŠŠç±»åž‹å½“ä½œæ˜¯å‚æ•°ä¸€æ ·ä¼ é€’ï¼‰ ä½¿ç”¨æ³›åž‹çš„å¥½å¤„: ä»£ç æ›´åŠ ç®€æ´ã€ä¸ç”¨å¼ºåˆ¶è½¬æ¢ã€‘ ç¨‹åºæ›´åŠ å¥å£®ã€åªè¦ç¼–è¯‘æ—¶æœŸæ²¡æœ‰è­¦å‘Šï¼Œé‚£ä¹ˆè¿è¡Œæ—¶æœŸå°±ä¸ä¼šå‡ºçŽ°ClassCastExceptionå¼‚å¸¸ã€‘ å¯è¯»æ€§å’Œç¨³å®šæ€§ã€åœ¨ç¼–å†™é›†åˆçš„æ—¶å€™ï¼Œå°±é™å®šäº†ç±»åž‹ã€‘ æŒ‡å®šä¸€ä¸ªæœ€ç®€å•çš„æ³›åž‹123function Hello&lt;T&gt;(arg:T):T &#123; return arg;&#125; Module æ¨¡å—Module æ¨¡å¼æ˜¯å¸¸è§çš„JavaScriptæ¨¡å¼ä¹‹ä¸€ï¼Œ åœ¨ES6çš„æ¨¡å—è¯å®žçŽ°ä¹‹å‰ï¼Œ äººä»¬é€šå¸¸é€šè¿‡ IFEE æ¥å®žçŽ°Module Module çš„å¥½å¤„ æ¨¡å—åŒ– å¯é‡ç”¨ å°è£…å˜é‡å’Œå‡½æ•° æ¥çœ‹çœ‹åœ¨ES6ä¹‹å‰æ˜¯å¦‚ä½•ä¹¦å†™çš„123(function() &#123; // do somtiong&#125;()); è®©æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œ ä½¿ç”¨ TS çš„ Module æ¥é˜²æ­¢è°ƒç”¨å¤šç§ interface æ—¶çš„éº»çƒ¦ ä½¿ç”¨Moduleä¹‹å‰1234567891011121314151617interface StringValidator &#123; // æŽ¥å£å®šä¹‰çš„æ–¹æ³• isAcceptable(s:string):boolean;&#125;var lettersRegexp = /^[A-Za-z]+$]/;var numberRegexp = /^[0-9]+$/;// å®žçŽ°æŽ¥å£çš„æ–¹æ³•class LettersOnlyValidator implements StringValidator &#123; isAcceptable(s:string):boolean &#123; return lettersRegexp.test(s) &#125;&#125; class ZipCodeValidator implements StringValidator &#123; isAcceptable(s:string):boolean &#123; return s.length === 5 &amp;&amp; numberRegexp.test(s) &#125;&#125; ä½¿ç”¨äº†Module çš„ä¹¦å†™æ–¹å¼åŽ 1234567891011121314151617181920module Validation &#123; // éœ€è¦ä½¿ç”¨ export æ¥è¡¨ç¤ºå¯¹å¤–æš´éœ² export interface StringValidator &#123; isAcceptable(s:string): boolean; &#125; var lettersRegexp = /^[A-Za-z]+$]/; var numberRegexp = /^[0-9]+$/; export class LettersOnlyValidator implements StringValidator &#123; isAcceptable(s:string) &#123; return lettersRegexp.test(s) &#125; &#125; export class ZipCodeValidator implements StringValidator &#123; isAcceptable(s:string):boolean &#123; return s.length === 5 &amp;&amp; numberRegexp.test(s) &#125; &#125;&#125; Module ä¸Ž ç±»ç›¸ç»“åˆä½¿ç”¨12345678910111213141516171819module Person &#123; export class Student &#123; name: string; constructor(name:string) &#123; this.name = name; &#125; study() &#123; console.log(this.name + 'åœ¨å­¦ä¹ ') &#125; speak() &#123; console.log(this.name + 'åœ¨è¯´è¯') &#125; &#125;&#125;// ----------- ä½¿ç”¨æ—¶ -------------const xiaoming = new Person.Student('å°æ˜Ž')xiaoming.study() NamespacesNamespaces çš„å’ŒModule çš„ç”¨æ³•ç›¸åŒï¼Œ åœ¨Ts çš„1.5 ç‰ˆæœ¬åŽï¼Œ ç”¨ Namespaces å–ä»£äº† Module æŸ¥çœ‹ä¸€ä¸‹å®˜æ–¹çš„ç¤ºä¾‹ 123456789namespace Shapes &#123; export namespace Polygons &#123; export class Triangle &#123; &#125; export class Square &#123; &#125; &#125;&#125;import polygons = Shapes.Polygons;let sq = new polygons.Square(); // Same as 'new Shapes.Polygons.Square()' è£…é¥°å™¨ &lt; Decorators &gt;å¦‚ä½•å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨ å…¶å®žè£…é¥°å™¨å°±æ˜¯ä¸€ä¸ªæ™®é€šçš„å‡½æ•°ï¼Œ ä»–æŽ¥æ”¶ä¸€ä¸ªå‚æ•°target ï¼Œè¿™ä¸ªå‚æ•°å°±æ˜¯è¢«è£…é¥°å¯¹è±¡ï¼Œ çœ‹ä¸‹é¢çš„ä¾‹å­ï¼Œ sealed è£…é¥°äº†Dogç±»ï¼Œ å¹¶ä¸”åœ¨sealed ä¸­æ‰“å°äº† target ï¼Œ è®©æˆ‘ä»¬çœ‹çœ‹ targetåˆ°åº•æ˜¯ä»€ä¹ˆï¼Ÿ123456789101112function sealed(target:any) &#123; // do something with 'target' ... console.log(target) return target&#125;// è¢«è£…é¥°çš„å¯¹è±¡ foo@sealedclass Dog &#123;&#125; æ‰“å°ç»“æžœ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ å¾—åˆ°çš„æ­£æ˜¯ Dogè¿™ä¸ªç±» è£…é¥°å™¨å·¥åŽ‚&lt; Decorator Factories &gt; å¦‚æžœå¸Œæœ›è‡ªå®šä¹‰å¦‚ä½•å°†è£…é¥°å™¨åº”ç”¨äºŽå£°æ˜Žï¼Œå¯ä»¥ç¼–å†™è£…é¥°å™¨å·¥åŽ‚ã€‚è£…é¥°å™¨å·¥åŽ‚åªæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œå®ƒè¿”å›žå°†åœ¨è¿è¡Œæ—¶ç”±è£…é¥°å™¨è°ƒç”¨çš„è¡¨è¾¾å¼ã€‚ è£…é¥°å™¨å·¥åŽ‚å’Œæ™®é€šè£…é¥°å™¨ç›¸æ¯”çš„å¥½å¤„å°±æ˜¯æ›´åŠ çš„è‡ªå®šä¹‰äº†ï¼Œ å¯ä»¥æ ¹æ®ä¸åŒæƒ…å†µè‡ªå®šä¹‰æ•ˆæžœ å¦‚ä½•å®šä¹‰ä¸€ä¸ªè£…é¥°å™¨å·¥åŽ‚ 123456789101112function dec(value:string) &#123; return function (target:any) &#123; console.log(value) console.log(target) &#125;&#125;// åœ¨è¿™é‡Œä½¿ç”¨å¹¶ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°@dec('test')class Cat &#123; &#125; è®©æˆ‘ä»¬æ¥çœ‹çœ‹è¿è¡Œçš„ç»“æžœ å¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬ä¼ å…¥çš„testå­—ç¬¦ä¸²å’Œ Catç±»éƒ½è¢«æ‰“å°å‡ºæ¥äº†ï¼Œ å¤šè£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºä½¿ç”¨å¤šä¸ªè£…é¥°å™¨æ—¶å¦‚ä½•ä¹¦å†™å‘¢? å½“æˆ‘ä»¬ä½¿ç”¨å¤šä¸ªè£…é¥°å™¨æ—¶æœ‰ä¸¤ç§å†™æ³• å†™æˆä¸€è¡Œ 1@f @g x åž‚ç›´ä¹¦å†™ 123@f@gx å¤šä¸ªè£…é¥°å™¨çš„æ‰§è¡Œé¡ºåºæ˜¯å¦‚ä½•çš„å‘¢ï¼Ÿ å¥—ç”¨å®˜ç½‘çš„è¯´æ˜Ž å¯¹æ¯ä¸ªè£…é¥°å™¨çš„è¡¨è¾¾å¼è¿›è¡Œè‡ªä¸Šè€Œä¸‹çš„è®¡ç®—ã€‚ ç„¶åŽå°†ç»“æžœä½œä¸ºè‡ªä¸‹è€Œä¸Šçš„å‡½æ•°è°ƒç”¨ã€‚ å…¶å®žçœŸå®žçš„è¿è¡ŒåŽŸç†æ˜¯1f(g(x)) è®¿é—®å™¨ä¿®é¥°å™¨è®¿é—®å™¨ä¿®é¥°å™¨çš„æŽ¥æ”¶çš„å‚æ•°å’Œæ–¹æ³•ä¿®é¥°å™¨æŽ¥æ”¶çš„å‚æ•°ä¸€æ · 123456789101112131415161718192021function dec(value:string) &#123; return function (target:any, propertyKey: string, descriptor: PropertyDescriptor) &#123; &#125;&#125;// åœ¨è¿™é‡Œä½¿ç”¨å¹¶ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°@dec('test')class Cat &#123; private _x: number; private _y: number; constructor(x: number, y: number) &#123; this._x = x this._y = y &#125; // è®¿é—®å™¨ä¿®é¥°å™¨ @dec(true) get x() &#123; return this._x &#125; @dec(false) get y() &#123; return this._y &#125;&#125; å±žæ€§ä¿®é¥°å™¨å±žæ€§ä¿®é¥°å™¨åªæœ‰å‰ä¸¤ä¸ªå‚æ•°123456789101112131415161718function dec(value:string) &#123; return function (target:any, propertyKey: string) &#123; &#125;&#125;// åœ¨è¿™é‡Œä½¿ç”¨å¹¶ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°@dec('test')class Cat &#123; private _x: number; private _y: number; constructor(x: number, y: number) &#123; // å±žæ€§ä¿®é¥°å™¨ @dec(false) this._x = x this._y = y &#125;&#125; å‚æ•°ä¿®é¥°å™¨å‚æ•°ä¿®é¥°å™¨ä¹Ÿæ˜¯ä¸‰ä¸ªå‚æ•°ï¼Œ ä½†ä¸åŒçš„æ˜¯ç¬¬ä¸‰ä¸ªå‚æ•°æŽ¥æ”¶ å‚æ•°è£…é¥°å™¨åªèƒ½ç¡®è®¤ä¸€ä¸ªæ–¹æ³•çš„å‚æ•°æ˜¯å¦è¢«ä¼ å…¥ å‰ä¸¤ä¸ªå’Œå…¶ä»–çš„ä¿®é¥°å™¨éƒ½ç›¸åŒï¼Œ target å¯¹äºŽé™æ€æˆå‘˜æ˜¯ç±»çš„æž„é€ å‡½æ•°ï¼Œ è€Œå¯¹äºŽå®žä¾‹æˆå‘˜æ˜¯ç±»çš„å®žä¾‹å¯¹è±¡ propertyKey æˆå‘˜çš„åç§° å‚æ•°åœ¨æ‰€å¤„å‡½æ•°çš„å‚æ•°åˆ—è¡¨ä¸­çš„ç´¢å¼•ï¼Œ è¯´äººè¯å°±æ˜¯å‘Šè¯‰ä½ ä»–æ˜¯ç¬¬å‡ ä¸ªå‚æ•° 1234567891011function require(value:boolean) &#123; return function (target:any, propertyKey: string, index: number) &#123; &#125;&#125;// åœ¨è¿™é‡Œä½¿ç”¨å¹¶ä¼ å…¥è‡ªå®šä¹‰çš„å‚æ•°@dec('test')class Cat &#123; run(@require(true) name:string) &#123; &#125;&#125; è£…é¥°å™¨å‚æ•° ç±»è£…é¥°å™¨ ç±»è£…é¥°å™¨çš„å‚æ•°åªæŽ¥æ”¶ä¸€ä¸ªï¼Œ é‚£å°±æ˜¯target ä¹Ÿå°±æ˜¯è¿™ä¸ªç±»æœ¬èº« å°±å’Œä¸Šé¢æ¼”ç¤ºçš„é‚£äº›ä¾‹å­ä¸€æ · æ–¹æ³•è£…é¥°å™¨ ä¸€èˆ¬ä¼šä¼ å…¥ä¸‰ä¸ªå‚æ•° target å¯¹äºŽé™æ€æˆå‘˜æ˜¯ç±»çš„æž„é€ å‡½æ•°ï¼Œ è€Œå¯¹äºŽå®žä¾‹æˆå‘˜æ˜¯ç±»çš„å®žä¾‹å¯¹è±¡ propertyKey æˆå‘˜çš„åç§° descriptor æˆå‘˜å±žæ€§çš„æè¿°ç¬¦ æˆ‘ä»¬æ¥éªŒè¯ä¸‹æ–¹æ³•è£…é¥°å™¨çš„å‚æ•° è®©æˆ‘ä»¬çœ‹çœ‹è¿™æ®µä¾‹å­ä¼šè¾“å‡ºä»€ä¹ˆ123456789101112function f(value:string) &#123; return function (target:any, propertyKey: string, descriptor: PropertyDescriptor) &#123; console.log(arguments) console.log(target) &#125;&#125;class Tiger &#123; @f('tiger run') run() &#123; &#125;&#125; è¾“å…¥ç»“æžœ: åœ¨æŽ§åˆ¶å°è¾“å‡ºï¼Œ æˆ‘ä»¬çœ‹åˆ°äº†ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯ tiger çš„å®žä¾‹å¯¹è±¡ï¼ˆå› ä¸ºrunæ˜¯å®žä¾‹æˆå‘˜ï¼‰ ç¬¬äºŒä¸ªå‚æ•°æ˜¯æˆå‘˜åç§°ï¼Œ ä¹Ÿå°±æ˜¯è¢«è£…é¥°çš„run ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯ run çš„å±žæ€§æè¿°ç¬¦ Mixins æ··å…¥é™¤äº†ä¼ ç»Ÿçš„é¢å‘å¯¹è±¡ç»§æ‰¿æ–¹å¼ï¼Œè¿˜æµè¡Œä¸€ç§é€šè¿‡å¯é‡ç”¨ç»„ä»¶åˆ›å»ºç±»çš„æ–¹å¼ï¼Œå°±æ˜¯è”åˆå¦ä¸€ä¸ªç®€å•ç±»çš„ä»£ç ã€‚ ä½ å¯èƒ½åœ¨Scalaç­‰è¯­è¨€é‡Œå¯¹mixinsåŠå…¶ç‰¹æ€§å·²ç»å¾ˆç†Ÿæ‚‰äº†ï¼Œä½†å®ƒåœ¨JavaScriptä¸­ä¹Ÿæ˜¯å¾ˆæµè¡Œçš„ã€‚ Mixins å…¶å®žå¯ä»¥æ‹†åˆ†ä¸ºä¸¤ä¸ªå•è¯ Mix : æ··åˆ ins : æ˜¯è¿›å…¥ æ‰€ä»¥åˆåœ¨ä¸€èµ·å°±æ˜¯å« æ··å…¥ çš„æ„æ€çš„å•è¯ å®ƒæƒ³è¦è¡¨è¾¾çš„æ˜¯ä¸€ä¸ªå¯¹è±¡ä¸­æ··å…¥å¦ä¸€ä¸ªå¯¹è±¡çš„æ–¹æ³• è®©æˆ‘ä»¬æ¥å®žçŽ°ä¸€ä¸‹Mixins ä»£ç é‡Œé¦–å…ˆå®šä¹‰ä¸¤ä¸ªç±»ï¼Œå®ƒä»¬å°†åšä¸ºmixinsã€‚ å¯ä»¥çœ‹åˆ°æ¯ä¸ªç±»éƒ½åªå®šä¹‰äº†ä¸€ä¸ªç‰¹å®šçš„è¡Œä¸ºæˆ–åŠŸèƒ½ã€‚ ç¨åŽæˆ‘ä»¬ä½¿ç”¨å®ƒä»¬æ¥åˆ›å»ºä¸€ä¸ªæ–°ç±»ï¼ŒåŒæ—¶å…·æœ‰è¿™ä¸¤ç§åŠŸèƒ½ã€‚ 12345678910111213141516171819// Disposable Mixinclass Disposable &#123; isDisposed: boolean; dispose() &#123; this.isDisposed = true; &#125;&#125;// Activatable Mixinclass Activatable &#123; isActive: boolean; activate() &#123; this.isActive = true; &#125; deactivate() &#123; this.isActive = false; &#125;&#125; åˆ›å»ºä¸€ä¸ªç±»ï¼Œç»“åˆäº†è¿™ä¸¤ä¸ªmixinsã€‚ ä¸‹é¢æ¥çœ‹ä¸€ä¸‹å…·ä½“æ˜¯æ€Žä¹ˆæ“ä½œçš„ï¼š12class SmartObject implements Disposable, Activatable &#123; &#125; è¿™é‡Œæˆ‘ä»¬æ²¡æœ‰ä½¿ç”¨extendsè€Œæ˜¯ä½¿ç”¨implementsã€‚ æŠŠç±»å½“æˆäº†æŽ¥å£ï¼Œä»…ä½¿ç”¨Disposableå’ŒActivatableçš„ç±»åž‹è€Œéžå…¶å®žçŽ°ã€‚ è¿™æ„å‘³ç€æˆ‘ä»¬éœ€è¦åœ¨ç±»é‡Œé¢å®žçŽ°æŽ¥å£ã€‚ ä½†æ˜¯è¿™æ˜¯æˆ‘ä»¬åœ¨ç”¨mixinæ—¶æƒ³é¿å…çš„ã€‚ æˆ‘ä»¬å¯ä»¥è¿™ä¹ˆåšæ¥è¾¾åˆ°ç›®çš„ï¼Œä¸ºå°†è¦mixinè¿›æ¥çš„å±žæ€§æ–¹æ³•åˆ›å»ºå‡ºå ä½å±žæ€§ã€‚ è¿™å‘Šè¯‰ç¼–è¯‘å™¨è¿™äº›æˆå‘˜åœ¨è¿è¡Œæ—¶æ˜¯å¯ç”¨çš„ã€‚ è¿™æ ·å°±èƒ½ä½¿ç”¨mixinå¸¦æ¥çš„ä¾¿åˆ©ï¼Œè™½è¯´éœ€è¦æå‰å®šä¹‰ä¸€äº›å ä½å±žæ€§ã€‚ ä¹Ÿå°±æ˜¯è¿™æ · 1234567891011121314151617class SmartObject implements Disposable, Activatable &#123; constructor() &#123; setInterval(() =&gt; console.log(this.isActive + " : " + this.isDisposed), 500); &#125; interact() &#123; this.activate(); &#125; // Disposable isDisposed: boolean = false; dispose: () =&gt; void; // Activatable isActive: boolean = false; activate: () =&gt; void; deactivate: () =&gt; void;&#125; æœ€åŽï¼ŒæŠŠmixinsæ··å…¥å®šä¹‰çš„ç±»ï¼Œå®Œæˆå…¨éƒ¨å®žçŽ°éƒ¨åˆ†ã€‚1applyMixins(SmartObject, [Disposable, Activatable]); æˆ‘ä»¬åŒæ—¶ä¹Ÿéœ€è¦åˆ›å»ºè¿™ä¸ªå¸®åŠ©å‡½æ•°ï¼Œ å¸®æˆ‘ä»¬åšæ··å…¥æ“ä½œã€‚ å®ƒä¼šéåŽ†mixinsä¸Šçš„æ‰€æœ‰å±žæ€§ï¼Œå¹¶å¤åˆ¶åˆ°ç›®æ ‡ä¸ŠåŽ»ï¼ŒæŠŠä¹‹å‰çš„å ä½å±žæ€§æ›¿æ¢æˆçœŸæ­£çš„å®žçŽ°ä»£ç ã€‚1234567function applyMixins(derivedCtor: any, baseCtors: any[]) &#123; baseCtors.forEach(baseCtor =&gt; &#123; Object.getOwnPropertyNames(baseCtor.prototype).forEach(name =&gt; &#123; derivedCtor.prototype[name] = baseCtor.prototype[name]; &#125;) &#125;);&#125; å‚è€ƒæ–‡çŒ® https://segmentfault.com/a/1190000016305647 â€”â€”â€”â€”â€”â€”â€”â€”-å¾…å®Œå–„â€”â€”â€”â€”â€”â€”â€”â€”â€”-]]></content>
      <categories>
        <category>TypeScript</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>TypeScript</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½ ä¸çŸ¥é“çš„CssçŸ©é˜µ]]></title>
    <url>%2F2019%2F03%2F18%2F%E3%80%90CSS%E7%9F%A9%E9%98%B5%E3%80%91%E4%BD%A0%E4%B8%8D%E7%9F%A5%E9%81%93%E7%9A%84Css%E7%9F%A9%E9%98%B5%2F</url>
    <content type="text"><![CDATA[çŸ©é˜µ matrix(a,b,c,d,e,f); a c e åˆ†åˆ«å’Œ X, Y, 1 ç›¸ä¹˜å¾—å‡ºçº¿æ€§æ–¹ç¨‹ b d f åˆ†åˆ«å’Œ X, Y, 1 ç›¸ä¹˜å¾—å‡ºçº¿æ€§æ–¹ç¨‹ è¿™æ˜¯å¾ˆæ¸…æ¥šçš„è®¡ç®—å…¬å¼ rotateZçŸ©é˜µæŽ¨ç†æŽ¨ç†è¿‡ç¨‹ å‚è€ƒåŒå­¦çš„ç¬”è®°åŒå­¦å†™çš„å¾ˆä¸é”™ðŸ‘]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>çŸ©é˜µ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€CSSå…¨æ™¯ã€‘æ·˜å®é€ ç‰©èŠ‚H5åŽŸç†]]></title>
    <url>%2F2019%2F03%2F18%2F%E3%80%90CSS%E5%85%A8%E6%99%AF%E3%80%91%E6%B7%98%E5%AE%9D%E9%80%A0%E7%89%A9%E8%8A%82H5%E5%8E%9F%E7%90%86%2F</url>
    <content type="text"><![CDATA[2016å¹´çš„æ·˜å®é€ ç‰©èŠ‚é‚€è¯·å‡½ï¼Œ å¤ªç‰›äº†ï¼Œ ä¸è¿‡ï¼Œæˆ‘ä»¬è¿™å›žå…ˆä¸ç ”ç©¶ä»–çš„å…¥åœºç‰¹æ•ˆï¼Œå…ˆç ”ç©¶ä¸‹å®ƒçš„å…¨æ™¯æ˜¯å¦‚ä½•å®žçŽ°çš„ ä¸€ã€ è½½å…¥å›¾ç‰‡, å®šä½è‡³ç»Ÿä¸€ä½ç½® å› ä¸º20å¼ å›¾ç‰‡è¢«å®šä½åˆ°ç»Ÿä¸€åœ°æ–¹, æ‰€ä»¥æ‰€æœ‰å›¾ç‰‡éƒ½å åœ¨ä¸€èµ·äº† æ­¤æ—¶æ•ˆæžœ äºŒã€ä¾ç…§Yè½´æ—‹è½¬å›¾ç‰‡ å…ˆè¯´ä¸‹ä¸ºä»€ä¹ˆè¦ä¾ç…§yè½´: æˆ‘ä»¬éœ€è¦æŠŠå›¾ç‰‡å›´ç»•æˆä¸€ä¸ªçŽ¯å½¢, ç±»ä¼¼äºŽ æœ¨æ¡¶çš„æ¯ä¸€å—æœ¨æ¿, å›¾ç‰‡å°±æ˜¯æœ¨æ¿, æŒ‰å›¾ç‰‡çš„é¡ºåºæ—‹è½¬è‡ªå„è‡ªçš„è§’åº¦, ç›®å‰ä¹Ÿæ˜¯åŽŸåœ°æ—‹è½¬, æ‰€ä»¥å›¾ç‰‡ä¾æ—§å åŠ åœ¨ä¸€èµ· ç´ ææœ‰20å¼ å›¾ç‰‡, é‚£æ¯å¼ çš„æ—‹è½¬è§’åº¦å°±æ˜¯ 360 / 20 = 18åº¦, æ¯å¼ æ—‹è½¬çš„åº¦æ•°åœ¨å‰ä¸€å¼ çš„åŸºç¡€ä¸Šç´¯åŠ  18 åº¦, è¿™é‡Œæ³¨æ„æ³¨æ„æ³¨æ„: å› ä¸ºæ˜¯æŒ‰å›¾ç‰‡ä¸­å¿ƒçš„Yè½´æ—‹è½¬, æ‰€ä»¥åŒä¸€ä¸ªåº¦æ•°ä¼šæœ‰ä¸¤å¼ å›¾ç‰‡, æ¯”å¦‚: 0åº¦çš„å›¾ç‰‡, å¤´åœ¨0åº¦, å°¾åœ¨90åº¦, ç„¶åŽå½“è½®åˆ°å¤´åœ¨90åº¦çš„å›¾ç‰‡æ—¶, ä»–çš„å°¾åœ¨ 0 åº¦, æ‰€ä»¥ä¼šæœ‰åŒä¸€ä¸ªåº¦æ•°ä¸¤å¼ å›¾ç‰‡çš„çŽ°è±¡ æ­¤æ—¶æ•ˆæžœ ä¸ºäº†æ–¹ä¾¿ç†è§£, åˆ‡æ¢æˆä¸Šå¸è§†è§’, , æ‰€æœ‰å›¾ç‰‡å›´ç»•ä¸­å¿ƒç‚¹æ—‹è½¬ ä¸‰ã€å°†å›¾ç‰‡æ²¿ç€å„è‡ªZè½´å‘å¤–æŽ¨ çŽ°åœ¨æœ¨æ¿(ä¹Ÿå°±æ˜¯æ¯ä¸€å¼ å›¾ç‰‡)æ˜¯ç©¿æ’åœ¨ä¸€èµ·çš„, æˆ‘ä»¬éœ€è¦è®©ä»–ä»¬è¿œç¦»ä¸­å¿ƒç‚¹, æ‹‰å¼€è·ç¦», è®©ä»–,ä»¬è¾¹ç¼˜è¿žæŽ¥è€Œä¸æ˜¯è¿™æ ·äº¤å‰åœ¨ä¸€èµ·, æ‰èƒ½å½¢æˆä¸€ä¸ªåœ† å…ˆäº†è§£æ¯ä¸€å—æœ¨æ¿æ€Žä¹ˆæŽ¨ ç®€å•çš„ç”»äº†ä¸ªå‰åŽçš„æ•ˆæžœå›¾, ç”¨çš„æ˜¯ä¸Šå¸è§†è§’, ä¹Ÿå°±æ˜¯ä½ ä½Žå¤´çœ‹ä¸€ä¸ªæœ¨æ¡¶çš„è§†è§’ å¦‚ä½•è®¡ç®—è¯¥æŽ¨å¤šå°‘è·ç¦» åšä¸€é“ä¸‰è§’å‡½æ•°æ•°å­¦é¢˜ ç”»çš„è§’åº¦ä¸å¤ªå¯¹åˆ«ä»‹æ„ è®¾ä¸€å…±12æ¡çº¿, æ¯æ¡é•¿200px(æ­¤æ—¶çš„é•¿å°±å¯¹åº”å›¾ç‰‡çš„å®½) , æ±‚å°†æ©™çº¿ç§»åŠ¨åˆ°å›¾ä¸­æœ€ç»ˆä½ç½®çš„è·ç¦» â€œé»‘çº¿â€,12345678910// å…ˆæ±‚æ—‹è½¬åº¦æ•°// ç„¶åŽå–åº¦æ•°çš„ä¸€åŠ360 / 12 / 2 = 15 åº¦// å¾—çŸ¥ç›´è§’åº•è¾¹é•¿åº¦200 / 2 = 100px// æ ¹æ®åº¦æ•°å¾—çŸ¥ tan, é¡ºä¾¿è¯´ä¸‹, tanæ˜¯å¯¹è¾¹æ¯”é‚»è¾¹tan15Â°= 0.26794// æ±‚å‡ºé»‘çº¿100PX / é»‘çº¿ = 0.26794é»‘çº¿çº¦ç­‰äºŽ 373.2px jsè®¡ç®—æ—¶æ³¨æ„ Math.tan æŽ¥æ”¶çš„æ˜¯å¼§åº¦å•ä½ Math.PI è¡¨ç¤ºçš„æ˜¯ä¸€ä¸ª Î  360åº¦ = 2Î  è®¡ç®—å‡ºæ¯å¼ å›¾ç‰‡ä¹‹é—´çš„å½¢æˆçš„å¼§åº¦ 12345678 // å‡è®¾å›¾ç‰‡æ•°é‡æ˜¯ 8 å¼ // å› ä¸º 360 = 2Î // 1åº¦ = Î  / 180// æ¯ä»½çš„è§’åº¦æ˜¯const deg = 360 / 8 // æ­¤æ—¶ä¸º 45// ä¸€ä»½çš„å¼§åº¦å°±æ˜¯ æ¯ä»½å¼§åº¦ * æ—‹è½¬è§’åº¦çš„ä¸€åŠ// æœ€åŽç»“æžœå°±ç­‰äºŽ Î  / å›¾ç‰‡æ•°é‡( Math.PI / 180 ) * ( 45 / 2 ) ==&gt; Math.PI / 8 è°¢è°¢æœ€å¯çˆ±çš„è´çŽº]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>3D</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[è®¡ç®—æœºè¯­è¨€çš„æœ¬æºä¸Žå‘å±•]]></title>
    <url>%2F2019%2F03%2F18%2F%E8%AE%A1%E7%AE%97%E6%9C%BA%E8%AF%AD%E8%A8%80%E7%9A%84%E6%9C%AC%E6%BA%90%E4%B8%8E%E5%8F%91%E5%B1%95%2F</url>
    <content type="text"><![CDATA[æœ¬æºï¼šäºŒè¿›åˆ¶æ•°æ® ç¬¬ä¸€ä»£è¯­è¨€ï¼šæœºå™¨æŒ‡ä»¤ ï¼ˆç—›è‹¦æŒ‡æ•° âœ®âœ®âœ®âœ®âœ®ï¼‰ ç¬¬äºŒä»£è¯­è¨€ï¼šæ±‡ç¼–æŒ‡ä»¤ï¼ˆç—›è‹¦æŒ‡æ•° âœ®âœ®âœ®âœ®âœ©ï¼‰ ç¬¬ä¸‰ä»£è¯­è¨€ï¼šé«˜çº§è¯­è¨€ï¼ˆä¸»è¦ç‰¹å¾ï¼šé¢å‘è¿‡ç¨‹ï¼‰ ç¬¬å››ä»£è¯­è¨€ï¼šé¢å‘å¯¹è±¡è¯­è¨€ï¼ˆé¢å‘äº’è”ç½‘ã€å¤©ç„¶æ”¯æŒæ•°æ®åº“ï¼‰]]></content>
      <categories>
        <category>è®¡ç®—æœºåŸºç¡€</category>
      </categories>
      <tags>
        <tag>è®¡ç®—æœºåŸºç¡€</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€Vueã€‘æºç è§£æž]]></title>
    <url>%2F2019%2F03%2F18%2F%E3%80%90Vue%E3%80%91%E6%BA%90%E7%A0%81%E8%A7%A3%E6%9E%90%2F</url>
    <content type="text"><![CDATA[çŽ°åœ¨ä¸‰å¤§æ¡†æž¶é£Žèµ·äº‘æ¶Œï¼Œ JQueryè€å¤§å“¥çš„å…‰è¾‰ä¸å†ï¼Œ ä½¿å‰ç«¯æˆä¸ºäº†å„è·¯è¯¸ä¾¯çš„å…µå®¶å¿…äº‰ä¹‹åœ°ï¼Œ å½“ç„¶ä½œä¸ºä¸€åä¼˜è´¨çš„å‰ç«¯ï¼Œå…‰è·Ÿé£Žå­¦æ¡†æž¶æ˜¯è‚¯å®šä¸è¡Œçš„ï¼Œ è¦çŸ¥å…¶ç„¶è€ŒçŸ¥å…¶æ‰€ä»¥ç„¶ è¦äº†è§£MVVMçš„æœ¬è´¨åŽŸç†ï¼Œ virtual Domå’Œ Diffç®—æ³•è§£å†³çš„é—®é¢˜ æ‹’ç»ç›²ç›®è·Ÿé£Ž ðŸŽdiffDomä¼˜åŠ£çŽ°åœ¨å¾ˆå¤šäººéƒ½è¯´ Vue, React å¤šç‰›ï¼Œ Diffç®—æ³•å¿«ï¼Œä¸ç”¨æ“ä½œDomã€‚ åªèƒ½æ— è¯­ã€‚ Diffç®—æ³•ä¸æ˜¯ä¸éœ€è¦æ“ä½œDom, è€Œæ˜¯ä¸éœ€è¦å¼€å‘è€…åŽ»æ“ä½œDomäº†ï¼Œ Diffç®—æ³•å…¶å®žä¸å¿«ï¼Œ å°±ç®—ä½¿ç”¨äº†virtual Dom, è¿˜å¾—èŠ±å®žçŽ°æŠŠçœŸå®žDom è½¬æ¢ä¸º virtual Dom å†åŽ»æ¯”å¯¹ï¼Œ è¿™è¿œè¿œæ²¡æœ‰jsç›´æŽ¥ getElementByIdç›´è¾¾ç›®æ ‡æ¥çš„å¿« é‚£Diffç®—æ³•ä¸å¿«ä¸ºä»€ä¹ˆè¿˜è¦ç”¨å‘¢? Diffç®—æ³•å…¶å®žæ˜¯ç»™é‚£äº›æ¯”è¾ƒéšæ„çš„æ–°æ‰‹å¼€å‘è€…å‡†å¤‡çš„ çœ‹è¿™ä¸ªä¾‹å­ 123456&lt;!-- åŽŸæœ¬çš„dom --&gt;&lt;ul id="ul"&gt; &lt;li&gt;a&lt;/li&gt; &lt;li&gt;a&lt;/li&gt; &lt;li&gt;a&lt;/li&gt;&lt;/ul&gt; 12345678// æ‹¿åˆ°ç»“æžœä¸ç®¡ä¸‰ä¸ƒäºŒåä¸€æŠŠæ—§domå…¨æ›¿æ¢äº†$.get('/api', (res) =&gt; &#123; var _HTML = "" for(var i=0; i&lt; res.length; i++)&#123; _HTML = "&lt;li&gt;" + res[i] +"&lt;/li&gt;" &#125; $("#ul").html(_HTML)&#125;) å¦‚æžœæ˜¯åŽŸå§‹çš„Domæ“ä½œï¼Œ æœ‰å¾ˆå¤šå°ç™½ä¼šåƒè¿™ä¸ªä¾‹å­ä¸€æ ·ï¼Œ ä¸ç®¡Doméœ€ä¸éœ€è¦æ›´æ–°ï¼Œ ä»–éƒ½æŠŠajaxè¿”å›žçš„è¯·æ±‚å…¨éƒ¨è·‘ä¸€è¾¹ï¼Œç”ŸæˆHTMLæ¨¡æ¿ï¼Œ ç„¶åŽæŠŠåŽŸæœ¬çš„æ‰€æœ‰liéƒ½åˆ äº†ï¼Œ å†æŠŠæ–°çš„æ¨¡æ¿æ”¾è¿›åŽ»ï¼Œ Domå°‘è¿˜çœ‹ä¸å‡ºæ¥ï¼Œ å¦‚æžœDomå¤šäº†å‘¢ï¼Œ ä¸Šåƒçš„Domï¼Œ è¿™é¡¿æ“ä½œä¸€ä¸‹å°±çŽ©ç‚¸äº†ã€‚ å†µä¸”ç½‘ç«™ä¼˜åŒ–åŽŸåˆ™å°±æ˜¯å°½é‡å‡å°Domæ“ä½œï¼Œ å¦‚æžœæ˜¯æœ‰ç»éªŒçš„å¼€å‘è€…ï¼Œ ä¼šé€‰æ‹©æ‰¾åˆ°æœ‰å˜åŒ–çš„ä½ç½®ï¼Œä½¿ç”¨appendæ’å…¥ ðŸ“„Vueæž¶æž„ç›®å½•åŽ»Vueå®˜ç½‘ä¸‹è½½Vueæºç çœ‹çœ‹ï¼Œ æ‰“å¼€é‡Œé¢ä¼šæœ‰ä¸€ä¸ª srcç›®å½•ï¼Œ é‡Œé¢å°±æ˜¯æ•´ä¸ªçš„Vueæºç  ç›®å‰æœ‰6ä¸ªç›®å½•ï¼Œ ä½œç”¨åˆ†åˆ«å¦‚ä¸‹ Vue.js çš„ç»„æˆæ˜¯ç”± core + å¯¹åº”çš„ â€˜å¹³å°â€™ è¡¥å……ä»£ç æž„æˆï¼ˆç‹¬ç«‹æž„å»ºå’Œè¿è¡Œæ—¶æž„å»ºåªæ˜¯ platforms ä¸‹ web å¹³å°çš„ä¸¤ç§é€‰æ‹©ï¼‰ Vueçš„æ ¸å¿ƒåŽŸç†å°±åœ¨coreæ–‡ä»¶å¤¹ä¸­ï¼Œ è®©æˆ‘ä»¬è¿›å…¥ core æ–‡ä»¶å¤¹çœ‹çœ‹ äº†è§£äº†ç›®å½•ï¼ŒæŽ¥ä¸‹æ¥æˆ‘ä»¬å°±æ¥ç ”ç©¶Vueçš„åŒå‘ç»‘å®š ðŸ”—åŒå‘ç»‘å®šï¼ˆå“åº”å¼åŽŸç†ï¼‰ æ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯ âœ… Obejct.defineProperty ã€æä¾›getter å’Œ setterã€‘ âœ… Observer ã€æä¾›getter å’Œ setterã€‘ âœ… watcher ã€æä¾›getter å’Œ setterã€‘ âœ… Dep ã€è´Ÿè´£æ”¶é›†watcherã€‘ âœ… Directive ã€å¤„ç†Vueæ¨¡æ¿æŒ‡ä»¤ã€‘ Obejct.definePropertyObejct.defineProperty æ˜¯æ•´ä¸ªVueçš„çµé­‚ï¼Œ æ¥çœ‹ä¸€ä¸‹Obejct.defineProperty å¦‚ä½•ä½¿ç”¨1234567891011121314151617var obj = &#123;&#125;var c;Object.defineProperty(obj, 'a', &#123; get() &#123; console.log('getter') return a &#125;, set(newVal) &#123; console.log('setter') c = newVal this.a = newVal &#125;&#125;)obj.a = '234'console.log(c) // 234console.log(obj.a) // 234 å®ƒå¸®åŠ©Vueå®žçŽ°äº†åŒå‘ç»‘å®š, ä½†ä¹Ÿå› ä¸ºè¿™ä¸ªï¼Œ Vueä¹Ÿåªèƒ½èˆå¼ƒäº†å¯¹ä½Žç‰ˆæœ¬æµè§ˆå™¨çš„æ”¯æŒã€‚ å®ƒåªèƒ½å…¼å®¹åˆ°IE9 ï¼Œ å¹¶ä¸”å¸‚é¢ä¸Šçš„polyfillå®žçŽ°çš„ä¹Ÿå¹¶ä¸æ˜¯å¾ˆå¥½ é‚£ä½Žç‰ˆæœ¬å¦‚ä½•ä»£æ›¿Obejct.defineProperty ï¼Œ éš¾é“çœŸæ²¡äº†å®ƒå°±ä¸è¡Œå—ï¼Ÿ å½“ç„¶æœ‰ï¼š ðŸ‘† &gt; IE 7 å®žé™…ä¸Šåœ¨IE7çš„æ—¶å€™å°±å·²ç»æœ‰æš´éœ²äº† __defineGetter__ æ–¹æ³•ï¼Œ å…·ä½“ç”¨æ³•å¦‚ä¸‹1234567var random = &#123;&#125;;random.__defineGetter__('ten', function() &#123; return Math.floor(Math.random()*10); &#125;);random.__defineGetter__('hundred', function() &#123; return Math.floor(Math.random()*100); &#125;);random.ten // éšæœºçš„ä¸€ä¸ªå€¼ ðŸ‘‡ &lt; IE 7 æ—©å¹´é—´çš„IE æ˜¯æ”¯æŒVBScript, VBScript å°±å¯ä»¥ç›´æŽ¥å†™ç±»ï¼Œ å¹¶ä¸”ä¹Ÿæ”¯æŒgetï¼Œsetæ–¹æ³• 12345678class Test &#123; get name () &#123; &#125; set name() &#123; &#125;&#125; ðŸ¶éœ¸é“çš„IEè¯´äº†è¿™ä¹ˆå¤šIEçš„åï¼Œ è¿™é‡Œä¹Ÿå¸¦ä¸€å˜´IEçš„å¥½ï¼Œ IEèƒ½å¤Ÿè°ƒç”¨EXEç¨‹åº, æ¯”å¦‚JSæ— æ³•è®¾ç½®æ‰“å°æœºçš„å®½é«˜ï¼Œå°±å¯ä»¥åˆ©ç”¨ActiveObjectXæ¥åšåˆ°, ç”šè‡³å¯ä»¥ä¿®æ”¹wordæ ¼å¼ç­‰ç­‰ , æ‰€ä»¥åŠžå…¬ç±»çš„é¡¹ç›®ç¦»ä¸å¼€IE ðŸ˜•MVVM åŒå‘æ•°æ®ç»‘å®šæµç¨‹MVVM: Modelâ€“viewâ€“viewmodel é‚£æ€Žä¹ˆåŒºåˆ†è¿™äº›å±‚å‘¢ ðŸš€Model: Observer âœˆï¸view : directive ðŸššviewmodel: Watcher &amp;&amp; Dep ã€ç”¨äºŽè¿žæŽ¥ Model å’Œ viewã€‘ å…ˆçœ‹Directive, è¿™å°±æ˜¯æˆ‘ä»¬å¹³æ—¶å†™çš„vueæŒ‡ä»¤ï¼Œ å¦‚ä¸Šé¢ä¸¾ä¾‹å¾—çš„v-text=&quot;times&quot;, è¿™å°±æ˜¯ä¸€ä¸ªæŒ‡ä»¤ï¼Œ ä¸€ä¸ªDirectiveä¼šåˆ†é…ä¸€ä¸ªWatcher Observerè§‚å¯Ÿè€…æ¨¡å¼æ˜¯è½¯ä»¶è®¾è®¡æ¨¡å¼çš„ä¸€ç§ã€‚åœ¨æ­¤ç§æ¨¡å¼ä¸­ï¼Œä¸€ä¸ªç›®æ ‡å¯¹è±¡ç®¡ç†æ‰€æœ‰ç›¸ä¾äºŽå®ƒçš„è§‚å¯Ÿè€…å¯¹è±¡ï¼Œå¹¶ä¸”åœ¨å®ƒæœ¬èº«çš„çŠ¶æ€æ”¹å˜æ—¶ä¸»åŠ¨å‘å‡ºé€šçŸ¥ã€‚è¿™é€šå¸¸é€è¿‡å‘¼å«å„è§‚å¯Ÿè€…æ‰€æä¾›çš„æ–¹æ³•æ¥å®žçŽ°ã€‚æ­¤ç§æ¨¡å¼é€šå¸¸è¢«ç”¨æ¥å®žæ—¶äº‹ä»¶å¤„ç†ç³»ç»Ÿã€‚è®¢é˜…è€…æ¨¡å¼æ¶‰åŠä¸‰ä¸ªå¯¹è±¡ï¼šå‘å¸ƒè€…ã€ä¸»é¢˜å¯¹è±¡ã€è®¢é˜…è€…ï¼Œä¸‰ä¸ªå¯¹è±¡é—´çš„æ˜¯ä¸€å¯¹å¤šçš„å…³ç³»ï¼Œæ¯å½“ä¸»é¢˜å¯¹è±¡çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶ï¼Œå…¶ç›¸å…³ä¾èµ–å¯¹è±¡éƒ½ä¼šå¾—åˆ°é€šçŸ¥ï¼Œå¹¶è¢«è‡ªåŠ¨æ›´æ–°ã€‚ ç®€å•çš„æè¿°å°±æ˜¯: ä½ æƒ³ä¹°æ¼«ç”»ï¼Œ ä½†æ˜¯é—®äº†æŠ¥åˆŠäº­çš„å¤§çˆ·ï¼Œ å¤§çˆ·è¯´çŽ°åœ¨æ²¡æœ‰ï¼Œ è¿˜æ²¡åˆ°è´§ï¼Œ ç„¶åŽä½ å›žåŽ»äº†ï¼Œ ç¬¬äºŒå¤©ä½ åˆåŽ»é—®ï¼Œ å¤§çˆ·è¿˜æ˜¯è¯´æ²¡æœ‰ï¼Œ å¦‚æžœä½ æ¯å¤©è¿™æ ·é—®ï¼Œ å¤§çˆ·ä¼°è®¡ä¼šå«Œä½ çƒ¦ã€‚ å¦‚æžœè¿™æ—¶å€™ä½ æŠŠä½ çš„ç”µè¯ç»™å¤§çˆ·ï¼Œ å¤§çˆ·è®°å½•åˆ°ä»–çš„æœ¬å­ä¸Š, å½“å¤§çˆ·çš„æ¼«ç”»åˆ°è´§çš„æ—¶å€™ç”µè¯é€šçŸ¥ä½ ã€‚ è¿™æ—¶ä½ å°±æ˜¯è®¢é˜…è€…, å¤§çˆ·å°±æ˜¯å‘å¸ƒè€…, ä½ ä»¬å°±å­˜åœ¨ä¸€ä¸ªå‘å¸ƒè®¢é˜…è€…çš„å…³ç³» Vue ä¸­çš„Observer Observerä¼šè§‚å¯Ÿä¸¤ç§ç±»åž‹çš„æ•°æ®ï¼ŒObject ä¸Ž Arrayå¯¹äºŽArrayç±»åž‹çš„æ•°æ®ï¼Œç”±äºŽ JavaScript çš„é™åˆ¶ï¼Œ Vue ä¸èƒ½æ£€æµ‹å˜åŒ–,ä¼šå…ˆé‡å†™æ“ä½œæ•°ç»„çš„åŽŸåž‹æ–¹æ³•ï¼Œé‡å†™åŽèƒ½è¾¾åˆ°ä¸¤ä¸ªç›®çš„ï¼Œ å½“æ•°ç»„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘ notify å¦‚æžœæ˜¯ pushï¼Œunshiftï¼Œsplice è¿™äº›æ·»åŠ æ–°å…ƒç´ çš„æ“ä½œï¼Œåˆ™ä¼šä½¿ç”¨observerè§‚å¯Ÿæ–°æ·»åŠ çš„æ•°æ®é‡å†™å®ŒåŽŸåž‹æ–¹æ³•åŽï¼ŒéåŽ†æ‹¿åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æ® ä½¿ç”¨observerè§‚å¯Ÿå®ƒè€Œå¯¹äºŽObjectç±»åž‹çš„æ•°æ®ï¼Œåˆ™éåŽ†å®ƒçš„æ¯ä¸ªkeyï¼Œä½¿ç”¨ defineProperty è®¾ç½® getter å’Œ setterï¼Œå½“è§¦å‘getterçš„æ—¶å€™ï¼Œobserveråˆ™å¼€å§‹æ”¶é›†ä¾èµ–ï¼Œè€Œè§¦å‘setterçš„æ—¶å€™ï¼Œobserveråˆ™è§¦å‘notifyã€‚ å¯¹ Object çš„å¤„ç†Observer å¯¹è±¡çš„æ ‡å¿—å°±æ˜¯__ob__ è¿™ä¸ªå±žæ€§ï¼Œè¿™ä¸ªå±žæ€§ä¿å­˜äº† Observer å¯¹è±¡è‡ªå·±æœ¬èº«ã€‚å¯¹è±¡åœ¨è½¬åŒ–ä¸º Observer å¯¹è±¡çš„è¿‡ç¨‹ä¸­æ˜¯ä¸€ä¸ªé€’å½’çš„è¿‡ç¨‹ï¼Œå¯¹è±¡çš„å­å…ƒç´ å¦‚æžœæ˜¯å¯¹è±¡æˆ–æ•°ç»„çš„è¯ï¼Œä¹Ÿä¼šè½¬åŒ–ä¸º Observer å¯¹è±¡ å¯¹æ•°ç»„çš„å¤„ç†å…¶å®ž observeArray æ–¹æ³•å°±æ˜¯å¯¹æ•°ç»„è¿›è¡ŒéåŽ†ï¼Œé€’å½’è°ƒç”¨ observe æ–¹æ³•ï¼Œæœ€ç»ˆéƒ½ä¼šèµ°å…¥ walk æ–¹ç›‘æŽ§å•ä¸ªå…ƒç´ ã€‚è€Œ walk æ–¹æ³•å°±æ˜¯éåŽ†å¯¹è±¡ï¼Œç»“åˆ defineReactive æ–¹æ³•é€’å½’å°†å±žæ€§è½¬åŒ–ä¸º getter å’Œ setter WatcherWatcher æ˜¯å°†æ¨¡æ¿å’Œ Observer å¯¹è±¡ç»“åˆåœ¨ä¸€èµ·çš„çº½å¸¦ã€‚Watcher æ˜¯è®¢é˜…è€…æ¨¡å¼ä¸­çš„è®¢é˜…è€…ã€‚Watcher çš„ä¸¤ä¸ªå‚æ•°ï¼š expOrFn æœ€ç»ˆä¼šè¢«è½¬æ¢ä¸º getter å‡½æ•°ï¼Œ cb æ˜¯æ›´æ–°æ—¶æ‰§è¡Œçš„å›žè°ƒã€‚ä¾èµ–æ”¶é›†çš„å…¥å£å°±æ˜¯getå‡½æ•°ã€‚ getter å‡½æ•°æ˜¯ç”¨æ¥è¿žæŽ¥ç›‘æŽ§å±žæ€§ä¸Ž Watcher çš„å…³é”® åªæœ‰é€šè¿‡watcher è§¦å‘çš„getter ä¼šæ”¶é›†ä¾èµ–ï¼Œè€Œæ‰€è°“çš„è¢«æ”¶é›†çš„ä¾èµ–å°±æ˜¯å½“å‰watcher.åˆå§‹åŒ–æ—¶ä¼ å…¥çš„å‚æ•° expOrFn ä¸­æ¶‰åŠåˆ°çš„æ¯ä¸€é¡¹æ•°æ®ï¼Œç„¶åŽè§¦å‘è¯¥æ•°æ®é¡¹çš„ getter å‡½æ•°ï¼›getter å‡½æ•°ä¸­å°±æ˜¯é€šè¿‡åˆ¤æ–­ Dep.targetçš„æœ‰æ— æ¥åˆ¤æ–­æ˜¯ Watcher åˆå§‹åŒ–æ—¶è°ƒç”¨çš„è¿˜æ˜¯æ™®é€šæ•°æ®è¯»å–ï¼Œå¦‚æžœæœ‰åˆ™è¿›è¡Œä¾èµ–æ”¶é›† Depè¿™ä¸ªæ–¹æ³•æ˜¯åœ¨å“åº”å¼çš„è¿‡ç¨‹ä¸­è°ƒç”¨çš„ï¼Œç”¨æˆ·ä¿®æ”¹æ•°æ®è§¦å‘ setter å‡½æ•°ï¼Œå‡½æ•°çš„æœ€åŽä¸€è¡Œå°±æ˜¯è°ƒç”¨ dep.notify åŽ»é€šçŸ¥è®¢é˜…è€…æ›´æ–°è§†å›¾ã€‚ Directive å…³äºŽç¼–è¯‘è¿™å—vueåˆ†äº†ä¸¤ç§ç±»åž‹ï¼Œä¸€ç§æ˜¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œä¸€ç§æ˜¯å…ƒç´ èŠ‚ç‚¹ vueå†…ç½®äº†è¿™ä¹ˆå¤šçš„æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤éƒ½ä¼šæŠ›å‡ºä¸¤ä¸ªæŽ¥å£bind å’Œ updateï¼Œè¿™ä¸¤ä¸ªæŽ¥å£çš„ä½œç”¨æ˜¯ï¼Œç¼–è¯‘çš„æœ€åŽä¸€æ­¥æ˜¯æ‰§è¡Œæ‰€æœ‰ç”¨åˆ°çš„æŒ‡ä»¤çš„bindæ–¹æ³•ï¼Œè€Œ update æ–¹æ³•åˆ™æ˜¯å½“watcher è§¦å‘ update æ—¶ï¼ŒDirectiveä¼šè§¦å‘æŒ‡ä»¤çš„updateæ–¹æ³• observe -&gt; è§¦å‘setter -&gt; watcher -&gt; è§¦å‘update -&gt; Directive -&gt; è§¦å‘update -&gt; æŒ‡ä»¤ ðŸ’¥æºç åˆ†æžVueçš„å®Œå…¨ç‰ˆæºç æœ‰å¾ˆå¤šåˆ¤æ–­ä»¥åŠå…¶ä»–çš„é€»è¾‘ï¼Œ å¯¹äºŽè§‚çœ‹æºç çš„äººï¼Œä¼šé€ æˆæžå¤§çš„å›°éš¾ï¼Œ å› æ­¤å‡†å¤‡äº†è¿™ç‰ˆä»¿ç…§Vueæµç¨‹å®žçŽ°çš„ å®žçŽ°äº†åŒå‘ç»‘å®šçš„ç®€ç‰ˆVue, æ–¹ä¾¿å­¦ä¹ ç†è§£ é€šè¿‡è¿™ç‰ˆå¯¹Vueæºç çš„ç®€æ˜“ç¿»ç‰ˆï¼Œ æˆ‘ä»¬æ¥å¿«é€Ÿç†è§£VueåŽŸç† âœ¨ new Vueé¦–å…ˆçœ‹ä¸€ä¸‹ï¼Œæˆ‘ä»¬çš„ new Vue, è¿™æ˜¯æ‰€æœ‰æ“ä½œçš„å…¥å£ 1234567new Vue(&#123; data: &#123; nickname: 'å¼ ä¸‰', email: "123123@qq.com" &#125;, el: '#app'&#125;) ç›¸ä¿¡ä½¿ç”¨è¿‡Vueçš„å°ä¼™ä¼´éƒ½æ˜Žç™½ï¼Œ è¿™é‡Œå®šä¹‰äº†ä¸€ä¸ªdataï¼Œ ç”¨äºŽå­˜æ”¾å˜é‡ï¼Œ elæ˜¯ç›®æ ‡domçš„é€‰æ‹©å™¨ ðŸ”¥ new Vue æ‰§è¡Œæ—¶åšäº†ä»€ä¹ˆ1234567891011function Vue(option) &#123; var data = option.data this.data = data // æŒ‚è½½ getter å’Œ setter observe(data, this) var id = option.el // ç¼–è¯‘ æ¨¡æ¿ var dom = new Compile(document.querySelector(id), this) // æŠŠç¼–è¯‘å¥½çš„æ¨¡æ¿æŒ‚è½½åˆ° #app ä¸Š document.querySelector(id).appendChild(dom)&#125; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ Vueå…¶å®žæ˜¯ä¸€ä¸ªæž„é€ å‡½æ•°ï¼Œ å®ƒæŽ¥æ”¶äº†ä¸€ä¸ªå‚æ•°optionï¼Œ è¿™ä¸ªoptionå°±æ˜¯æˆ‘ä»¬new Vueä¼ å…¥çš„é‚£ä¸ªå¯¹è±¡å› æ­¤æˆ‘ä»¬å¯ä»¥é€šè¿‡option æ‹¿åˆ°dataå’Œelä¸¤ä¸ªå˜é‡ï¼Œ å½“ç„¶è¿™æ˜¯jsåŸºç¡€å“ˆï¼Œ æˆ‘å°±ä¸å†è¯´äº† æ‹¿åˆ°dataåŽï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°å®ƒè°ƒç”¨äº†ä¸€ä¸ª observeæ–¹æ³•, å°†dataå’Œthisä¼ å…¥( æ­¤æ—¶thisæ—¶Vueå®žä¾‹ ) æŽ¥ä¸‹æ¥åˆæ ¹æ®elæ¥èŽ·å–domï¼Œ åŒæ ·çš„å°†èŽ·å–åˆ°çš„domå’Œthisä¼ å…¥äº† Compileä¸­ï¼Œ å¹¶ä¸”è¿˜æŽ¥æ”¶äº†ä¸€ä¸ªè¿”å›žå€¼ï¼Œ ç„¶åŽåˆå°†è¿™ä¸ªè¿”å›žå€¼æŒ‚åˆ°äº† #appä¸Š æ˜¯ä¸æ˜¯æ„Ÿè§‰ï¼Œ ä»€ä¹ˆé¬¼ï¼Ÿ, è¿™é¡¿æ“ä½œæ˜¯å•¥ é¦–å…ˆçœ‹ä¸€ä¸‹ç–‘æƒ‘çš„ observeï¼Œ ä¼ å…¥äº† dataï¼Œ this, ç„¶åŽå°±æ²¡åŠ¨é™äº†ï¼Œ æ—¢ç„¶å¦‚æ­¤ï¼Œ æˆ‘ä»¬å°±è¿›å…¥observeçœ‹çœ‹ æ‰¾åˆ°Observeçš„æž„é€ å‡½æ•°12345function observe(obj, vm) &#123; Object.keys(obj).forEach(key =&gt; &#123; defineReactive(vm, key, obj[key]) &#125;)&#125; å¯ä»¥çœ‹åˆ°ï¼Œå®ƒæŽ¥æ”¶ä¸€ä¸ªobjå’Œ vmï¼Œ å“¦ï¼Œ è¿™é‡Œå°±ä¸€ä¸€å¯¹åº”ä¸Šäº†ï¼Œ å°±æ˜¯æˆ‘ä»¬åˆšæ‰ä¼ å…¥çš„ dataå’Œthis æ¥çœ‹çœ‹å®ƒåšäº†ä»€ä¹ˆï¼Œ å®ƒæŠŠobjæžšä¸¾äº†ä¸€éï¼Œ å¹¶å°†æ¯ä¸€æ¬¡çš„ vm, key,value éƒ½ä¼ å…¥ä¸€ä¸ªå« defineReactiveçš„æ–¹æ³• å¥½ï¼Œé‚£å°±è®©æ¥çœ‹defineReactiveåšäº†ä»€ä¹ˆ 1234567891011121314151617181920function defineReactive(vm, key, val) &#123; // ä¸ºæ¯ä¸ªå˜é‡åˆ†é…ä¸€ä¸ª depå®žä¾‹ var dep = new Dep() // é…ç½®getterå’Œsetterå¹¶ä¸”æŒ‚è½½åˆ°vmä¸Š Object.defineProperty(vm, key, &#123; get() &#123; if ( Dep.target ) &#123; // JSçš„æµè§ˆå™¨å•çº¿ç¨‹ç‰¹æ€§ï¼Œ ä¿è¯æ•´ä¸ªå…¨å±€å˜é‡åœ¨åŒä¸€æ—¶é—´å†…ï¼Œ åªæœ‰ä¸€ä¸ªç›‘å¬å™¨ä½¿ç”¨ dep.addSub(Dep.target) &#125; return val &#125;, set(newVal) &#123; if ( newVal == val ) return; val = newVal; // ä½œä¸ºå‘å¸ƒè€…å‘å‡ºé€šçŸ¥ dep.notify() &#125; &#125;)&#125; æˆ‘ä»¬çœ‹åˆ°ï¼Œ å®ƒnewäº†ä¸€ä¸ªDepï¼Œ è¿™ä¸ªDepå°±æ˜¯æŠ¥åˆŠäº­å¤§çˆ·çš„ç”µè¯æœ¬ï¼Œ ç”¨æ¥æ”¶é›†æ‰€æœ‰æƒ³ä¹°æŠ¥çº¸æˆ–æ‚å¿—çš„äººçš„ç”µè¯ï¼Œ ç­‰åˆ°åˆ°è´§æ—¶å°±å¥½æŒ¨ä¸ªé€šçŸ¥ ç„¶åŽæˆ‘ä»¬çœ‹åˆ°äº†çµé­‚å‡½æ•° Object.defineProperty, å—·é‚£æˆ‘ä»¬åº”è¯¥å°±æ˜Žç™½äº†ï¼Œ è¿™é‡Œçš„ä¸€é¡¿æ“ä½œå°±æ˜¯ä¸ºäº†ç»™dataé‡Œçš„æ¯ä¸ªå±žæ€§éƒ½æŒ‚è½½ä¸Š getterï¼Œsetter, å¹¶ä¸”å°†è¿™äº›å±žæ€§ç›´æŽ¥è½¬ç§»åˆ°äº†vmä¸Šï¼ˆVueå®žä¾‹ï¼‰ é‚£æ—¢ç„¶å¦‚æ­¤ï¼Œ ðŸ¤ªè®©æˆ‘ä»¬çœ‹çœ‹ getteræ–¹æ³•åšäº†ä»€ä¹ˆï¼Œ é¦–å…ˆå®ƒåˆ¤æ–­äº†ä¸€ä¸‹Dep.targetï¼Œ å¦‚æžœDep.targetä¸ºtrue , å°±è°ƒç”¨depçš„addSubæ–¹æ³•ï¼Œ è¿™é‡ŒDep.targetæ˜¯å•¥æˆ‘ä»¬å…ˆä¸ç®¡ï¼Œ ç•™ä¸ªå°è±¡å³å¯ ç„¶åŽå®ƒç›´æŽ¥returnäº†val ðŸ˜µå†æ¥çœ‹çœ‹setteræ–¹æ³• setteræ–¹æ³•æŽ¥æ”¶ä¸€ä¸ªæ–°å€¼ï¼Œ é¦–å…ˆå°±æ˜¯åˆ¤æ–­äº†æ–°å€¼å’ŒåŽŸæœ¬çš„å€¼æ˜¯å¦ç›¸ç­‰ï¼Œ å¦‚æžœç›¸ç­‰å°±ä¸åšå¤„ç†äº†ï¼Œ å¦‚æžœä¸ç›¸ç­‰ï¼Œ å®ƒå°†æ–°å€¼èµ‹ç»™val ç„¶åŽè°ƒç”¨depå®žä¾‹ä¸Šçš„notifyæ–¹æ³•ï¼Œ notify çœ‹ç€åå­—ä¹ŸçŸ¥é“æ˜¯é€šçŸ¥ï¼Œ ä¹Ÿå°±æ˜¯å¤§çˆ·æŒ¨ä¸ªæ‰“ç”µè¯çš„ä¸€ä¸ªæ“ä½œ å¥½, è¿™ä¸€å—æˆ‘ä»¬ç†é¡ºäº†ï¼Œ æ˜¯ä¸ºäº†æŒ‚ä¸Šgetterå’Œsetterï¼Œ ä½†åˆé‡åˆ°äº†æ–°é—®é¢˜depï¼Œ depåˆ°åº•åœ¨å¹²ä»€ä¹ˆï¼Œ ä¸ºä»€ä¹ˆè¢«getterï¼Œsetteréƒ½ä½¿ç”¨äº† æ‰¾åˆ°Depçš„æž„é€ å‡½æ•°1234567891011121314151617function Dep() &#123; // å­˜æ”¾watcher this.subs = []&#125;Dep.prototype = &#123; // æ·»åŠ watcher, ä¹Ÿå°±æ˜¯æ·»åŠ è®¢é˜… addSub(sub) &#123; this.subs.push(sub) &#125;, // é€šçŸ¥æ‰€æœ‰watcher notify() &#123; this.subs.forEach(sub =&gt; &#123; sub.update() &#125;) &#125;&#125; æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ Depæž„é€ å‡½æ•°ä¸­ç»´æŠ¤äº†ä¸€ä¸ª subsæ•°ç»„ï¼Œ å¹¶ä¸”ä¸‹é¢çš„åœ¨prototypeä¸Šå®šä¹‰äº†å‡ ä¸ªæ–¹æ³•ï¼Œ addSub å’Œnotifyï¼Œè¿™ä¸å°±æ˜¯åˆšåˆšobserveé‡Œè°ƒç”¨çš„ä¸¤ä¸ªæ–¹æ³•å—ï¼Œå“¦ï¼Œæ˜Žç™½äº†ï¼Œ addSubåŽŸæ¥æ˜¯å°†getterä¸­ä¼ å…¥çš„ Dep.targetè¿½åŠ åˆ°æ¯ä¸ªDepå®žä¾‹éƒ½å•ç‹¬ç»´æŠ¤çš„ä¸€ä¸ªsubsæ•°ç»„ä¸­å‘€ï¼Œ notifyå°±æ˜¯éåŽ†æ•´ä¸ªæ•°ç»„ï¼ŒæŒ¨ä¸ªè°ƒç”¨updateæ–¹æ³•ï¼ˆå…ˆä¸ç®¡updateçš„å…·ä½“å®žçŽ°ï¼‰ å¥½ï¼Œ è§£å†³äº†observeæ–¹æ³•ï¼Œé‚£æˆ‘ä»¬å°±å›žåˆ°æœ€åˆçš„Vueæž„é€ å‡½æ•°ä¸­, ç»§ç»­å¾€ä¸‹èµ°, æ”»å…‹å‰©ä½™çš„ç»¿è‰²åŒºåŸŸ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œå®ƒé€šè¿‡el èŽ·å–åˆ°äº†dom, å¹¶åœ¨new Compile å°†dom ä¼ å…¥ é‚£æˆ‘ä»¬å°±æ‰¾åˆ°Compileçš„æž„é€ å‡½æ•°ä¸€æŽ¢ç©¶ç«Ÿ123456function Compile(node, vm) &#123; if(node) &#123; this.$frag = this.nodeToFragment(node, vm) return this.$frag &#125;&#125; å¯ä»¥çœ‹åˆ°ï¼Œ å®ƒæŽ¥æ”¶äº†ä¸€ä¸ªnodeï¼Œ å’Œä¸€ä¸ªvm , å¹¶ä¸”åˆ¤æ–­äº†ä¸€ä¸‹nodeæ˜¯å¦å­˜åœ¨ï¼Œ å¹¶å°†nodeå’Œvmï¼Œä¼ å…¥äº†this.nodeToFragmentæ–¹æ³•ï¼Œ åˆå°†å…¶çš„è¿”å›žç»“æžœreturnå‡ºåŽ»ï¼Œ ä¹Ÿå°±æ˜¯new Compileä¹‹åŽè¿”å›žçš„å€¼ ï¼Œå¦‚ä¸‹ é‚£this.nodeToFragmentè¿™ä¸ªæ–¹æ³•åšäº†ä»€ä¹ˆï¼Œ è®©æˆ‘ä»¬æ‰¾åˆ°ä»–1234567891011121314151617181920212223242526272829303132333435363738394041424344454647Compile.prototype = &#123; nodeToFragment(node, vm) &#123; var _this = this // åˆ›å»ºæ–‡æ¡£ç‰‡æ®µ var frag = document.createDocumentFragment() var child; while ( child = node.firstChild ) &#123; // æ›¿æ¢å˜é‡ _this.compileElement(child, vm) // å‰ªè´´å­å…ƒç´  frag.append(child) &#125; return frag &#125;, compileElement(node, vm) &#123; var reg = /\&#123;\&#123;(.*)\&#125;\&#125;/; // èŠ‚ç‚¹ç±»åž‹ä¸ºå…ƒç´ , æ ¹æ®nodeTypeæ¥åˆ¤æ–­ if ( node.nodeType === 1 ) &#123; // èŽ·å–è‡ªå®šä¹‰å±žæ€§ var attr = node.attributes for (var i = 0; i &lt; attr.length; i++) &#123; if (attr[i].nodeName == "v-model") &#123; // èŽ·å–v-model ç»‘å®šçš„å±žæ€§å var name = attr[i].nodeValue // åŒå‘ç»‘å®š node.addEventListener('input', function(e) &#123; // ç»™ç›¸åº”çš„dataå±žæ€§èµ‹å€¼ï¼Œ è¿›è€Œè§¦å‘è¯¥å±žæ€§çš„setæ–¹æ³• // å†æ‰¹å¤„ç†æ¸²æŸ“å…ƒç´  vm[name] = e.target.value &#125;) // æŠŠthis ï¼ŒèŠ‚ç‚¹ï¼Œ è¿˜æœ‰v-modelç»‘å®šçš„å˜é‡äº¤ç»™watcher new Watcher(vm, node, name, "value") &#125; &#125; &#125; // èŠ‚ç‚¹ç±»åž‹ä¸ºtext if ( node.nodeType === 3 ) &#123; if ( reg.test(node.nodeValue) ) &#123; var name = RegExp.$1; // èŽ·å–åŒ¹é…åˆ°çš„å­—ç¬¦ä¸² name = name.trim() // æŠŠthis ï¼ŒèŠ‚ç‚¹ï¼Œ è¿˜æœ‰&#123;&#123; xxx &#125;&#125;ä¸­ä½¿ç”¨çš„å˜é‡äº¤ç»™watcher new Watcher(vm, node, name, 'nodeValue') &#125; &#125; &#125;&#125; æˆ‘ä»¬çœ‹åˆ°å®ƒåœ¨CompileåŽŸåž‹ä¸ŠæŒ‚äº†nodeToFragment, compileElementä¸¤ä¸ªæ–¹æ³•ï¼Œ nodeToFragmentæ–¹æ³•æŽ¥æ”¶ node, vmå‚æ•° å…ˆä¿å­˜äº†ä¸€ä¸‹thisæŒ‡å‘, ç„¶åŽä½¿ç”¨document.createDocumentFragment()æ–¹æ³•åˆ›å»ºäº†ä¸€ä¸ªæ–‡æ¡£ç‰‡æ®µï¼Œ å¹¶å°†åœ¨whileå¾ªçŽ¯ä¸­ä¼ å…¥çš„nodeèŠ‚ç‚¹çš„ç¬¬ä¸€ä¸ªå…ƒç´ èµ‹å€¼ç»™ childå˜é‡ï¼Œç„¶åŽä½¿ç”¨compileElement(child, vm) å°†childå’Œvm ä¼ å…¥, ç„¶åŽå°†child è¿½åŠ ç»™åˆ›å»ºå¥½çš„æ–‡æ¡£ç‰‡æ®µfrag, ä½ è‚¯å®šä¼šè§‰å¾—è¿™æ˜¯ä¸ªæ­»å¾ªçŽ¯, å…¶å®žä¸æ˜¯çš„ï¼Œ è¿™ä¸ªappendå¯¹domæœ‰å‰ªåˆ‡çš„æ•ˆæžœï¼Œæ‰€ä»¥ä»–ä¼šä¸€ç›´æŠ½ç¦»nodeçš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œç›´è‡³nodeç©ºäº†ï¼Œ å¸å¹²ä»– å®Œæˆäº†è¿™é¡¿æ“ä½œåŽï¼Œ å†å°†fragæ–‡æ¡£ç‰‡æ®µè¿”å›ž ç„¶åŽæˆ‘ä»¬æ¥çœ‹çœ‹å®ƒåœ¨whileä¸­è°ƒç”¨çš„compileElementæ–¹æ³•åšäº†ä»€ä¹ˆ å®ƒåŒæ ·æŽ¥æ”¶nodeå’Œvm , é¦–å…ˆå°±æ˜¯å®šä¹‰ä¸€ä¸ªæ­£åˆ™ï¼Œ è¿™æ˜¯ç”¨æ¥åŒ¹é…åŒæ‹¬å·çš„ï¼Œ ä¹Ÿå°±æ˜¯æˆ‘ä»¬å¹³æ—¶çš„å˜é‡å†™æ³• ç„¶åŽå®ƒåˆ¤æ–­äº†ä¸€ä¸‹è¿™ä¸ª nodeçš„èŠ‚ç‚¹ç±»åž‹, å¦‚æžœnodeType == 1, é‚£å°±è¯´æ˜Žæ˜¯å…ƒç´ ï¼Œ å¦‚æžœnodeType == 3 é‚£å°±è¯´æ˜ŽèŠ‚ç‚¹ç±»åž‹æ˜¯text å¦‚æžœèŠ‚ç‚¹ç±»åž‹æ˜¯å…ƒç´ ï¼Œ å°±åˆ©ç”¨attributes æ–¹æ³•ï¼ŒèŽ·å–åˆ°è¯¥å…ƒç´ èº«ä¸Šçš„å±žæ€§, æŸ¥çœ‹æ˜¯å¦å­˜åœ¨v-modelè¿™æ ·ä¸€ä¸ªå±žæ€§ï¼Œ å¦‚æžœæœ‰ï¼Œå°±èŽ·å–åˆ°v-modelå¡«å†™çš„å˜é‡ï¼Œäº¤ç»™å˜é‡name,ç„¶åŽç›‘å¬è¯¥å…ƒç´ çš„inputäº‹ä»¶ï¼Œ æ‰€ä»¥æ¯å½“æ”¹å…ƒç´ å‘ç”Ÿinputæ—¶é—´æ—¶ï¼Œå°±å°†å…ƒç´ ä¸Šçš„valueæ ¹æ®v-modelä¸ŠèŽ·å–åˆ°çš„nameä½œä¸ºvmçš„keyåŽ»ä¿®æ”¹vmå®žä¾‹ä¸Šçš„å¯¹åº”çš„å€¼ï¼Œ å› ä¸ºvmä¸Šçš„å˜é‡å·²ç»è¢«æŒ‚è½½æ­¤æ¥è§¦å‘vm æœ€åŽè¿˜åˆ›å»ºäº†ä¸€ä¸ªWatcherå®žä¾‹, ä¼ å…¥vm, node ,name, &quot;value&quot;è¿™å‡ ä¸ªå‚æ•°ï¼Œ Watcherçš„å…·ä½“å®žçŽ°æˆ‘ä»¬å¾…ä¼šåŽ»çœ‹ æŽ¥ä¸‹æ¥å°±æ˜¯åˆ¤æ–­node.nodeType == 3ï¼Œ ä¹Ÿå°±æ˜¯textç±»åž‹çš„èŠ‚ç‚¹ï¼Œ å¦‚æžœæ˜¯æ­¤ç±»èŠ‚ç‚¹ï¼Œ å°±å…ˆç”¨æ­£åˆ™åŽ»åŒ¹é…ä¸€ä¸‹è¯­æ³•ï¼Œ çœ‹çœ‹æœ‰æ²¡æœ‰ä½¿ç”¨åˆ°æŸä¸ªå˜é‡ï¼Œå¦‚æžœåŒ¹é…åˆ°äº†ï¼Œ åˆ™é€šè¿‡RegExp.$1èŽ·å–åˆ°è¢«åŒ¹é…åˆ°çš„å€¼ï¼Œ ç„¶åŽåŽ»é™¤å·¦å³çš„ç©ºæ ¼ï¼Œ äº¤ç»™å˜é‡nameæœ€åŽï¼ŒåŒæ ·çš„åˆ›å»ºäº†ä¸€ä¸ªWatcherå®žä¾‹, ä¼ å…¥vm, node ,name, &quot;value&quot;è¿™å‡ ä¸ªå‚æ•°ï¼Œ å‡ºçŽ°ä¸¤æ¬¡Watcherï¼Œ ä»€ä¹ˆæƒ…å†µï¼Œ åˆ°åº•å¹²äº†å•¥é‚£ï¼Œ çŽ°åœ¨å°±æ¥è®©æˆ‘ä»¬çœ‹çœ‹ç¥žç§˜çš„Watcheræž„é€ å‡½æ•° æ‰¾åˆ°Watcherçš„æž„é€ å‡½æ•°1234567891011121314151617181920let uid = 0;function Watcher(vm, node, name, type) &#123; // å•ä¾‹ï¼Œ ä½¿ç”¨åŽŸå› æœªçŸ¥ Dep.target = this // å§“å this.name = name; // å‘µå‘µå“’ uid this.id = ++uid; // ä¸Žå˜é‡ç›¸å…³çš„NodeèŠ‚ç‚¹ this.node = node; // vm å®žä¾‹ this.vm = vm; // å˜é‡ç±»åž‹ nodeValue || value this.type = type; // è§¦å‘è‡ªå·±åŽŸåž‹ä¸Šçš„updateæ–¹æ³• this.update() // Watcher å®žä¾‹åˆ›å»ºç»“æŸå°±æŠŠå•ä¾‹ç½®ç©º Dep.target = null&#125; æ­¤æ—¶æˆ‘ä»¬å‘çŽ°äº†ä¸€ä¸ªå…³é”®çš„ä¸œè¥¿Dep.target ï¼Œ è¿™ä¸ªé¬¼ä¸œè¥¿åŽŸæ¥åœ¨è¿™é‡Œï¼Œ å®ƒè¢«èµ‹å€¼ä¸ºäº†Watcherçš„å®žä¾‹ï¼Œ ç„¶åŽåœ¨Watcherå®žä¾‹ä¸ŠæŒ‚è½½äº†nameï¼Œä¹Ÿå°±æ˜¯ç”¨åˆ°çš„å˜é‡ï¼Œ è¿˜ä½¿ç”¨äº†ä¸€ä¸ªuidï¼Œ ä¸è¿‡è¿™uidä¹Ÿæ˜¯å‘µå‘µäº†ï¼Œç”¨æ•°å­—ä½œä¸ºuid, Vueçš„çœŸå®žæºç å°±è¿™ä¹ˆå¹²çš„ï¼Œ ä¸ºæ¯ä¸ªWatcheréƒ½é…åˆ†ä¸€ä¸ªuidï¼Œ è¿™ä¼šé€ æˆæ•°ç»„ç©ºé—´çš„ä¸è¿žç»­ï¼Œ å¼•å‘å†…å­˜æ³„æ¼ æŽ¥ç€è¯´ï¼Œ ç„¶åŽä»–å°†ä¼ å…¥çš„nodeèŠ‚ç‚¹ï¼Œ vmå®žä¾‹ï¼Œ è¿˜æœ‰type( â€˜nodeValueâ€™ å’Œ â€˜valueâ€™ ), éƒ½æŒ‚åˆ°äº†å®žä¾‹ä¸Šé¢ï¼Œ å¹¶ä¸”è¿˜åœ¨è°ƒç”¨äº†updateæ–¹æ³•åŽï¼Œ å°†Dep.targetè®¾ä¸ºnull é‚£æˆ‘ä»¬æ¥çœ‹ä¸‹updateåšäº†å•¥ 123456789101112131415Watcher.prototype = &#123; update() &#123; this.get() if(!batcher) &#123; // bastcher å•ä¾‹ batcher = new Batcher() &#125; // åŠ å…¥é˜Ÿåˆ— batcher.push(this) &#125;, // èŽ·å–æ–°å€¼æŒ‚åˆ°è‡ªå·±çš„å®žä¾‹ä¸Š get() &#123; this.value = this.vm[this.name] // è§¦å‘getter &#125;&#125; çœ‹åˆ°updateæ–¹æ³•ï¼Œ é¦–å…ˆè°ƒç”¨äº†ä¸€ä¸‹getæ–¹æ³•ï¼Œ è¿™ä¸ªgetå‘¢å°±æ˜¯æ ¹æ®this.nameä»Ž vmå®žä¾‹ä¸Šå–ä¸€æ¬¡å€¼ï¼Œ å¹¶æŒ‚åˆ°Watcherå®žä¾‹ä¸Šçš„valueå±žæ€§ä¸Š, å¹¶ä¸”ä»–è¿˜ä¼šè§¦å‘ä¸€æ¬¡getteræ–¹æ³•ï¼Œå°†è‡ªå·±åŠ å…¥åˆ°depä¸­ï¼Œ ä¹Ÿå°±æ˜¯åŠ å…¥åˆ°æŠ¥åˆŠäº­å¤§çˆ·çš„ç”µè¯æœ¬ä¸­ï¼Œ ä¾¿äºŽä¹‹åŽçš„é€šçŸ¥ ç„¶åŽåˆ¤æ–­äº†ä¸€ä¸‹window.batcheræ˜¯å¦å­˜åœ¨ï¼Œ å¦‚æžœä¸å­˜åœ¨å°±åˆ›å»ºä¸€ä¸ªï¼Œ ä¿è¯å…¶æ˜¯ä¸€ä¸ªå•ä¾‹æ¨¡å¼,å¦‚æžœå­˜åœ¨ï¼Œ å°±å°†è‡ªå·±(watcherå®žä¾‹)ï¼Œé€šè¿‡pushæ–¹æ³•ä¼ å…¥ çœ‹åˆ°è¿™é‡Œï¼Œåˆæ™•äº†ï¼Œ ä»€ä¹ˆæ—¶å€™åˆå†’å‡ºæ¥ä¸€ä¸ªBatcher æˆ‘ä»¬åˆæ‰¾åˆ°Batcherçš„æž„é€ å‡½æ•°å¥½å¥½åˆ†æžä¸‹ï¼Œ12345678910111213141516171819202122232425262728293031323334353637383940414243444546// æ‰¹å¤„ç†æž„é€ å‡½æ•°function Batcher() &#123; // é‡ç½® has queue waiting this.reset()&#125;Batcher.prototype.reset = function () &#123; this.has = &#123;&#125; this.queue = [] this.waiting = false&#125; // å°†watcher æ·»åŠ åˆ°é˜Ÿåˆ—ä¸­Batcher.prototype.push = function (job) &#123; let id = job.id // å…ˆæ ¹æ® å¯¹è±¡çš„key çœ‹çœ‹æ˜¯å¦å·²ç»æœ‰äº†è¿™ä¸ªwatcher if (!this.has[id]) &#123; // console.log(batcher) this.queue.push(job) // å°†watcher çš„keyçš„è®¾ä¸ºtrue this.has[id] = true // å»¶è¿Ÿæ‰§è¡Œ if (!this.waiting ) &#123; this.waiting = true if ( "Promise" in window ) &#123; Promise.resolve().then(() =&gt; &#123; this.flush() &#125;) &#125; else &#123; setTimeout(() =&gt; &#123; this.flush() &#125;, 0) &#125; &#125; &#125;&#125;// æ‰§è¡Œå¹¶æƒ…å†µäº‹ä»¶é˜Ÿåˆ—Batcher.prototype.flush = function() &#123; this.queue.forEach(job =&gt; &#123; job.cb() &#125;) this.reset()&#125; Batcherçš„æž„é€ å‡½æ•°å¾ˆç®€å•ï¼Œ å°±è°ƒç”¨äº†ä¸€ä¸‹è‡ªå·±çš„resetæ–¹æ³•ï¼Œ ä½†å¥½åƒäº‹æƒ…è¿œæ²¡æœ‰è¿™ä¹ˆç®€å•ï¼Œæˆ‘ä»¬ä¸æ˜¯åœ¨ Watcherçš„updateæ–¹æ³•ä¸­è°ƒç”¨äº†batcher.pushå—ï¼Œ æˆ‘ä¹Ÿå¯ä»¥åœ¨è¿™åŽŸåž‹ä¸Šæ‰¾çš„è¿™ä¸ªæ–¹æ³•ï¼Œ é¦–å…ˆå®ƒæŽ¥æ”¶ä¸€ä¸ªjobå‚æ•°ï¼Œ ä¹Ÿå°±æ˜¯Watcherå®žä¾‹ï¼Œ èŽ·å–åˆ°è¯¥watcherçš„id, ç„¶åŽä½¿ç”¨è¿™ä¸ªid,åŽ»hasè¿™ä¸ªå¯¹è±¡ä¸Šè®¿é—®ä¸€ä¸‹ï¼Œ çœ‹çœ‹æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æžœä¸å­˜åœ¨ï¼Œåœ¨è¯æ˜Žä¹‹å‰æ²¡æœ‰æ·»åŠ è¿›æ¥è¿‡ï¼Œ ç„¶åŽå°†è¯¥watcherå®žä¾‹åŠ åˆ°queueé˜Ÿåˆ—ä¸­ï¼Œå¹¶å°†haså¯¹è±¡ä¸­idå¯¹åº”çš„å€¼è®¾ä¸ºtrue, ä»¥é˜²æ­¢é‡å¤åŠ å…¥é˜Ÿåˆ— å¹¶ä¸”åˆ¤æ–­ä¸€ä¸‹waitingï¼Œå¾—çŸ¥å½“å‰æ˜¯å¦å¤„äºŽç­‰å¾…çŠ¶æ€ï¼Œ å¦‚æžœä¸æ˜¯ï¼Œ å°±å°†waitingæ”¹ä¸ºtrue, ç„¶åŽå°±æ˜¯åˆ¤æ–­å½“å‰æµè§ˆå™¨çš„æ”¯æŒæƒ…å†µï¼Œ å°†å¤„ç†çš„ä»»åŠ¡æ‰”åˆ°å¼‚æ­¥é˜Ÿåˆ—ä¸­ å®ƒè¿™é‡Œè¿™ä¹ˆåšæ˜¯ä¸ºäº†ï¼Œåªæ‰¹å¤„ç†ä¸€æ¬¡ï¼Œ ä½ ä¸€çž¬é—´åŠ å…¥å¤šä¸ªwatcher, å¾ˆå®¹æ˜“é€ æˆé‡å¤æ‰§è¡Œï¼Œ åˆ©ç”¨Watcherçš„idæ¥è¿‡æ»¤ï¼Œ å¹¶ä¸”åˆ©ç”¨å¼‚æ­¥ï¼Œ ç­‰ä½ è¦åŠ çš„watcheréƒ½åŠ å®Œäº†ï¼Œ æˆ‘å†ç»™ä½ ç»Ÿä¸€çš„åŽ»æ‰§è¡Œæ‰€æœ‰Watcher ä¹Ÿå°±æ˜¯å¼‚æ­¥ä»»åŠ¡ç»“æŸåŽè°ƒç”¨çš„flushæ–¹æ³•ï¼Œ å®ƒåœ¨å†…éƒ¨ä¼šéåŽ†queueé˜Ÿåˆ—ï¼Œ æŒ¨ä¸ªçš„è°ƒç”¨Watcherçš„cbæ–¹æ³•åœ¨è¿™ä¸€åˆ‡éƒ½æ‰§è¡Œå®Œæˆä¹‹åŽï¼Œ åˆè°ƒç”¨äº†ä¸€æ¬¡resetæ–¹æ³•ï¼Œ å°†bascherçš„ä¸‰ä¸ªå±žæ€§é‡ç½®ä¸ºåˆå§‹çŠ¶æ€ æ­¤æ—¶å…³æ³¨ç‚¹åˆå›žåˆ°äº†Watcherèº«ä¸Šï¼Œ å®ƒçš„cbæ–¹æ³•åˆåšäº†ä»€ä¹ˆ12345678910Watcher.prototype = &#123; // ...çœç•¥å…¶ä»–æ–¹æ³• // ç»™domèµ‹å€¼ cb() &#123; // æœ€ç»ˆå®žé™…è™šæ‹Ÿdom å¤„ç†ç»“æžœï¼Œ åªå¤„ç†ä¸€æ¬¡ // è™šæ‹Ÿdom -&gt; diff( è™šæ‹Ÿdom ) -&gt; å±€éƒ¨æ›´æ–° -&gt; createElement(vNode) -&gt; render this.node[this.type] = this.value &#125;,&#125; å¯ä»¥çœ‹åˆ°cbæ–¹æ³•åšçš„äº‹æƒ…å¾ˆç®€å•é‚£ï¼Œ å°±æ˜¯æ ¹æ®å…ƒç´ çš„å€¼ç±»åž‹åŽ»ä¿®æ”¹å…ƒç´ å¯¹è±¡çš„å€¼ï¼Œ è€Œè¿™ä¸ªthis.valueæ—©åœ¨ä¹‹å‰è°ƒç”¨ Watcherçš„getæ–¹æ³•æ—¶å°±è¢«èµ‹ä¸Šäº† åˆ°è¿™é‡Œï¼Œæ•´ä¸ªæµç¨‹å°±èµ°å®Œäº†ï¼Œ ç›¸ä¿¡ä½ è¿˜æ˜¯ä¸€å¤´é›¾æ°´ï¼Œ æˆ‘ä»¬æŠŠæ•´ä¸ªæµç¨‹æ¥ä¸²ä¸€ä¸‹ new Vue å°†dataä¸­çš„å€¼æŒ‚ä¸Š getterå’Œsetter çš„ç›¸åº”æ–¹æ³•ï¼Œ ç„¶åŽæš‚ä¸”æç½®ï¼Œå› ä¸ºæ­¤æ—¶è¿˜æ— äººè°ƒç”¨getterå’Œsetter é€šè¿‡ Compileè§£æžæ¨¡æ¿ï¼Œ æŒ¨ä¸ªé€’å½’#appä¸‹çš„dom, åˆ¤æ–­å…ƒç´ ç±»åž‹ï¼Œ å¦‚æžœæ˜¯å…ƒç´ ï¼Œå¹¶ä¸”ä½¿ç”¨äº†v-modelï¼Œ å°±ç»‘å®šä¸€ä¸ªinputäº‹ä»¶, å¦‚æžœæ˜¯æ–‡æœ¬ç±»åž‹èŠ‚ç‚¹,å°±åŽ»åŒ¹é…æ˜¯ä½¿ç”¨äº†è¯­æ³•ï¼Œ æœ€åŽä¸ºä»–ä»¬éƒ½åˆ›å»ºäº†ä¸€ä¸ªwatcher æ¯ä¸ªwatcher ç”¨æ¥ä¿å­˜ç›¸å…³çš„å…ƒç´ å¯¹è±¡ï¼Œ vmå®žä¾‹ï¼Œä½¿ç”¨çš„å˜é‡ ä»¥åŠå…ƒç´ å€¼ç±»åž‹, å¹¶å°†è‡ªå·±çš„å®žä¾‹äº¤ç»™ï¼Œ Dep.targetï¼Œ å¹¶è§¦å‘è‡ªå·±çš„updateæ–¹æ³•ï¼Œupdateæ–¹æ³•åˆä¼šè°ƒç”¨getæ–¹æ³•ï¼Œ getæ–¹æ³•åˆä¼šè§¦å‘è¯¥å˜é‡çš„getterï¼Œ è¿™ä¹Ÿå°±ä½¿å¾—getterä¸­å¯ä»¥å°†è¯¥watcheræ”¾å…¥depå®žä¾‹ä¸­ï¼Œ æœ€åŽå°†è‡ªå·±ä¹Ÿæ”¾å…¥Bacherä¸­ï¼Œç”¨ä»¥æ‰¹å¤„ç†ä»¥åŠå°†Dep.targetç½®ç©º Batcheræ˜¯ä¸ªå•ä¾‹ï¼Œ æ ¹æ®Watcherçš„id, å®ƒç”¨æ¥è¿‡æ»¤é‡å¤ä¼ å…¥çš„Watcher, ä¿è¯ä¸€ä¸ªWatcheråªè§¦å‘ä¸€æ¬¡, å¹¶å°†æ›´æ–°äº‹ä»¶ä¸¢å…¥å¼‚æ­¥ï¼Œç­‰å½“å‰çš„è¿žç»­æ“ä½œæ‰§è¡Œå®ŒæˆåŽåŽ»è°ƒç”¨Watcherçš„cbæ–¹æ³•æ›´æ–°dom ä¹‹åŽç”¨æˆ·ä¿®æ”¹äº†å˜é‡, setteråˆä¼šè°ƒç”¨depè¿™ä¸ªå‘å¸ƒè€…æ¥å‘å‡ºé€šçŸ¥ï¼Œ ç›¸å…³çš„Watcherçš„updateæ–¹æ³•å†æ¬¡è¢«è°ƒç”¨ï¼Œ åˆä¼šåŠ å…¥batcher , batcherç­‰å¾…å¼‚æ­¥å®ŒæˆåŽåˆè°ƒç”¨Watcherçš„cbæ–¹æ³•æ›´æ–°dom åˆ°è¿™é‡Œå°±æ•´ä¸ªä¸²å®Œäº†ï¼Œä½†æ˜¯æ„Ÿè§‰åºŸè¯è¿˜æ˜¯æœ‰ç‚¹å¤šï¼Œ å†ç®€åŒ–ä¸€ç‚¹æµç¨‹: new Vue â€“&gt; Observe æŒ‚è½½ setter å’Œ getter â€“&gt; Compile ç¼–è¯‘æ¨¡æ¿ â€“&gt; ä¸ºæ¯ä¸ªæŒ‡ä»¤åˆ†é…ä¸€ä¸ªwatcher â€“&gt; åˆ›å»ºæ—¶ä¼šè°ƒç”¨ä¸€æ¬¡watcher.update å°†è‡ªå·±åŠ å…¥åˆ°batcherçš„é˜Ÿåˆ— â€“&gt;å¹¶ä¸”æ­¤æ—¶ä¼šè§¦å‘ getter å°†watcheråŠ å…¥dep â€“&gt; batcher ç»Ÿä¸€æ¥å¤„ç†watcheråŽåˆå§‹åŒ–è‡ªå·± â€“&gt; å½“ç”¨æˆ·ä¿®æ”¹æŸä¸ªå˜é‡æ—¶ â€“&gt; depé€šçŸ¥watcher â€“&gt; watcheråˆè¢«åŠ å…¥batcherå¤„ç† â€“&gt; watcher æ›´æ–°dom Vueçš„batcherè¿˜æ˜¯å®žçŽ°çš„ä¸æ˜¯å¾ˆå¥½ï¼Œ ç¼ºå°‘è°ƒåº¦æœºåˆ¶ï¼Œ è¿™ç‚¹ä¸Šè¿˜æ˜¯React Fiberæ›´ä¼˜ç§€ç‚¹ï¼ŒFiberå¦‚æžœé‡ä¸Šäº†é•¿æ—¶é—´çš„ä»»åŠ¡ä¼šé€‰æ‹©æ”¾å¼ƒï¼Œ é¿å…é˜»å¡žè¿›ç¨‹ã€‚ ðŸ˜•å¥½äº†ï¼Œ ç¥žç§˜çš„Vueæºç å·²è¢«æ­å¼€é¢çº±ï¼Œ ä½†è¿™ä»…ä»…æ˜¯ç®€æ˜“ç‰ˆçš„å®žçŽ°ï¼Œ çœŸå®žçš„Vueéžå¸¸åºžå¤§ï¼Œ è¿˜æœ‰æ›´å¤šçš„å†…å®¹ï¼Œ è¿™é‡Œåªæ˜¯è®©å¤§å®¶æ˜Žç™½MVVMçš„æ ¸å¿ƒåŽŸç† é¡¹ç›®æºç : https://github.com/nxl3477/note/tree/master/Javascript/Vue/%E5%AE%9E%E7%8E%B0vue ä¼˜è´¨æ–‡çŒ®: æ±¤å§†å¤§å”çš„è§‚å¯Ÿè€…æ¨¡å¼]]></content>
      <categories>
        <category>Vue</category>
      </categories>
      <tags>
        <tag>Vue</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€è®°å½•ã€‘å·¥å…·ç›®å½•]]></title>
    <url>%2F2019%2F03%2F17%2F%E3%80%90%E8%AE%B0%E5%BD%95%E3%80%91%E5%B7%A5%E5%85%B7%E7%9B%AE%E5%BD%95%2F</url>
    <content type="text"><![CDATA[è¿™é‡Œå­˜æ”¾å„ç§å¯èƒ½ç”¨åˆ°çš„ç”¨ä¸åˆ°çš„ä¸œè¥¿ï¼Œ çœŸç”¨åˆ°æ—¶æ–¹ä¾¿æŸ¥æ‰¾ðŸ˜„ å½“ç„¶å¹³æ—¥é‡Œç»å¸¸ç”¨åˆ°çš„ï¼Œ è€³ç†Ÿèƒ½è¯¦çš„ï¼Œ æˆ‘å°±ä¸æ”¾è¿›æ¥äº†ï¼Œ ä¸»è¦æ˜¯èµ·ä¸ªå¤‡å¿˜å½•çš„ä½œç”¨ CSSå…¼å®¹æŸ¥è¯¢ https://caniuse.com/ https://cssdb.org/ åŠ¨ç”» è´å¡žå°”: http://cubic-bezier.com/#.17,.67,.83,.67 å¯ç”Ÿæˆmatrixçš„ç½‘ç«™ åç§° ç½‘å€ matrix3d http://ds-overdesign.com/transform/matrix3d.html CSS-Matrix3d https://github.com/Zhangdroid/CSS-Matrix3d matrix http://meyerweb.com/eric/tools/matrix/ tools http://www.f2e.name/case/css3/tools.html é«˜é€¼æ ¼ web component CSS: https://css-doodle.com/ PostCss å€¼å¾—æ”¶è—çš„æ’ä»¶ åŠŸèƒ½ æ’ä»¶å è¿è¡Œæ—¶å˜é‡ POSTCSS-CUSTOM-PROPERTIES ä¸ŽSCSSä¸€è‡´çš„å˜é‡å®žçŽ° POSTCSS-SIMPLE-VARS å®žçŽ°ç±»ä¼¼SASSçš„@MIXINçš„åŠŸèƒ½ POSTCSS-MIXINS å®žçŽ°ç±»ä¼¼SASSçš„ç»§æ‰¿åŠŸèƒ½ POSTCSS-EXTEND å®žçŽ°ç±»ä¼¼SASSçš„IMPORT POSTCSS-IMPORT é¢å‘æœªæ¥ CSSNext ä¿®å¤è¿‡åŽ»ï¼ˆå…¼å®¹IEï¼Œzommã€ä¸€åƒç´ ç•™ç™½ç­‰ï¼‰ CSS Grace Nodeæ¡†æž¶ åŠŸèƒ½ æ’ä»¶å å‘¨è¾¹ç”Ÿæ€ å¸®åŠ©å®žçŽ°DIçš„åº“ Awilix awilix-koa å®žçŽ°æŽ§åˆ¶åè½¬&amp;æž„é€ æ³¨å…¥çš„æ¡†æž¶ InversifyJS inversify-koa-utils æ€§èƒ½æµ‹è¯• åŠŸèƒ½ åç§° æ€§èƒ½æµ‹è¯• Benchmark.js webpack4å­¦ä¹ å¸®åŠ© webpack-internal-plugin-relation å¯è§†åŒ–çš„webpack é’©å­ åŠŸèƒ½æ€§èƒ½ç±» åŠŸèƒ½ æ’ä»¶å è‡ªåŠ¨æ’å…¥htmlåŠé™æ€æ–‡ä»¶ HtmlWebpackPluginã€é…ç½®è‡ªåŠ¨æ³¨å…¥loadingï¼ˆç›‘æµ‹èµ„æºï¼‰ã€‘ æŠ½ç¦»cssæ–‡ä»¶ MiniCssExtractPlugin æ¸…ç©ºæŒ‡å®šç›®å½• CleanWebpackPlugin js æ·±åº¦ tree sharking åŸºäºŽES6æ¨¡å— webpack-deep-scope-plugin css tree sharking PurifyCSSPlugin å¤šæ ¸æ‰“åŒ…ä»¶ [éœ€è¦babel] uglifyjs-webpack-plugin[å®˜æ–¹], happypack å‰ç«¯ç¼“å­˜è´Ÿè½½ã€è‡ªåŠ¨ç”Ÿæˆç¼“å­˜æ–‡ä»¶ã€‘ Webpack Manifest Plugin js åŽ‹ç¼© ä»¥åŠ esåŽ‹ç¼© å¤šæ ¸åŽ‹ç¼© webpack-parallel-uglify-plugin, happypack hint css å¤šæ ¸åŽ‹ç¼©css css-nano, optimize-css-assets-webpack-plugin js è½¬ asté™æ€è¯­æ³•åˆ†æžæ ‘ acorn , acorn-walk èƒ½å¯¹htmlè¿›è¡Œhint ä»¥åŠ fix çš„æ’ä»¶ html-minifier, html-minifier-lint æ¬è¿é™æ€æ–‡ä»¶ copy-webpack-plugin ä¼˜åŒ–ä½“éªŒç±» åŠŸèƒ½ æ’ä»¶å ç›‘æµ‹ webpack æ‰“åŒ…é€Ÿåº¦ speed-measure-webpack-plugin æ‰“åŒ…æˆåŠŸé€šçŸ¥ webpack-build-notifier æ˜¾ç¤ºæ‰“åŒ…è¿›åº¦ progress-bar-webpack-plugin ä¿¡æ¯é¢æ¿ä¼˜åŒ– webpack-dashboard[éœ€è¦é…ç½®Pagejson]ï¼Œ webpack-jarvis[ç½‘é¡µä¸­æµè§ˆ] ä¿®æ”¹cmd æ ‡é¢˜ node-bash-title[ github ][cmder æ— æ•ˆ] loader åŠŸèƒ½ æ’ä»¶å ç¼“å­˜Loaderç»“æžœ cache-loader AST acorn ç”Ÿæˆ Ast acorn-walk å°†ASTè½¬å›žä»£ç  estraverse ç”¨äºŽéåŽ†Ast æ ‘ JavaScripté¢œè‰²æå– RGBaster TypeScriptè¿è¡Œå·¥å…· åŠŸèƒ½ æ’ä»¶å å‘¨è¾¹ç”Ÿæ€ åœ¨nodeä¸­ä¸ç”¨ç¼–è¯‘å°±è¿è¡Œ ts-node ts-node-dev çƒ­é‡å¯ Linuxvim å¿«é€Ÿå­¦ä¹ vimçš„ç½‘ç«™: https://vim-adventures.com/ ç®—æ³•å­¦ä¹ å¸®åŠ© ç®—æ³•è¿‡ç¨‹å¯è§†åŒ–: https://algorithm-visualizer.org/branch-and-bound/binary-search k8s ä¸­æ–‡æ‰‹å†Œ: https://www.kubernetes.org.cn/docs Chart åº”ç”¨ä»“åº“: https://hub.kubeapps.com/ å›¾å½¢å­¦ ç®—æ³•ç”Ÿæˆå›¾åƒ: https://blog.csdn.net/zhangpiu/article/details/49511107s canvas åº“ æä¾›åŸºç¡€çš„canvasæ•ˆæžœåº“ï¼š http://spritejs.org/#/ ç‰©ç†å¼•æ“Ž cocos2Dï¼š https://cocos2d-x.org/products phaserï¼š http://phaser.io/ Three stats.min.js æ˜¾ç¤ºåŠ¨ç”»å¸§çŽ‡ æ€§èƒ½ä¼˜åŒ–æ›´æ–°ç®—æ³•ï¼ˆæ–‡ä»¶å¢žé‡æ›´æ–°ï¼‰ mt.js (https://github.com/mtjs/mt)]]></content>
      <categories>
        <category>è®°å½•</category>
      </categories>
      <tags>
        <tag>è®°å½•</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€å®¹å™¨ã€‘dockerå‘½ä»¤æ‰‹å†Œ]]></title>
    <url>%2F2019%2F03%2F17%2F%E3%80%90%E5%AE%B9%E5%99%A8%E3%80%91docker%E5%91%BD%E4%BB%A4%E6%89%8B%E5%86%8C%2F</url>
    <content type="text"><![CDATA[ä½¿ç”¨docker æŸ¥çœ‹æ‰€æœ‰å‘½ä»¤ åŸºæœ¬å‘½ä»¤ å‘½ä»¤ åŠŸèƒ½ ç¤ºä¾‹ FROM å£°æ˜Žåº•åŒ…æ¥æº FROM centos RUN æž„å»ºå‘½ä»¤â€“åªåœ¨æž„å»ºé•œåƒä¸­ä½¿ç”¨ RUN yum install wget -y WORKDIR dockerä¸­å¿…é¡»ç”¨æ­¤åˆ‡æ¢ç›®å½• WORKDIR Python-3.7.0 CMD è¿è¡Œå‘½ä»¤ CMD python3 -m http.server docker build â€˜dockerfileçš„è·¯å¾„â€™ æž„å»ºæ–°é•œåƒ è¿›ç¨‹ç›¸å…³å‘½ä»¤ åœ¨docker clientä¸­ä½¿ç”¨ å‘½ä»¤ åŠŸèƒ½ ç¤ºä¾‹ docker ps æŸ¥çœ‹è¿›åŸŽ docker ps docker kill â€˜idâ€™ æ€æ­»æŒ‡å®šå®¹å™¨ docker kill 123 docker rename å®¹å™¨æ”¹å docker restart é‡å¯å®¹å™¨ docker rm ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªâ€™å®¹å™¨â€™(åœæ­¢çŠ¶æ€çš„å®¹å™¨) docker rmi ç§»é™¤ä¸€ä¸ªæˆ–å¤šä¸ªâ€™é•œåƒâ€™ pythoné¡¹ç›®é…ç½®æ–‡ä»¶åˆ†æž1234567891011121314151617181920212223242526# å‰ä¸¤è¡Œå›ºå®šå†™æ³•~# ä½ çš„åº•åŒ…æ¥æºFROM centos# ä½œè€…(ç”¨äºŽä¸Šä¼ æ—¶ä½¿ç”¨)MAINTAINER nxl &lt;nxl3477@foxmail.com&gt;# RUNæž„å»ºå‘½ä»¤--åªåœ¨æž„å»ºé•œåƒä¸­ä½¿ç”¨ ( -y è¡¨ç¤ºå…¨éƒ¨yes)RUN yum install gcc automake autoconf libtool make -y # python ä¾èµ–äºŽ zlibRUN yum install zlib zlib-devel libffi-devel -y# å®‰è£… wgetRUN yum install wget -y# ä¸‹è½½pythonå®‰è£…åŒ…RUN wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz# è§£åŽ‹ç¼©RUN tar -zxvf Python-3.7.0.tgz# åˆ‡æ¢ç›®å½•WORKDIR Python-3.7.0# ç¼–è¯‘å®‰è£…RUN ./configureRUN ls -alRUN make &amp;&amp; make install # CMD è¿è¡Œå‘½ä»¤ï¼Œ å”¤èµ·pythonè‡ªå¸¦çš„æœåŠ¡å™¨CMD python3 -m http.server]]></content>
      <categories>
        <category>å®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å®¹å™¨æŠ€æœ¯</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssåˆ†å±‚&å‘½åè§„èŒƒ]]></title>
    <url>%2F2019%2F03%2F16%2Fcss%E5%88%86%E5%B1%82-%E5%91%BD%E5%90%8D%E8%A7%84%E8%8C%83%2F</url>
    <content type="text"><![CDATA[ä¸ºä»€ä¹ˆè¦åˆ†å±‚? CSSæœ‰è¯­ä¹‰åŒ–çš„å‘½åçº¦å®šå’ŒCSSå±‚çš„åˆ†ç¦»ï¼Œ å°†æœ‰åŠ©äºŽå®ƒçš„å¯æ‰©å±•æ€§ï¼Œ æ€§èƒ½çš„æé«˜å’Œä»£ç çš„ç»„ç»‡ç®¡ç†ã€‚ é¿å…å¤§é‡çš„æ ·å¼ã€ è¦†ç›–ã€ æƒé‡å’Œå¾ˆå¤šï¼important, åˆ†å¥½å±‚å¯ä»¥è®©å›¢é˜Ÿå‘½åç»Ÿä¸€è§„èŒƒï¼Œ æ–¹ä¾¿ç»´æŠ¤ã€‚ æœ‰è´£ä»»æ„Ÿåœ°åŽ»å‘½åä½ çš„é€‰æ‹©å™¨ æœ‰å“ªäº›åˆ†å±‚ç†è®º? SMACSS BEM SUIT ACSS ITCSS BEMBEMå’ŒSMACCSéžå¸¸ç±»ä¼¼ï¼Œ ä¸»è¦ç”¨æ¥å¦‚ä½•ç»™é¡¹ç›®å‘½åã€‚ä¸€ä¸ªç®€å•å‘½åæ›´å®¹æ˜“è®©åˆ«äººä¸€èµ·å·¥ä½œã€‚ æ¯”å¦‚é€‰é¡¹å¡å¯¼èˆªæ˜¯ä¸€ä¸ªå—(Block)ï¼Œ è¿™ä¸ªå—é‡Œçš„å…ƒç´ æ˜¯å…¶ä¸­æ ‡ç­¾ä¹‹ä¸€ï¼ˆElementï¼‰, è€Œå½“å‰é€‰é¡¹å¡æ˜¯ä¸€ä¸ªä¿®é¥°çŠ¶æ€( Modifier ) block - ä»£è¡¨äº†æ›´é«˜çº§åˆ«çš„æŠ½è±¡æˆ–ç»„ä»¶ block__element - ä»£è¡¨.blockçš„åŽä»£ï¼Œ ç”¨äºŽå½¢æˆä¸€ä¸ªå®Œæ•´çš„.blockçš„æ•´ä½“ã€‚ blockâ€“modifier - ä»£è¡¨.block çš„ä¸åŒçŠ¶æ€æˆ–ä¸åŒç‰ˆæœ¬ã€‚ ä¿®é¥°ç¬¦ä½¿ç”¨çš„æ˜¯_, å­æ¨¡å—ä½¿ç”¨çš„æ˜¯__ç¬¦å·ã€‚ ( ä¸åŒä¸€ä¸ª-çš„åŽŸå› æ˜¯å› ä¸ºCSSå•è¯è¿žæŽ¥ ) 12345678&lt;!-- container æ˜¯å¤§å®¹å™¨ --&gt;&lt;div class="container"&gt; &lt;div class="menu"&gt; &lt;div class="menu--item menu--item__active"&gt;é¦–é¡µ&lt;/div&gt; &lt;div class="menu--item"&gt;æ–°é—»&lt;/div&gt; &lt;div class="menu--item"&gt;æ¶ˆæ¯&lt;/div&gt; &lt;/div&gt;&lt;/div&gt;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>å‘½åè§„èŒƒ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[å€ªæ™“ç£Šçš„ä¸ªäººç®€åŽ†]]></title>
    <url>%2F2019%2F03%2F16%2F%E5%80%AA%E6%99%93%E7%A3%8A%E7%9A%84%E4%B8%AA%E4%BA%BA%E7%AE%80%E5%8E%86%2F</url>
    <content type="text"><![CDATA[åº”è˜å²—ä½Webå‰ç«¯å¼€å‘ è”ç³»æ–¹å¼ æ‰‹æœºï¼š17367070484 Emailï¼šnxl3477@gmail.com QQ: 634926049 å¾®ä¿¡å·ï¼š17367070484 ä¸ªäººä¿¡æ¯ å€ªæ™“ç£Š / ç”· / 1998 æ­å·žç§‘æŠ€èŒä¸šæŠ€æœ¯å­¦é™¢ / è®¡ç®—æœº å·¥ä½œå¹´é™ï¼š0.8å¹´ Githubï¼šhttps://github.com/nixiaolei æœŸæœ›èŒä½ï¼šWebå‰ç«¯å¼€å‘ æœŸæœ›åŸŽå¸‚ï¼šæ­å·ž æŽŒæ¡æŠ€èƒ½HTML 5 / CSS3 ç†Ÿç»ƒä½¿ç”¨ HTML 5ã€CSS3ã€‚ èƒ½å¤Ÿç¼–å†™è¯­ä¹‰åŒ–çš„ HTMLï¼Œ èƒ½å¤Ÿå®Œæˆæ¯”è¾ƒå¤æ‚çš„å¸ƒå±€ã€‚ èƒ½å¤Ÿä½¿ç”¨ CSS3 å®žçŽ°åŸºæœ¬åŠ¨æ•ˆã€‚ ç†Ÿæ‚‰ Sass ã€Less ç­‰ CSS é¢„å¤„ç†å·¥å…·ã€‚ ç†Ÿæ‚‰ç§»åŠ¨ç«¯é€‚é…è§£å†³æ–¹æ¡ˆã€‚ èƒ½å¤Ÿè§£å†³åŸºæœ¬çš„æ‰‹æœºç«¯ç½‘é¡µå…¼å®¹é—®é¢˜ã€‚ JavaScript ç†Ÿç»ƒä½¿ç”¨åŽŸç”Ÿ JavaScriptã€ES6/7ç­‰ï¼Œ èƒ½å¤Ÿè¿ç”¨æ¨¡å—åŒ–çš„æ–¹å¼ç¼–ç¨‹ã€‚ ç†Ÿæ‚‰ä½¿ç”¨ Reactã€Reduxã€Vueã€Vuex ï¼Œäº†è§£MVVM æ¡†æž¶æ€æƒ³ã€‚ ç†Ÿç»ƒä½¿ç”¨jQueryï¼Œ å¹¶å°è¯•çœ‹è¿‡jQueryæºç ã€‚ Node.js ç†Ÿç»ƒä½¿ç”¨ Koa2ã€Express æ¡†æž¶è¿›è¡Œwebåº”ç”¨å¼€å‘ï¼Œå¯¹ Hapiã€egg ç­‰å…¶ä»–æ¡†æž¶ä¹Ÿæœ‰æ‰€å­¦ä¹ ã€‚ ç†Ÿç»ƒä½¿ç”¨ Node.jsç¼–å†™çˆ¬è™«ï¼Œ äº†è§£ robotsåè®®ã€‚ èƒ½å¤Ÿä½¿ç”¨ pm2 è¿›è¡Œ Node.js é¡¹ç›®éƒ¨ç½²ã€‚ äº†è§£Node.jsçš„â€œå¼‚æ­¥æœºåˆ¶â€ä»¥åŠ GC åŽŸç†ã€‚ äº†è§£SPAé¢„æ¸²æŸ“ã€SSRæ–¹æ¡ˆ åŠBFFæž¶æž„ã€‚ webpack ç†Ÿç»ƒwebpackçš„é…ç½®ã€‚ èƒ½å¤Ÿæ­å»ºç®€å•çš„å·¥ç¨‹åŒ–é¡¹ç›®ï¼Œ å¦‚: Vue-cliè„šæ‰‹æž¶ã€‚ èƒ½å¤Ÿå¯¹ webpack ä½œåŸºæœ¬çš„æ€§èƒ½ä¼˜åŒ–ï¼Œ å¹¶å°è¯•åœ¨é¡¹ç›®ä¸­ä½¿ç”¨è¿‡ã€‚ äº†è§£webpackæ’ä»¶å¼€å‘ã€‚ å…¶ä»– èƒ½ä½¿ç”¨ Nginx è¿›è¡Œ ip_hash æŒ‡ä»¤é…ç½®ã€ åå‘ä»£ç†ã€è´Ÿè½½å‡è¡¡ä»¥åŠæƒé‡åˆ†é…ã€‚ ç†Ÿæ‚‰ Git ç‰ˆæœ¬ç®¡ç†å·¥å…·ã€‚ ç†Ÿç»ƒä½¿ç”¨ Photoshop è¿›è¡Œå›¾ç‰‡å¤„ç†ã€‚ å·¥ä½œç»åŽ† éƒ½å¸‚å¿«æŠ¥ - å¿«æˆ¿ç½‘ï¼ˆ 2018å¹´7æœˆ ~ 2018å¹´12æœˆ ï¼‰ æ­å·žå–”å›¾äº‘æ‘„å½±ï¼ˆ 2018å¹´12æœˆ ~ è‡³ä»Š ï¼‰ é¡¹ç›®ç»åŽ†æ­å·žè´­æˆ¿æ‘‡å·ç™»è®°ç³»ç»Ÿ Vueå…¨å®¶æ¡¶ é¢å‘æˆ¿åœ°äº§å•†çš„è´­æˆ¿å®¡æ ¸ç³»ç»Ÿï¼Œæ˜¯å°ç¨‹åºâ€œæ­å·žæœ€æ–°æ‘‡å·æ¥¼ç›˜ä¸€è§ˆâ€çš„åŽå°ç³»ç»Ÿï¼Œ å°ç¨‹åºå¯åœ¨å¾®ä¿¡å°ç¨‹åºä¸­æœç´¢åˆ°ã€‚ ä½œä¸ºè¯¥é¡¹ç›®å”¯ä¸€çš„å‰ç«¯ï¼Œåœ¨æ²¡æœ‰äº§å“æŒ‡å¯¼çš„æƒ…å†µä¸‹ï¼Œ æˆ‘ä¸ä½†å®Œæˆäº†ç½‘ç«™ç•Œé¢çš„å¼€å‘å·¥ä½œï¼Œ æ›´æ˜¯ä¸ºè§£å†³ç”¨æˆ·å‚ä¸Žæ‘‡å·ä¸Žæ¥¼ç›˜äººå‘˜å®¡æ ¸ä¹‹é—´æ•ˆçŽ‡ä½Žä¸‹çš„ç—›ç‚¹æå‡ºäº†è‡ªå·±çš„å¤šç§æ–¹æ¡ˆå»ºè®®ã€‚ ä»Žå¼€å§‹çš„å®¡æ ¸èµ„æ–™å›¾æ–‡æ··ä¹±æ”¹ç‰ˆè‡³å›¾æ–‡è”åŠ¨å®¡æ ¸ï¼Œ ä»Žå¼€å§‹çš„å®¡æ ¸è¿›åº¦ç´Šä¹±å®¹æ˜“å‡ºçŽ°é‡å¤å®¡æ ¸çš„é—®é¢˜åˆ°æœ€åŽæ¯ä¸ªå®¡æ ¸é¡¹éƒ½å¯æ ‡è®°ã€‚ æœŸé—´è¿˜è´Ÿè´£ä¸ºä½¿ç”¨æ–¹çŽ°åœºæ¼”ç¤ºå’ŒåŸ¹è®­ï¼Œ å¹¶æ”¶é›†æ”¹è¿›æ„è§ã€‚æ®ä½¿ç”¨æ–¹åé¦ˆï¼Œæ”¹ç‰ˆå‰åŽå®¡æ ¸æ•ˆçŽ‡æå‡äºŒå€ä¹‹å¤šã€‚æ­£å› æ­¤è¯¥ç³»ç»ŸèŽ·å¾—äº†ç›¸å½“ä¸é”™çš„å£ç¢‘ã€‚ æµ™æ±Ÿçœé“¶è¡Œåé˜²ç³»ç»Ÿ Vueå…¨å®¶æ¡¶ã€ vwã€ weui è¯¥é¡¹ç›®æœåŠ¡äºŽâ€æµ™æ±Ÿçœé“¶è¡Œåä¼šâ€ï¼Œå¯åœ¨ â€œæµ™æ±Ÿçœé“¶è¡Œåä¼šâ€ å¾®ä¿¡å…¬ä¼—å·çš„â€åé˜²ä¿¡æ¯â€æ¿å—è¿›å…¥ã€‚ æˆ‘è´Ÿè´£å¼€å‘ç§»åŠ¨ç«¯ç½‘é¡µï¼Œåœ¨è¿™è¿‡ç¨‹ä¸­æˆ‘å­¦ä¼šäº†ä½¿ç”¨vwé€‚é…æ–¹æ¡ˆæ¥è§£å†³ç§»åŠ¨ç«¯çš„å°ºå¯¸é€‚é…é—®é¢˜ï¼Œ æœŸé—´ä¹Ÿé‡åˆ°äº†å¾ˆå¤šçš„å…¼å®¹æ–¹é¢é—®é¢˜ï¼Œ åœ¨æ­¤è¿‡ç¨‹ä¸­ä¸°å¯Œäº†å¯¹å„ä¸ªæ‰‹æœºå…¼å®¹é—®é¢˜çš„ç»éªŒã€‚ ä»¿ä»Šæ—¥å¤´æ¡å°ç¨‹åº Reactå…¨å®¶æ¡¶ã€WePYã€Node.jsã€Koa2ã€pm2ã€Nginxã€ MySQLã€ Ant Design æ¯•è®¾é¡¹ç›®ï¼Œé¡¹ç›®åŒ…æ‹¬å°ç¨‹åºåŠé…å¥—çš„åŽå°ç³»ç»Ÿã€‚ åœ¨æ­¤è¿‡ç¨‹ä¸­æˆ‘å°½å¯èƒ½ä½¿ç”¨äº†è‡ªå·±æœªæŽŒæ¡çš„æŠ€æœ¯ï¼Œå°è¯•ç”¨koa-jwtéªŒè¯tokenï¼Œ ç”¨Node.jså¼€å­è¿›ç¨‹çˆ¬å–ä»Šæ—¥å¤´æ¡ä¸Žè¥¿ç“œè§†é¢‘æ•°æ®å­˜å…¥MySQLã€react-loadableå¼‚æ­¥åŠ è½½é¡µé¢ä¼˜åŒ–åŽå°ç³»ç»Ÿä½“éªŒã€å°è¯•åœ¨æœ¬åœ°ä½¿ç”¨pm2éƒ¨ç½²é¡¹ç›®ã€ç”¨Nginxåšåå‘ä»£ç†ä¸Žè´Ÿè½½å‡è¡¡ã€‚ è‡´è°¢æ„Ÿè°¢æ‚¨èŠ±æ—¶é—´é˜…è¯»æˆ‘çš„ç®€åŽ†ï¼ŒæœŸå¾…èƒ½æœ‰æœºä¼šå’Œæ‚¨å…±äº‹ã€‚]]></content>
  </entry>
  <entry>
    <title><![CDATA[ã€css-doodleã€‘ css web-componentå…¥é—¨]]></title>
    <url>%2F2019%2F03%2F16%2F%E3%80%90css-doodle%E3%80%91css-web-component%E5%85%A5%E9%97%A8%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆç¥­å‡º css-doodleçš„å®˜ç½‘ï¼Œ çœŸçš„è€åŽ‰å®³äº†ï¼Œ ä½¿ç”¨å®ƒèƒ½å¤Ÿè½»æ¾çš„å®žçŽ°å„ç§ç‚«é…·ç‰¹æ•ˆ https://css-doodle.com/ &lt;css-doodle /&gt;åŸºäºŽ Shadow DOM v1å’Œ Custom Elements v1ã€‚æ‚¨å¯ä»¥ç«‹å³åœ¨æœ€æ–°çš„Chromeï¼ŒSafariå’ŒFirefoxä¸Šä½¿ç”¨å®ƒï¼Œè€Œæ— éœ€ä½¿ç”¨polyfillã€‚è¯¥ç»„ä»¶å°†æ ¹æ®å…¶ä¸­çš„è§„åˆ™ï¼ˆçº¯CSSï¼‰ç”Ÿæˆdivç½‘æ ¼ã€‚æ‚¨å¯ä»¥ä½¿ç”¨CSSè½»æ¾æ“ä½œè¿™äº›å•å…ƒæ ¼ï¼Œä»¥èŽ·å¾—å›¾å½¢æ¨¡å¼æˆ–åŠ¨ç”»å›¾å½¢ã€‚é™åˆ¶æ˜¯CSSæœ¬èº«çš„é™åˆ¶ã€‚ æ—¢ç„¶å®ƒè¿™ä¹ˆç‰›é€¼ï¼Œ é‚£æ€Žä¹ˆç”¨å‘¢ï¼Ÿ æˆ‘ä»¬ä¸€èµ·æ¥æ­å‡ ä¸ªdemo css-doodleå…¥é—¨ æ­¤å¤„ç”¨åˆ°çš„è¯­æ³•æˆ–apiæœ‰ä¸äº†è§£çš„ è¯·çœ‹é¡µé¢ä¸‹æ–¹çš„â€œé‡Šä¹‰â€ åŒºåŸŸ åŠ¨æ‰‹è¿‡ç¨‹ä¸­éœ€è¦æ³¨æ„ï¼Œ ä¸è¦åœ¨css-doodleå†…éƒ¨å†™æ³¨é‡Šï¼Œ ä¼šå¯¼è‡´æ ·å¼æ— æ•ˆ é¦–å…ˆæ­å»ºå¥½è¿è¡Œcss-doodleçš„çŽ¯å¢ƒ12345678&lt;!-- å¼•å…¥CDN --&gt;&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/css-doodle/0.5.1/css-doodle.min.js"&gt;&lt;/script&gt;&lt;!-- é¡µé¢ä¸ŠåŠ å…¥ css-doodle --&gt;&lt;css-doodle&gt;&lt;!-- æˆ‘ä»¬å°†åœ¨è¿™é‡Œå†™ä»£ç  --&gt;&lt;/css-doodle&gt; æ­¤æ—¶å¦‚æžœæˆ‘ä»¬æ‰“å¼€é¡µé¢ï¼Œ ä½ ä¼šå‘çŽ°æ˜¯ç©ºç©ºå¦‚ä¹Ÿçš„ï¼Œ å› ä¸ºè¿™ä¸ªå…ƒç´ æ—¢æ²¡æœ‰å®½é«˜ä¹Ÿæ²¡æœ‰èƒŒæ™¯é¢œè‰²ï¼Œ æˆ‘ä»¬å½“ç„¶çœ‹ä¸åˆ°ã€‚ çŽ°åœ¨æˆ‘ä»¬ç»™ä»–åŠ ç‚¹æ–™ã€‚ 12345&lt;css-doodle&gt; width: 100px; height: 100px; background: red;&lt;/css-doodle&gt; æ­¤æ—¶æˆ‘ä»¬å†çœ‹çœ‹é¡µé¢ï¼Œ å°±å‡ºçŽ°äº†ä¸€ä¸ª100 x 100çš„çº¢è‰²å°æ–¹å—ï¼Œ å¥½ï¼Œè¿™ä¸ªç›¸å½“äºŽhello world çº§åˆ«çš„ç»ƒä¹ å°±å®Œæˆäº†ï¼Œ æˆ‘ä»¬å†æ¥ç‚¹éš¾çš„ï¼š æˆ‘æƒ³è¦ä¸€ä¸ª10 x 10 ä¸ªçš„å°æ–¹å—ç»„æˆçš„å¤§æ­£æ–¹å½¢! æ­£å¥½æˆ‘ä»¬å¯ä»¥å€Ÿæ­¤å°è¯•ä½¿ç”¨ä¸€ä¸‹å®ƒæä¾›çš„API 123456&lt;css-doodle&gt; :doodle &#123; @grid: 10x10 / 500px; &#125; background: #60569e;&lt;/css-doodle&gt; å‡ºçŽ°äº†ï¼ æˆ‘ä»¬è¦çš„ 10 x 10 ä¸ªå°æ–¹å—ç»„æˆçš„å¤§æ­£æ–¹ï¼Œ å¹¶ä¸”è¿˜æŠŠé¢œè‰²æ¢æˆäº†éªšéªšçš„ç´«è‰² å¥½æ—¢ç„¶å®žçŽ°äº†ï¼Œ é‚£çŽ°åœ¨éœ€æ±‚å‡çº§äº† é‚£æˆ‘è¦10ä¸ªé•¿æ–¹å½¢æ€Žä¹ˆåŠžï¼Œ å¹¶ä¸”æˆ‘è¿˜è¦é•¿çŸ­ä¸ä¸€çš„ï¼ æˆ‘åŽ»ï¼Œè¿˜è¦é•¿çŸ­ä¸ä¸€ï¼Œ å’‹æ•´å‘¢ åˆ«æ…Œ æœºåˆ¶çš„ä½ ä¸€å®šå¯ä»¥åœ¨å®˜ç½‘æ‰¾åˆ°æœ‰ä¸€ä¸ªèŽ·å–å½“å‰å°æ–¹å—é¡ºåºçš„çš„å‚æ•°@index ä¸¥æ ¼çš„æ¥è¯´ä»–ä¼šè¿”å›žå½“å‰å•å…ƒæ ¼çš„ç´¢å¼•å€¼ æ—¢ç„¶æœ‰æ–¹æ³•äº†é‚£æˆ‘ä»¬ä¹Ÿæœ‰æ€è·¯äº†ï¼Œ äºŒè¯ä¸è¯´å¼€å§‹åŠ¨æ‰‹ã€‚ 12345678910&lt;!-- é¦–å…ˆæŠŠ 10 x 10 å°æ–¹å—å˜ä¸º10ä¸ªé•¿æ–¹å½¢ --&gt;&lt;!-- ç„¶åŽæ ¹æ® @index èŽ·å–å½“å‰å•å…ƒæ ¼çš„ç´¢å¼• --&gt;&lt;css-doodle&gt; :doodle &#123; @grid: 1x10 / 61.8vmin; &#125; background: #60569e; @size: calc(@index() * 1vmin);&lt;/css-doodle&gt;&lt;!-- æ ¹æ® index è¿™ä¸ªç´¢å¼•å€¼ä¹˜ä»¥é«˜åº¦ --&gt; duang! è¿™å°±æ˜¯æˆ‘ä»¬æƒ³è¦çš„ç»“æžœäº†ï¼Œ è™½ç„¶è¿˜æœ‰ç‚¹ä¸å®Œç¾Žï¼Œ å…¶å®žæ¯ä¸ªç´«è‰²éƒ½æ˜¯ä¸€ä¸ªæ­£æ–¹å½¢ï¼Œ ä½†æ‰€åœ¨çš„å•å…ƒæ ¼æ˜¯é•¿æ–¹å½¢æ²¡è·‘äº† æˆ‘ä»¬å†ç»™ä»–åŠ ä¸Šborder-radius: 50%; å®ƒå°±å˜æˆ10ä¸ªçƒäº† æ­¤æ—¶éœ€æ±‚åˆæ¥äº† ç”²æ–¹ï¼šå¯ä¸å¯ä»¥å¼„10ä¸ªå…‰çŽ¯ï¼Ÿè¿˜æ˜¯æ¸å˜çš„é‚£ç§? è¡Œå§ï¼Œ è¯•è¯•å–½è°æ€•è° æˆ‘ä»¬å¯ä»¥ä¸¾ä¸€åä¸‰ï¼Œ åˆ©ç”¨@indexè¿™ä¸ªå¥½ä¸œè¥¿æ¥ä¿®æ”¹hslaäº§ç”Ÿä¸åŒçš„é¢œè‰²ï¼Œ å½“ç„¶ä¿®æ”¹rgba ä¹Ÿæ˜¯å¯ä»¥çš„ 123456789101112&lt;!-- æ ¹æ®index æ¯ä¸ªçš„å•å…ƒæ ¼é€’å¢ž20çš„è‰²è°ƒï¼Œ å†è°ƒæ•´å‡ºä¸åŒçš„é€æ˜Žåº¦ --&gt;&lt;css-doodle&gt; :doodle &#123; @grid: 1x10 / 61.8vmin; &#125; border-color: hsla( calc(20 * @index()), 70%, 68%, calc(3 / @index() * 0.8) ); @size: calc(@index() * 10%); border-style: dashed; border-radius: 50%;&lt;/css-doodle&gt; å¥½ï¼Œ ç”²æ–¹çˆ¸çˆ¸ï¼Œ ä½ çš„éœ€æ±‚æˆ‘åšåˆ°äº† ç”²æ–¹: è¿˜ä¸å¤Ÿï¼Œæˆ‘è¦çš„æ˜¯åŒå¿ƒåœ† æˆ‘ã€‚ã€‚ã€‚ã€‚ã€‚ å¾—å˜žï¼Œæ‚¨è¯´æ˜¯å•¥å°±æ˜¯å•¥ åŒå¿ƒåœ†ï¼Œ ä½ ç¬¬ä¸€ååº”æƒ³åˆ°çš„æ˜¯ä¸æ˜¯ä½¿ç”¨position: absolute; ?ä¸ ï¼Œé‚£å¤ªlow äº†æˆ‘ä»¬åªéœ€è¦ @place-cell: center; è¿™ä¸ªå‚æ•°å°±æžå®šäº†ï¼Œ å®ƒä¼šå°†æ¯ä¸ªå•å…ƒæ ¼éƒ½æ‘†æ”¾è‡³ä¸­é—´ 12345678&lt;css-doodle&gt; :doodle &#123; @grid: 1x10 / 61.8vmin; &#125; @place-cell: center; &lt;!-- ...çœç•¥ä¹‹å‰çš„ä»£ç  --&gt;&lt;/css-doodle&gt; ç„¶åŽåŽ»çœ‹ä¸€ä¸‹æ•ˆæžœï¼Œ å§æ§½ è¿›é˜¶åŸºç¡€å­¦çš„å·®ä¸å¤šäº†ï¼Œ å…¶ä»–çš„ä¸€äº›apiæœ‰äº†ä¸Šé¢çš„å‚ç…§éƒ½åº”è¯¥æ€è·¯äº†å§ æ—¢ç„¶æ˜¯è¿›é˜¶ç¯‡ï¼Œ æˆ‘ä»¬å°±åšç‚¹éš¾çš„ï¼Œ æˆ‘ä»¬çœ‹çœ‹èƒ½ä¸èƒ½åˆ©ç”¨è¿™äº›ç‰¹æ€§å’Œ CSSåŠ¨ç”»ç»“åˆä¸€ä¸‹ æˆ‘ä»¬å…ˆè®©å…‰çŽ¯å˜ç²—ä¸€ç‚¹ï¼Œ è®©ä»–å‘ˆçŽ°æ‰‡å¶çš„å½¢çŠ¶ 1border-width: calc(@index() * 10px); ç„¶åŽè®©æˆ‘ä»¬ç”¨ä¸Š keyframes ï¼Œ ä¸ºä»–æ·»åŠ åŠ¨ç”» ä¸ºæ¯ä¸ªå•å…ƒæ ¼æ³¨å†Œå‡ ä¸ªcsså˜é‡ï¼ˆcssçš„æ–°ç‰¹æ€§ï¼‰ï¼Œ å˜é‡--speedæŽ§åˆ¶åŠ¨ç”»çš„æŒç»­æ—¶é—´ï¼Œä¹Ÿå°±æ˜¯é€Ÿåº¦ã€‚ --start æŽ§åˆ¶å½“å‰å…‰çŽ¯çš„èµ·å§‹è§’åº¦ --direction: æŽ§åˆ¶æ–¹å‘ï¼Œ å› ä¸ºturnè¡¨ç¤ºä¸€åœˆï¼Œ æ‰€ä»¥ 1turn å°±æ˜¯æ­£çš„è½¬ä¸€åœˆ,-1turn å°±æ˜¯åç€è½¬ä¸€åœˆï¼Œ åˆ©ç”¨@pickæ–¹æ³•æ¥éšæœºå–ä¸€ä¸ªå€¼ 1234567891011121314151617181920212223&lt;css-doodle&gt; &lt;!-- ...çœç•¥ä¹‹å‰çš„ä»£ç  --&gt; &lt;!-- åŠ¨ç”»æ‰§è¡Œæ—¶é—´åœ¨20ç§’ - 40ç§’ä¹‹é—´å–å€¼--&gt; --speed: @rand(20s, 40s); &lt;!-- 360åº¦é‡Œå–éšæœºæ•° --&gt; --start: @rand(360deg); &lt;!-- é¡ºæ—¶é’ˆ æˆ– é€†æ—¶é’ˆ --&gt; --direction: calc(var(--start) + @pick(1turn, -1turn)); animation: demo var(--speed) linear infinite; @keyframes demo &#123; form &#123; &lt;!-- å¡«å…¥èµ·å§‹è§’åº¦ --&gt; transform: rotate(var(--start)); &#125; to &#123; &lt;!-- éšæœºé¡ºæ—¶é’ˆå’Œé€†æ—¶é’ˆæ—‹è½¬ --&gt; transform: rotate(var(--direction)); &#125; &#125;&lt;/css-doodle&gt; çœ‹çœ‹æ•ˆæžœ ç‚«é…·ä¸ï¼Ÿ èƒ½ä¸èƒ½å†é…·ä¸€ç‚¹ï¼Ÿ å¯ä»¥ï¼Œ æˆ‘ä»¬å†ç»™ä»–æ·»ä¸€ç¬”ï¼Œ ç»™ä»–åŠ ä¸Šä¸€ä¸ªè‡ªå®šä¹‰çš„è´å¡žå°” è´å¡žå°”å¯ä»¥åŽ»è¿™ä¸ªç½‘ç«™ï¼Œæ ¹æ®éœ€è¦ç”Ÿæˆ http://cubic-bezier.com/#1,.25,.83,.67 ç„¶åŽæˆ‘ä»¬ä½ æ‰€éœ€è¦çš„è´å¡žå°”åŽ»æ›´æ”¹animation çš„å‚æ•°1animation: demo var(--speed) cubic-bezier(0,.88,.42,.99) infinite; æ ¹æ®è´å¡žå°”æ›²çº¿å®Œæˆäº†åŠ é€Ÿå‡é€Ÿçš„åŠ¨ç”»æ•ˆæžœ ðŸ˜Žcool~ è¿˜æœ‰æ›´å¤šæ›´é…·çš„ç‰¹æ•ˆç­‰ç€å¤§å®¶åŽ»æŽ¢ç´¢~ åˆ‡è®°css-doodle ä¸­ä¸èƒ½å†™æ³¨é‡Šï¼Œå¤§å®¶æ‹·è´çš„æ—¶å€™è®°å¾—åˆ æŽ‰ é‡Šä¹‰ :doodle é€‰æ‹©å™¨ä¼šåˆ›å»ºä¸€ä¸ªdisplay: grid; çš„å¸ƒå±€ @gridæä¾›å¸ƒå±€ï¼Œ ç”¨æ³•ä¸º @grid: è¡Œ x åˆ— / æ€»å®½é«˜ @index è¿”å›žå½“å‰å•å…ƒæ ¼çš„ç´¢å¼• hsla æ­¤è‰²å½©æ¨¡å¼ä¸ŽHSLç›¸åŒï¼Œåªæ˜¯åœ¨HSLæ¨¡å¼ä¸Šæ–°å¢žäº†Alphaé€æ˜Žåº¦ã€‚ Hï¼šHue(è‰²è°ƒ)ã€‚0(æˆ–360)è¡¨ç¤ºçº¢è‰²ï¼Œ120è¡¨ç¤ºç»¿è‰²ï¼Œ240è¡¨ç¤ºè“è‰²ï¼Œä¹Ÿå¯å–å…¶ä»–æ•°å€¼æ¥æŒ‡å®šé¢œè‰²ã€‚å–å€¼ä¸ºï¼š0 - 360 Sï¼šSaturation(é¥±å’Œåº¦)ã€‚å–å€¼ä¸ºï¼š0.0% - 100.0% Lï¼šLightness(äº®åº¦)ã€‚å–å€¼ä¸ºï¼š0.0% - 100.0% Aï¼šAlphaé€æ˜Žåº¦ã€‚å–å€¼0~1ä¹‹é—´ã€‚ @place-cell è°ƒæ•´å•å…ƒæ ¼ç›¸å¯¹äºŽç½‘æ ¼æ”¾ç½®ã€‚ @pickï¼š ä»Žç»™å®šåˆ—è¡¨ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªå€¼ã€‚ turn: è½¬ã€åœˆï¼ˆTurnsï¼‰ã€‚ä¸€ä¸ªåœ†å…±1åœˆ ( 90deg = 100grad = 0.25turn â‰ˆ 1.570796326794897rad ) 1turn å°±æ˜¯1åœˆ å®Œæ•´çš„ä»£ç 1234567891011121314151617181920212223242526&lt;css-doodle&gt; :doodle &#123; @grid: 1x10 / 61.8vmin; &#125; @place-cell: center; border-color: hsla( calc(20 * @index()), 70%, 68%, calc(3 / @index() * 0.8) ); border-width: calc(@index() * 10px); @size: calc(@index() * 10%); border-style: dashed; border-radius: 50%; --speed: @rand(20s, 40s); --start: @rand(360deg); --direction: calc(var(--start) + @pick(1turn, -1turn)); animation: demo var(--speed) cubic-bezier(0,.88,.42,.99) infinite; @keyframes demo &#123; form &#123; transform: rotate(var(--start)); &#125; to &#123; transform: rotate(var(--direction)); &#125; &#125;&lt;/css-doodle&gt;]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>web-component</tag>
        <tag>ç‰¹æ•ˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[åˆ©ç”¨CSSæ··åˆæ¨¡å¼æ›´æ”¹å›¾ç‰‡é¢œè‰²]]></title>
    <url>%2F2019%2F03%2F16%2F%E5%88%A9%E7%94%A8CSS%E6%B7%B7%E5%90%88%E6%A8%A1%E5%BC%8F%E6%9B%B4%E6%94%B9%E5%9B%BE%E7%89%87%E9%A2%9C%E8%89%B2%2F</url>
    <content type="text"><![CDATA[CSS3 æ–°å¢žäº†ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„å±žæ€§ mix-blend-mode ï¼Œå…¶ä¸­ mix å’Œ blend çš„ä¸­æ–‡æ„è¯‘å‡ä¸ºæ··åˆï¼Œé‚£ä¹ˆè¿™ä¸ªå±žæ€§çš„ä½œç”¨ç›´è¯‘è¿‡æ¥å°±æ˜¯æ··åˆæ··åˆæ¨¡å¼ï¼Œå½“ç„¶ï¼Œæˆ‘ä»¬æˆ‘ä»¬é€šå¸¸ç§°ä¹‹ä¸ºæ··åˆæ¨¡å¼ã€‚ æ··åˆæ¨¡å¼æœ€å¸¸è§äºŽ photoshop ä¸­ï¼Œæ˜¯ PS ä¸­ååˆ†å¼ºå¤§çš„åŠŸèƒ½ä¹‹ä¸€ã€‚å½“ç„¶ï¼ŒçžŽç”¨ä¹±ç”¨æ··åˆæ¨¡å¼è°éƒ½ä¼šï¼Œåˆ©ç”¨æ··åˆæ¨¡å¼å°†å¤šä¸ªå›¾å±‚æ··åˆå¾—åˆ°ä¸€ä¸ªæ–°çš„æ•ˆæžœï¼Œåªæ˜¯è¦ç”¨åˆ°æ°åˆ°å¥½å¤„ï¼Œæˆ–è€…è¯´åœ¨ CSS ä¸­åˆ©ç”¨æ··åˆæ¨¡å¼åˆ¶ä½œå‡ºä¸€äº›æ•ˆæžœåˆ™éœ€è¦å¯¹æ··åˆæ¨¡å¼å¾ˆæ·±çš„ç†è§£åŠä¸æ–­çš„å°è¯•ã€‚ å¼€å§‹åŠ¨æ‰‹å§ ~ å°è¯•ä¿®æ”¹å›¾ç‰‡ç‰©ä½“é¢œè‰²é¦–å…ˆæˆ‘ä»¬åˆ›å»ºä¸€ä¸ªInputæ¡†å’Œä¸€ä¸ª Imgæ ‡ç­¾ï¼ˆå…¶å®žè¿™é‡Œæˆ‘é€‰æ‹©çš„å›¾ç‰‡ä¸æ˜¯å¾ˆå¥½ï¼‰1234&lt;body&gt; &lt;input type="color" /&gt; &lt;img src="https://timgsa.baidu.com/timg?image&amp;quality=80&amp;size=b9999_10000&amp;sec=1553336864&amp;di=2f41edc8eedbf09fb1d106545acaed5f&amp;imgtype=jpg&amp;er=1&amp;src=http%3A%2F%2Fpic44.nipic.com%2F20140723%2F19276212_171901262000_2.jpg" alt=""&gt;&lt;/body&gt; ç„¶åŽæˆ‘ä»¬å°†å›¾ç‰‡æ’‘æ»¡å±å¹•ï¼Œ å°†Inputä¹Ÿæ’‘æ»¡å±å¹•ï¼Œ å°†inputè¦†ç›–è‡³å›¾ç‰‡ä¹‹ä¸Šï¼Œ ç„¶åŽä¸ºinput æ·»åŠ ä¸Šæ··åˆæ¨¡å¼mix-blend-mode: hue; å› ä¸ºinputæ¡†è‡ªå¸¦é¢œè‰²ï¼Œ æ‰€ä»¥å½“ç”¨æˆ·åˆ‡æ¢é¢œè‰²æ—¶ä¹Ÿå°±èƒ½ä¸ä¾é JS å³æ—¶ç”Ÿæ•ˆ 123456789101112&lt;style&gt;html,body, input, img &#123; width: 100%; height: 100%;&#125;input&#123; position: absolute; top: 0; left: 0; mix-blend-mode: hue;&#125;&lt;/style&gt; è¿‡ç¨‹è®°å½•åŽŸå›¾: æ·»åŠ ä¸Šäº†æ··åˆæ¨¡å¼(å˜ç°æ˜¯å› ä¸ºcoloré€‰æ‹©å™¨é»˜è®¤æ˜¯é»‘è‰²): åˆ‡æ¢é¢œè‰²ä¸­: åˆ‡æ¢åŽ: è™½ç„¶æœ‰ç‚¹ä¸‘ä½†æˆ‘ä»¬æˆåŠŸäº†~ æ›´å¤šå¯èƒ½æ€§åˆ©ç”¨æ•´ä¸ªæ··åˆæ¨¡å¼çš„ç‰¹æ€§ï¼Œ æˆ‘ä»¬è¿˜èƒ½åšå‡ºæ›´å¤šçš„ä¸œè¥¿ï¼Œ æ¯”å¦‚åˆ©ç”¨ä¸‰åŽŸè‰²å®žçŽ°å½©è‰²loadingã€ ä¸‡èŠ±ç­’ç­‰ç­‰ç‚«é…·åŠ¨ç”»ï¼Œ å¯ä»¥çœ‹çœ‹å‚è€ƒæ–‡çŒ®ä¸­çš„ä¾‹å­ï¼Œ éžå¸¸çš„ä¸é”™ å‚è€ƒæ–‡çŒ® https://www.cnblogs.com/coco1s/p/6829372.html]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€å®¹å™¨ã€‘Dockerå…¥é—¨æ•™ç¨‹]]></title>
    <url>%2F2019%2F03%2F16%2F%E3%80%90%E5%AE%B9%E5%99%A8%E3%80%91Docker%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[1.1 Dockerç®€ä»‹ Dockeræ˜¯ä¸€ä¸ªå¼€æºçš„å¼•æ“Žï¼Œå¯ä»¥è½»æ¾çš„ä¸ºä»»ä½•åº”ç”¨åˆ›å»ºä¸€ä¸ªè½»é‡çº§çš„ã€å¯ç§»æ¤çš„ã€è‡ªç»™è‡ªè¶³çš„å®¹å™¨ã€‚å¼€å‘è€…åœ¨ç¬”è®°æœ¬ä¸Šç¼–è¯‘æµ‹è¯•é€šè¿‡çš„å®¹å™¨å¯ä»¥æ‰¹é‡åœ°åœ¨ç”Ÿäº§çŽ¯å¢ƒä¸­éƒ¨ç½²ï¼ŒåŒ…æ‹¬VMsï¼ˆè™šæ‹Ÿæœºï¼‰ã€bare metalã€OpenStack é›†ç¾¤å’Œå…¶ä»–çš„åŸºç¡€åº”ç”¨å¹³å°ã€‚ Dockeré€šå¸¸ç”¨äºŽå¦‚ä¸‹åœºæ™¯ï¼š webåº”ç”¨çš„è‡ªåŠ¨åŒ–æ‰“åŒ…å’Œå‘å¸ƒï¼› è‡ªåŠ¨åŒ–æµ‹è¯•å’ŒæŒç»­é›†æˆã€å‘å¸ƒï¼› åœ¨æœåŠ¡åž‹çŽ¯å¢ƒä¸­éƒ¨ç½²å’Œè°ƒæ•´æ•°æ®åº“æˆ–å…¶ä»–çš„åŽå°åº”ç”¨ï¼› ä»Žå¤´ç¼–è¯‘æˆ–è€…æ‰©å±•çŽ°æœ‰çš„OpenShiftæˆ–Cloud Foundryå¹³å°æ¥æ­å»ºè‡ªå·±çš„PaaSçŽ¯å¢ƒã€‚ 2.1 Docker vs. VM VMï¼š è¿è¡Œåœ¨å®¿ä¸»æœºä¹‹ä¸Šçš„å®Œæ•´çš„æ“ä½œç³»ç»Ÿ è¿è¡Œè‡ªèº«æ“ä½œç³»ç»Ÿä¼šå ç”¨è¾ƒå¤šçš„èµ„æº Dockerï¼š Dockeræ›´åŠ è½»é‡é«˜æ•ˆ å¯¹ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨çŽ‡å¾ˆé«˜ æ¯”è™šæ‹ŸæœºæŠ€æœ¯æ›´ä¸ºè½»ä¾¿ã€å¿«æ· éš”ç¦»æ•ˆæžœä¸å¦‚VM æ€»çš„æ¥è¯´ï¼Œ è™šæ‹Ÿæœºæ˜¯åœ¨æ“ä½œç³»ç»Ÿä¸Šåˆè£…äº†ä¸€ä¸ªæ“ä½œç³»ç»Ÿï¼Œè¿è¡Œæ“ä½œç³»ç»Ÿç‰¹åˆ«æ¶ˆè€—èµ„æº è€ŒDockeræ˜¯ä¸€ç§ç±»ä¼¼äºŽéš”ç¦»çš„æŠ€æœ¯ï¼Œ ç”±CPU å’ŒLinuxå†…æ ¸æä¾›çš„è™šæ‹ŸåŒ–æŠ€æœ¯ï¼Œ å…¬ç”¨ä½ å®¿ä¸»æœºä¸Šçš„å†…æ ¸ï¼Œ åœ¨Dockerä¸­å†è£…äº†ä¸€å±‚shell, å¹¶ä¸”Dockerå’Œå…¶ä»–Dockerä¹‹é—´æ˜¯å¯ä»¥é€šè¿‡å†…æ ¸ç›¸äº’è¿›è¡Œé€šä¿¡çš„(Linuxè¿›ç¨‹ä¹‹é—´å¿…é¡»ç»è¿‡å†…æ ¸) 3.1 é•œåƒä¸Žå®¹å™¨imageæ˜¯é™æ€çš„æ¦‚å¿µï¼Œ æ¯”å¦‚ï¼š ä½ çš„exeæ–‡ä»¶ containeræ˜¯åŠ¨æ€çš„æ¦‚å¿µï¼Œ æ¯”å¦‚ï¼š ä½ æ‰§è¡ŒexeåŽçš„è¿›ç¨‹ 4.1 Dockerç›¸å…³æ¦‚å¿µ Dockeræ˜¯CSæž¶æž„ï¼Œä¸»è¦æœ‰ä¸¤ä¸ªæ¦‚å¿µï¼š Docker daemon: è¿è¡Œåœ¨å®¿ä¸»æœºä¸Š Dockerå®ˆæŠ¤è¿›ç¨‹ ç”¨æˆ·é€šè¿‡Docker client(Dockerå‘½ä»¤)ä¸ŽDocker daemonäº¤äº’ Docker client: Docker å‘½ä»¤è¡Œå·¥å…·ï¼Œæ˜¯ç”¨æˆ·ä½¿ç”¨Dockerçš„ä¸»è¦æ–¹å¼ Docker clientä¸ŽDocker daemoné€šä¿¡å¹¶å°†ç»“æžœè¿”å›žç»™ç”¨æˆ· Docker clientä¹Ÿå¯ä»¥é€šè¿‡socketæˆ–è€…RESTful apiè®¿é—®è¿œç¨‹çš„ Docker daemon 4.2 ç›¸å…³æ¦‚å¿µè¯¦è§£Dockeræœ€åº•å±‚æ˜¯å®¿ä¸»çš„æ“ä½œç³»ç»Ÿå†…æ ¸ï¼Œ å†ä¸Šå±‚å°±æ˜¯åº•åŒ…ï¼Œ åº•åŒ…å°±æ˜¯å­˜æ”¾bashä»¥åŠbashæ‰€ä¾èµ–çš„åŸºæœ¬çŽ¯å¢ƒï¼Œ æ¯ä¸ªç³»ç»Ÿéƒ½æœ‰ä¸ä¸€æ ·çš„åº•åŒ…ï¼Œ ä½ å¯ä»¥è‡ªå·±åŽ»åšåº•åŒ…ï¼Œ ä¹Ÿå¯ä»¥åˆ°dockerHubé‡Œæ‰¾ åœ¨æ­¤ä¹‹ä¸Šä¸€å±‚ä¸€å±‚çš„å¾€ä¸Šç´¯åŠ ï¼Œæ¯”å¦‚Nodeã€Mysqlå•¥çš„, æœ€åŽæ‰”åˆ°å®¹å™¨é‡Œè·‘, å°±åƒä¸‹é¢è¿™å¼ å›¾ï¼Œ ä¸€å±‚ä¸€å±‚çš„å¾€ä¸Šå åŠ ï¼Œè·Ÿç å¤´çš„é›†è£…ç®±ä¸€æ · 5.1 Dockerfile è„šæœ¬ è§„å®šäº†å¦‚ä½•åˆ›å»ºImage Dockerfile æ¦‚å¿µ Dockerfile æ–‡ä»¶æ ¼å¼ æž„å»ºé•œåƒ é•œåƒæ ‡ç­¾ ä¿®æ”¹å®¹å™¨å†…å®¹ 6.1 é…ç½®æ–‡ä»¶åˆ†æž1234567891011121314151617181920212223242526# å‰ä¸¤è¡Œå›ºå®šå†™æ³•~# ä½ çš„åº•åŒ…æ¥æºFROM centos# ä½œè€…(ç”¨äºŽä¸Šä¼ æ—¶ä½¿ç”¨)MAINTAINER nxl &lt;nxl3477@foxmail.com&gt;# RUNæž„å»ºå‘½ä»¤--åªåœ¨æž„å»ºé•œåƒä¸­ä½¿ç”¨ ( -y è¡¨ç¤ºå…¨éƒ¨yes)RUN yum install gcc automake autoconf libtool make -y # python ä¾èµ–äºŽ zlibRUN yum install zlib zlib-devel libffi-devel -y# å®‰è£… wgetRUN yum install wget -y# ä¸‹è½½pythonå®‰è£…åŒ…RUN wget https://www.python.org/ftp/python/3.7.0/Python-3.7.0.tgz# è§£åŽ‹ç¼©RUN tar -zxvf Python-3.7.0.tgz# åˆ‡æ¢ç›®å½•WORKDIR Python-3.7.0# ç¼–è¯‘å®‰è£…RUN ./configureRUN ls -alRUN make &amp;&amp; make install # CMD è¿è¡Œå‘½ä»¤ï¼Œ å”¤èµ·pythonè‡ªå¸¦çš„æœåŠ¡å™¨CMD python3 -m http.server]]></content>
      <categories>
        <category>å®¹å™¨æŠ€æœ¯</category>
      </categories>
      <tags>
        <tag>å®¹å™¨æŠ€æœ¯</tag>
        <tag>Docker</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[Jsä¸ŽCSSå˜é‡æ“ä½œ]]></title>
    <url>%2F2019%2F03%2F16%2FJs%E4%B8%8ECSS%E5%8F%98%E9%87%8F%E6%93%8D%E4%BD%9C%2F</url>
    <content type="text"><![CDATA[å°±ç›®å‰æ¥è¯´CSSå˜é‡å·²ç»ä¸æ˜¯ä»€ä¹ˆæ–°é²œçš„ä¸œè¥¿äº†ï¼Œ æ¸æ¸çš„æˆ‘ä»¬å¯ä»¥åœ¨æµè§ˆå™¨ä¸­å°è¯•ä½¿ç”¨å®ƒï¼Œ å’ŒSCSSã€ LESS ç­‰é¢„å¤„ç†å™¨ä¸åŒçš„æ˜¯ï¼Œ CSSçš„å˜é‡æœºåˆ¶æ˜¯æµè§ˆå™¨å¤©ç”Ÿæ”¯æŒçš„ï¼Œ å¹¶ä¸”æµè§ˆå™¨è¿˜å¯¹å…¶åšäº†ä¼˜åŒ–ï¼Œ å‡å°‘äº†æˆ‘ä»¬ä½¿ç”¨JS åŽ»æ“ä½œCSSå˜é‡é€ æˆçš„é‡ç»˜å’Œé‡æŽ’ ä¸€èµ·æ¥çœ‹çœ‹å¦‚ä½•æ“ä½œå§~ å˜é‡è™½å¥½ï¼Œ ä¸å¯æ»¥ç”¨å“¦ å®šä¹‰ä¸€ä¸ªç®€å•çš„å˜é‡12345678/* å®šä¹‰css å˜é‡ */:root &#123; --backgroundColor: pink;&#125;body &#123; background-color: var(--backgroundColor);&#125; åˆ›å»ºä¸€ä¸ªæŒ‰é’®123&lt;body&gt; &lt;button id="btn"&gt;ç‚¹æˆ‘æ”¹å˜èƒŒæ™¯&lt;/button&gt;&lt;/body&gt; èŽ·å–rootå…ƒç´ å¹¶ç»‘å®šæŒ‰é’®çš„ç‚¹å‡»äº‹ä»¶12345678&lt;script&gt;var root = document.documentElementbtn.onclick = function() &#123; // å°†å˜é‡ä¿®æ”¹ä¸ºå¤©è“è‰² root.style.setProperty('--backgroundColor', 'skyblue')&#125;&lt;/script&gt; ç»“æžœå¯¹æ¯”ç‚¹å‡»å‰ æŒ‰é’®ç‚¹å‡»åŽ éžå¸¸Nice~ åˆ©ç”¨è¿™ä¸ªç‰¹æ€§å®žçŽ°æ›´å¤šçš„å¯èƒ½å§ï¼]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>JavaScript</tag>
        <tag>css</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[CSSå¦‚ä½•äº†è§£æ–°çŸ¥è¯†]]></title>
    <url>%2F2019%2F03%2F16%2FCSS%E5%A6%82%E4%BD%95%E4%BA%86%E8%A7%A3%E6%96%B0%E7%9F%A5%E8%AF%86%2F</url>
    <content type="text"><![CDATA[å¹³æ—¶é—²ç€æ— èŠçš„æ—¶å€™å¤šåŽ»çœ‹çœ‹MDNæˆ–è€…ä¸€äº›å›½å¤–çš„ç½‘ç«™ï¼Œ å¤šè¯•è¯•ä¸€äº›æ–°ç‰¹æ€§ï¼Œ è¯´ä¸å®šå°±ä¼šæœ‰æ–°çš„å‘çŽ° å¹¶ä¸”è¿˜å¯ä»¥å°è¯•ç€å‚ä¸ŽMDNçš„æ–‡ç« ç¿»è¯‘åŠå›½å¤–ä¼˜è´¨æŠ€æœ¯æ–‡ç«  MDNï¼šhttps://developer.mozilla.org/zh-CN/docs/Web/CSS/Reference]]></content>
      <categories>
        <category>å­¦ä¹ æŠ€å·§</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>å­¦ä¹ æŠ€å·§</tag>
        <tag>å­¦ä¹ æ¸ é“</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ã€PostCssã€‘ä½¿ç”¨æ˜Žå¤©çš„CSS]]></title>
    <url>%2F2019%2F03%2F16%2F%E3%80%90PostCss%E3%80%91%E4%BD%BF%E7%94%A8%E6%98%8E%E5%A4%A9%E7%9A%84CSS%2F</url>
    <content type="text"><![CDATA[é€šè¿‡PostCssä½œä¸ºCSSçš„åŽå¤„ç†å™¨ï¼Œ å¯ä»¥æ ¹æ®æµè§ˆå™¨çš„å¸‚åœºä»½é¢ï¼Œ é€‰æ‹©æ€§çš„å°†ä¸€äº›æœ€æ–°çš„CSSæ–°ç‰¹æ€§ç¼–è¯‘æˆæµè§ˆå™¨æ”¯æŒçš„è¯­æ³• å½“ç„¶å›½å†…çš„æƒ…å†µæœ‰ç‚¹ä¸ä¸€æ · æ–°ç‰¹æ€§ä¸¾ä¾‹æ¯”å¦‚è¿™ä¸ªCSSå˜é‡:ä»–å­˜å‚¨äº†åª’ä½“æŸ¥è¯¢çš„è§„åˆ™ï¼Œ åœ¨å¤šä¸ªåª’ä½“æŸ¥è¯¢çš„æƒ…å†µä¸‹å°±ä¸ç”¨é‡å¤å†™äº†12345@custom-media --viewport-medium (width &lt;= 50rem);@media (--viewport-medium) &#123; body &#123; font-size: calc(var(--fontSize) * 1.2); &#125;&#125; é‚£è¿™ä¸ªå±žæ€§æµè§ˆå™¨å…¼å®¹ä¸ç†æƒ³æ€Žä¹ˆåŠžï¼Ÿ åˆ«æ‹…å¿ƒï¼Œ äº¤ç»™PostCss, ç»è¿‡å¤„ç†ï¼Œ æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œç”Ÿæˆäº†ä¸€ä¸ªè§„è§„çŸ©çŸ©çš„åª’ä½“æŸ¥è¯¢ä»£ç  123@media (max-width: 50rem) &#123; body &#123; font-size: 1.2rem; &#125;&#125; æ›´å¤šæ¼”ç¤º ç¼–è¯‘å‰åŽä»¥ â€”â€” åˆ†å‰² è‡ªå®šä¹‰é€‰æ‹©å™¨1234@custom-selector :--heading h1, h2, h3, h4, h5, h6;:--heading &#123; margin-top: 0 &#125;/* ------------------------------------ */h1,h2,h3,h4,h5,h6 &#123; margin-top: 0 &#125; è‡ªåŠ¨ä¸€å€å›¾(1X)å’ŒäºŒå€å›¾(2X)123456789101112131415161718192021222324/* image-set function */.foo &#123; background-image: image-set( url(img/test.png) 1x, url(img/test-2x.png) 2x );&#125;/* ------------------------------------ *//* é»˜è®¤çŠ¶æ€ */.foo &#123; background-image: url(img/test.png);&#125;/* æ»¡è¶³ è®¾å¤‡ä¸Šç‰©ç†åƒç´ å’Œè®¾å¤‡ç‹¬ç«‹åƒç´ ( device-independent pixels (dips) )çš„æ¯”ä¾‹ */@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) &#123;.foo &#123; background-image: url(img/test-2x.png);&#125;&#125; any-link, è¡¥é½æ ‡ç­¾çš„å‰©ä½™çš„æ‰€æœ‰çŠ¶æ€ï¼Œ è¿™æ˜¯ä¸ºäº†é˜²æ­¢æŸäº›æ ·å¼ä¸ç”Ÿæ•ˆ1234567891011121314151617181920212223a &#123;color: var(--highlightColor);transition: color 1s; /* autoprefixed ! */&#125;a:hover &#123; color: gray(255, 50%) &#125;a:active &#123; color: rebeccapurple &#125;a:focus &#123; background-color: rgb(255 153 0 / 33%); outline: 3px solid hsl(1turn 60% 50%); &#125;a:any-link &#123; color: color(var(--highlightColor) blackness(+20%)) &#125;/* --------------------------------- */a &#123; color: rgb(89, 185, 204); -webkit-transition: color 1s; transition: color 1s; /* autoprefixed ! */&#125;a:hover &#123; color: rgba(255, 255, 255, 0.5) &#125;a:active &#123; color: #639 &#125;a:focus &#123; background-color: rgba(255, 153, 0, .33); outline: 3px solid hsl(360, 60%, 50%); &#125;a:link,a:visited &#123; color: rgb(89, 142, 153) &#125; è¿˜æœ‰å¾ˆå¤šï¼Œ ä¸ä¸€ä¸€ä¸¾ä¾‹äº†ï¼Œ æ¯”å¦‚ï¼š å„ä¸ªæµè§ˆå™¨çš„æ»¤é•œfilterå…¼å®¹ é€‰æ‹©å™¨æ­£åˆ™ cssåµŒå¥— å¦‚ä½•è®©PostCSæ”¯æŒåµŒå¥— æœ¬çŽ¯å¢ƒåŸºäºŽwebpack npmåœ°å€: https://www.npmjs.com/package/postcss https://www.npmjs.com/package/postcss-loader 1234567891011121314.container &#123; /* ä¸€å®šè¦å¸¦ä¸Š &amp; æ‰ä¼šç¼–è¯‘ */ &amp; .menu &#123; height: 40px; background: sandybrown; &amp; .menu--item &#123; height: 40px; color: skyblue; &amp; .menu--item__active &#123; color: pink; &#125; &#125; &#125;&#125; é¦–å…ˆåœ¨é¡¹ç›®çš„æ ¹ç›®å½•ä¸­åˆ›å»ºä¸€ä¸ªæ–‡ä»¶postcss.config.js ç›¸å…³ä¾èµ–å®‰è£…å°±ä¸è¯´äº†ï¼Œ çœŸçš„ç¼ºäº†ä¹Ÿä¼šæŠ¥é”™æç¤ºçš„ æˆ‘ä»¬å°†ä¼šåœ¨é‡Œé¢åšPostCSSçš„ç›¸å…³é…ç½® 12345module.exports = &#123; plugins: [ require('postcss-nested') ]&#125; ç„¶åŽæŽ¥ä¸‹æ¥æ˜¯é…ç½® Loader ï¼Œ è¿›å…¥webpack é…ç½®css loader çš„åœ°æ–¹ï¼Œ æˆ‘ä»¬åœ¨css loader åŽé¢åŠ ä¸ŠPostCss çš„loader123456789101112131415161718192021222324252627rules: [ &#123; test: /\.css$/, use: [ &#123; loader: 'css-loader', &#125;, // --------------æ–°å¢žåŒºåŸŸ--------------- &#123; loader: 'postcss-loader', options: &#123; ident: 'postcss', plugins: (loader) =&gt; [ require('postcss-preset-env')(&#123; /* è¿™é‡Œè¦æ”¹æˆ 0 å¦åˆ™ä¸ä¸€å®šç¼–è¯‘åµŒå¥— */ stage: 0, features: &#123; 'nesting-rules': true &#125; &#125;) ] &#125; &#125; // --------------æ–°å¢žåŒºåŸŸ--------------- ] &#125;] åƒè¿™æ ·ï¼Œè®°å¾—æŠŠ stage è¿™ä¸ªå‚æ•°ä¿®æ”¹ä¸º 0 ï¼Œ å› ä¸ºPostCss ä¼šæ ¹æ®è¿™ä¸ªå‚æ•°åˆ†ä¸ºå¥½å‡ ä¸ªé˜¶æ®µï¼Œé˜¶æ®µå¤ªé«˜å®ƒæ˜¯ä¸å¤„ç†åµŒå¥—çš„ã€‚ æˆ‘ä»¬è¿è¡Œä¸€ä¸‹çœ‹çœ‹ 1234567891011121314.container &#123; /* ä¸€å®šè¦å¸¦ä¸Š &amp; æ‰ä¼šç¼–è¯‘ */&#125;.container .menu &#123; height: 40px; background: sandybrown&#125;.container .menu .menu--item &#123; height: 40px; color: skyblue&#125;.container .menu .menu--item .menu--item__active &#123; color: pink;&#125; å¤§åŠŸå‘ŠæˆðŸ˜„~ æƒ³çŸ¥é“æœ‰ç”¨çš„PostCSSçš„æ’ä»¶å¤§çº²ï¼Œå¯ä»¥åœ¨æœ¬ç«™å†…æœç´¢: CSSæ’ä»¶ ç›¸å…³çš„ç½‘ç«™ PostCss: https://postcss.org/css next: http://cssnext.io/]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>PostCss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[ä½¿ç”¨Jenkinsæž„å»ºå‰ç«¯æŒç»­é›†æˆ]]></title>
    <url>%2F2019%2F03%2F16%2F%E4%BD%BF%E7%94%A8Jenkins%E6%9E%84%E5%BB%BA%E5%89%8D%E7%AB%AF%E6%8C%81%E7%BB%AD%E9%9B%86%E6%88%90%2F</url>
    <content type="text"><![CDATA[å®‰è£…JDK ç›´æŽ¥ä½¿ç”¨yum å®‰è£…çš„æ˜¯ openjdk , å’Œsun å…¬å¸å‘å¸ƒçš„jdkæœ‰ç•¥å¾®åŒºåˆ«ï¼Œ ä½†è¿™é‡Œæˆ‘ä»¬å¹¶ä¸éœ€è¦ä½¿ç”¨java,æ‰€ä»¥ä½¿ç”¨æœ€å¿«çš„æ–¹å¼å®‰è£… 1yum install -y java å®‰è£…jenkins æ·»åŠ Jenkinsåº“åˆ°yumåº“ï¼ŒJenkinså°†ä»Žè¿™é‡Œä¸‹è½½å®‰è£…ã€‚ 123wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.reporpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.keyyum install -y jenkins æ·»åŠ Jenkinsåº“åˆ°yumåº“ï¼ŒJenkinså°†ä»Žè¿™é‡Œä¸‹è½½å®‰è£…ã€‚12wget http://pkg.jenkins-ci.org/redhat-stable/jenkins-2.7.3-1.1.noarch.rpmrpm -ivh jenkins-2.7.3-1.1.noarch.rpm é…ç½®jenkisçš„ç«¯å£ jenkins çš„é»˜è®¤ç«¯å£ä¸º 8080 ï¼Œ ä¸ºäº†é¿å…å’Œå…¶ä»–çš„åº”ç”¨ç¨‹åºå†²çªï¼Œ æ‰€ä»¥å»ºè®®ä¿®æ”¹ä¸€ä¸‹é»˜è®¤å ç”¨çš„ç«¯å£ 1vim /etc/sysconfig/jenkins æ‰¾åˆ°ä¿®æ”¹ç«¯å£å·ï¼š JENKINS_PORT=â€8080â€ å¯åŠ¨jenkins 1service jenkins start/stop/restart å®‰è£…æˆåŠŸåŽJenkinså°†ä½œä¸ºä¸€ä¸ªå®ˆæŠ¤è¿›ç¨‹éšç³»ç»Ÿå¯åŠ¨ ç³»ç»Ÿä¼šåˆ›å»ºä¸€ä¸ªâ€œjenkinsâ€ç”¨æˆ·æ¥å…è®¸è¿™ä¸ªæœåŠ¡ï¼Œå¦‚æžœæ”¹å˜æœåŠ¡æ‰€æœ‰è€…ï¼ŒåŒæ—¶éœ€è¦ä¿®æ”¹/var/log/jenkins, /var/lib/jenkins, å’Œ/var/cache/jenkinsçš„æ‰€æœ‰è€… å¯åŠ¨çš„æ—¶å€™å°†ä»Ž/etc/sysconfig/jenkinsèŽ·å–é…ç½®å‚æ•° é»˜è®¤æƒ…å†µä¸‹ï¼ŒJenkinsè¿è¡Œåœ¨8080ç«¯å£ï¼Œåœ¨æµè§ˆå™¨ä¸­ç›´æŽ¥è®¿é—®è¯¥ç«¯è¿›è¡ŒæœåŠ¡é…ç½® Jenkinsçš„RPMä»“åº“é…ç½®è¢«åŠ åˆ°/etc/yum.repos.d/jenkins.repo é…ç½®é˜¶æ®µå®‰è£…å¥½jenkins åŽ ï¼Œ æˆ‘ä»¬å°±å¯ä»¥æ ¹æ®åˆšæ‰æ‰€è®¾ç½®çš„ç«¯å£å·è®¿é—® jenkins æœåŠ¡äº† æ¯”å¦‚è¿›å…¥ 127.0.0.1:8081 è®¿é—®jenkins é¦–å…ˆä¼šçœ‹åˆ°è®©æˆ‘ä»¬è¾“å…¥åˆå§‹å¯†ç  å®ƒæç¤ºæˆ‘ä»¬è¿›å…¥ /var/lib/jenkins/secrets/initialAdminPassword æŸ¥çœ‹ è¾“å…¥å¯†ç æ— è¯¯åŽï¼Œ å°±æ˜¯æç¤ºæˆ‘ä»¬å®‰è£…å¯¹åº”çš„æ’ä»¶äº†ï¼Œ å·¦è¾¹æ˜¯æŽ¨èå®‰è£…ï¼Œ å³è¾¹æ˜¯è‡ªå®šä¹‰å®‰è£…ï¼Œ è¿™é‡Œæˆ‘ä»¬å»ºè®®ç‚¹å‡» æŽ¨èå®‰è£… å®‰è£…è¿‡ç¨‹å¯èƒ½ç¨é•¿ è¿™æ—¶æˆ‘ä»¬åˆ›å»ºä¸€ä¸ª Jenkins è´¦æˆ·ï¼Œä¸€å®šè¦ç‰¢è®°ä½ çš„è¾“å…¥è´¦å·å’Œå¯†ç ï¼Œ ç”¨ä½œä¹‹åŽçš„ç™»å½• åˆ›å»ºè´¦æˆ·ä¹‹åŽï¼Œ ä¼šæ˜¾ç¤ºä¸€ä¸ª jenkins çš„èµ„æºæ ¹è·¯å¾„ï¼Œ ä¸€èˆ¬ä¸éœ€è¦ä¿®æ”¹ï¼Œ ä¿æŒé»˜è®¤å³å¯ ä¹‹åŽå°±æ˜¯æ„‰å¿«çš„jenkins ä¹‹æ—…å•¦ è¡¥å–„æ’ä»¶é˜¶æ®µæˆ‘ä»¬è¦åšçš„å‰ç«¯æŒç»­é›†æˆï¼Œ æ‰€ä»¥ jenkins é»˜è®¤å®‰è£…çš„æ’ä»¶ å¹¶ä¸èƒ½å®Œå…¨çš„æ»¡è¶³æˆ‘ä»¬çš„éœ€æ±‚ è¿›å…¥jenkins ä¸»é¡µé¢åŽï¼Œ æ‰¾åˆ°æ’ä»¶ç®¡ç† é¦–å…ˆæŸ¥çœ‹æˆ‘ä»¬å¿…è¦çš„æ’ä»¶æ˜¯å¦å®‰è£…å¥½äº† NodeJs Plugin Publish Over SSH GitHub å¦‚æžœå‘çŽ°æ²¡æœ‰å®‰è£…çš„å°±å®‰è£…ï¼Œ æŸ¥æ¼è¡¥ç¼º å˜é‡åŠè¿œç¨‹æœåŠ¡å™¨åŸºæœ¬é…ç½®æ’ä»¶å®‰è£…å¥½åŽ, è¿›å…¥ç³»ç»Ÿè®¾ç½® ç•Œé¢, è¿›è¡Œå˜é‡çš„ç›¸å…³é…ç½®, è¿™é‡Œå°±å±•ç¤ºå‡ ä¸ªå¯ä»¥ä¿®æ”¹çš„å‚æ•°, å¤§éƒ¨åˆ†éƒ½å¯ä»¥ä¸ç”¨åŠ¨, ä½¿ç”¨é»˜è®¤å°±å¥½ ç®¡ç†å‘˜é‚®ä»¶åœ°å€, æŽ¨èå¡«å†™, å½“jenkins å·¥ä½œå®ŒæˆåŽä¼šæŠŠ æž„å»ºä¿¡æ¯å‘é€è‡³æ­¤é‚®ç®± (è¿™æ¡é€‰æ‹©å¡«å†™) å¯ä»¥é€‰æ‹©é…ç½® github æœåŠ¡å™¨, å¹¶ä¸”å¯ä»¥é…ç½®å¤šä¸ª, å› ä¸ºä½ çš„é¡¹ç›®ä»£ç æœ‰å¯èƒ½åœ¨å¤šä¸ªæœåŠ¡å™¨ä¸Š æ¯”è¾ƒé‡è¦çš„å°±æ˜¯è¿™é‡Œäº† , é…ç½®è¿œç¨‹æœåŠ¡å™¨, ä¹Ÿå°±æ˜¯ä½ çš„å‘å¸ƒåœ°å€ ç‚¹å‡»æ–°å¢žæ·»åŠ ä½ çš„æœåŠ¡å™¨ ç‚¹å‡»æ–°å¢žåŽ, è¿™é‡Œæœ‰å‡ ä¸ªå…³é”®çš„å‚æ•°, éœ€è¦æ³¨æ„ è¿žæŽ¥ç›®æ ‡æœåŠ¡å™¨è‚¯å®šéœ€è¦ç™»å½•, ä¸‹é¢å‡ ä¸ªå‚æ•°å°±æ˜¯å¯¹åº”çš„éªŒè¯å‚æ•°, ä½ å¯ä»¥è¾“å…¥å›ºå®šçš„å¯†ç , ä¹Ÿå¯ä»¥å‘Šè¯‰Jenkins ä½ çš„æœ¬åœ°ç§é’¥è·¯å¾„æˆ–ç§é’¥çš„å†…å®¹, å‰ææ˜¯ä½ é…ç½®äº† ssh çš„å…å¯†ç™»å½• å¡«å†™å¯†é’¥è·¯å¾„è¿™é‡Œä½ å¾ˆæœ‰å¯èƒ½ä¼šå‡ºçŽ°æƒé™ä¸å¤Ÿçš„é”™è¯¯ï¼Œ å¦‚ä¸‹å›¾ï¼Œ å› ä¸ºjenkinsçš„åœ¨è¿è¡Œæ—¶ä¼šè‡ªåŠ¨çš„åˆ›å»ºä¸€ä¸ªåä¸ºjenkinsçš„ç”¨æˆ·ï¼Œ è€Œè¿™ä¸ªç”¨æˆ·çš„æƒé™ä¸å¤Ÿï¼Œæ— æ³•è®¿é—®ä½ çš„ç›®å½• è§£å†³æ–¹æ¡ˆæœ‰ä¸¤ä¸ª: æŠŠå¯†é’¥åˆ‡æ¢è‡³ä¸€ä¸ªæ™®é€šç”¨æˆ·å¯ä»¥è®¿é—®çš„ç›®å½•ï¼Œ å¹¶ä¿®æ”¹å¯†é’¥çš„æ‰€å±žç”¨æˆ·èº«ä»½å’Œè®¿é—®æƒé™ æŠŠjenkins çš„è¿è¡Œèº«ä»½ä¿®æ”¹ä¸º root, ä½†æ˜¯ä¼šæœ‰ç‚¹å®‰å…¨æ€§é—®é¢˜ æœ¬æ¬¡å®žè·µä»¥å­¦ä¹ ä¸ºç›®çš„ï¼Œ æ‰€ä»¥è¿™é‡Œæˆ‘é€‰æ‹©äº†ç¬¬äºŒé’Ÿ ç›¸å…³æ“ä½œæ–‡ç« : https://blog.csdn.net/jeikerxiao/article/details/80768949 ssh å…å¯†é…ç½®æˆåŠŸåŽï¼Œ æˆ‘ä»¬å°±å¯ä»¥å¼€å§‹åˆ›å»ºä¸€ä¸ªè‡ªå·±çš„ä»»åŠ¡äº† åˆ›å»ºä»»åŠ¡é˜¶æ®µå›žåˆ°ä¸»é¡µï¼Œ æ‰¾åˆ°æ–°å»ºä»»åŠ¡ è¿›å…¥æ–°å»ºä»»åŠ¡åŽï¼Œ æœ‰å‡ ç§ä¸åŒçš„é¡¹ç›®ï¼Œ æˆ‘ä»¬è¿™é‡Œé€‰æ‹© è‡ªç”±é£Žæ ¼ï¼Œ å¹¶ä¸”è¾“å…¥é¡¹ç›®åç§° åˆ›å»ºå¥½é¡¹ç›®åŽå°±ä¼šè‡ªåŠ¨è¿›å…¥ å½“å‰é¡¹ç›®çš„é…ç½®æ–‡ä»¶ä¸­ é¦–å…ˆæˆ‘ä»¬çœ‹åˆ°General, è¿™æ˜¯ä¸€äº›å…¨å±€çš„é…ç½®ï¼Œ åœ¨è¿™é‡Œæˆ‘ä»¬å¯ä»¥å†™ä¸Šè¯¥é¡¹ç›®çš„æè¿° Generalçš„åŽé¢å‡ ä¸ªç±»ç›®æ˜¯æž„å»ºé¡¹ç›®é˜¶æ®µå‡ ä¸ªæ¯”è¾ƒå¤§çš„æ­¥éª¤å’Œæµç¨‹ å¦‚æžœä½ è¦é…ç½®çš„â€œgithubâ€é¡¹ç›®ï¼Œ å¯ä»¥åœ¨Gitè¿™é‡Œæ‰“ä¸Šå‹¾ å¹¶ä¸”å¡«å†™ä¸Šä»“åº“åœ°å€ åŠ åˆ†æ”¯ å³å¯ï¼Œ å¦‚æžœéœ€è¦å¡«å†™è´¦æˆ·å¯†ç ï¼Œ åˆ™å¯åœ¨Credentials å¤„æ–°å¢žé…ç½® æŽ¥ä¸‹æ¥æ˜¯çœ‹çœ‹æž„å»ºè§¦å‘å™¨ï¼Œ è¿™é‡Œçš„å¡«å†™æ ¹æ®ä½ çš„å·¥ç¨‹éœ€è¦ï¼Œ å¯ä»¥é…ç½®å®šæ—¶ä»»åŠ¡ æˆ– å¤šä»»åŠ¡æž„å»º æœ¬æ¬¡æ¼”ç¤ºæˆ‘å¹¶æ²¡æœ‰ç”¨åˆ° çŽ°åœ¨æ¥åˆ°æˆ‘ä»¬çš„é‡ç‚¹æž„å»º ï¼Œ æˆ‘ä»¬å¯ä»¥æ·»åŠ æ­¥éª¤ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°èƒ½å¤Ÿæ”¯æŒ Nodeã€shell ã€æ‰¹å¤„ç†ç­‰ç­‰æ–¹å¼ è¿™äº›æ·»åŠ çš„æ­¥éª¤ä¼šæŒ‰é¡ºåºæ‰§è¡Œï¼Œ æˆ‘ä»¬éœ€è¦shell è„šæœ¬æ¥è¿è¡Œnpm å‘½ä»¤ æ‰€ä»¥æˆ‘åˆ›å»ºäº† shellçš„æ“ä½œæ­¥éª¤ åŸºäºŽæ­¤ï¼Œ jenkins å°±ä¼šè‡ªåŠ¨å¸®æˆ‘ä»¬åšå¥½ æµ‹è¯•ä¸Žæ‰“åŒ…çš„æ­¥éª¤ï¼Œ åœ¨æ­¤ä¹‹åŽï¼Œ æˆ‘ä»¬éœ€è¦å°†æµ‹è¯•é€šè¿‡çš„é¡¹ç›®ä»£ç æŽ¨é€åˆ°è¿œç¨‹å‘å¸ƒæœåŠ¡å™¨ä¸Šï¼Œ æ‰€ä»¥ï¼Œ æˆ‘ä»¬æ·»åŠ ä¸€ä¸ªsend files or execute commands over SSH æ­¥éª¤ï¼Œ å»ºè®®æ–°æ—§æ–‡ä»¶æžä¸¤ä¸ªæ–‡ä»¶å¤¹å­˜æ”¾ï¼Œ è¿™æ ·å¯ä»¥å…ˆåˆ é™¤æŽ‰æ—§æ–‡ä»¶å†æŠŠæ–°æ–‡ä»¶æ‹·è´è¿‡åŽ» deployæ–‡ä»¶å‚è€ƒ ä½ å¯èƒ½é‡åˆ°çš„é—®é¢˜å‘½ä»¤æ— æ•ˆæˆ–ä¸å­˜åœ¨ è¿™é‡Œæ‹¿npmä¸¾ä¾‹ï¼Œ å…¶ä»–å‘½ä»¤å¦‚:node ,éƒ½æ˜¯åŒç† å› ä¸ºå…¨å±€çš„å‘½ä»¤éœ€è¦è®¾ç½®è½¯è¿žæŽ¥ Jenkins æ‰å¯ä»¥è®¿é—®çš„åˆ° å¦‚ä½•è®¾ç½®: å…ˆæŸ¥çœ‹ä¸€ä¸‹ä½ çš„ npm åœ¨å“ª whereis npm è¿™ä¸ª/usr/local/bin/npm å°±æ˜¯ä½ çš„npmæ‰€åœ¨ä½ç½® ( ä½¿ç”¨å¸¦ local çš„åœ°å€) æˆ‘ä»¬æ¥åˆ›å»º è½¯è¿žæŽ¥, è¿™é‡Œä½¿ç”¨åˆšåˆšèŽ·å–åˆ°çš„npm ln -s /usr/local/bin/npm /usr/bin å¦‚æžœå‡ºçŽ°æ— æ³•ä¿®æ”¹çš„æƒ…å†µï¼Œ é‚£æˆ‘ä»¬å°±å°†ä»–å¼ºåˆ¶æ›´æ”¹ ðŸ˜„ ln -sf /usr/local/bin/npm /usr/bin å†åŽ»æž„å»ºä¸€æ¬¡Jenkins ä»»åŠ¡ çœ‹åˆ°æŽ§åˆ¶å°è¾“å‡ºï¼Œ çŽ°åœ¨npm å¯ä»¥æ­£å¸¸è¿è¡Œäº† æŒç»­é›†æˆçš„å¿…è¦æ¡ä»¶ å¿…é¡»æœ‰github ã€svnæˆ–ç§æœ‰gitæœåŠ¡å™¨ å®Œæ•´çš„é¡¹ç›® test æŽ¥å£æµ‹è¯• å…¶ä»–çš„æµ‹è¯•å†…å®¹ CI å¹³å° é¡¹ç›®ä»£ç è¦æäº¤åˆ°Githubã€ svnç­‰æœåŠ¡å™¨ä¸Š ä¿è¯ä»£ç åœ¨å¼€å‘æœºçš„æ­£å¸¸ bug è¿è¡ŒçŽ¯å¢ƒ ( å¼•ç”¨çš„åŒ…è¦å†™å…¥packa) ä¿è¯jenkins çŽ¯å¢ƒä¸€åˆ‡æ­£å¸¸ å‘å¸ƒæœåŠ¡å™¨ä¸Šä¹Ÿè¦å­˜åœ¨åŸºç¡€çš„è¿è¡ŒçŽ¯å¢ƒ(ä¸åŒ…æ‹¬é¡¹ç›®æœ¬èº«å¼•ç”¨çš„åŒ…) å¿…è¦çš„é™æ€èµ„æºæœåŠ¡å™¨ é…ç½®jenkinsçš„è‡ªåŠ¨åŒ–å¤„ç†æµç¨‹ å‚è€ƒæ–‡ç« : https://www.cnblogs.com/loveyouyou616/p/8714544.html]]></content>
      <categories>
        <category>CI</category>
      </categories>
      <tags>
        <tag>CI</tag>
        <tag>Jenkins</tag>
        <tag>Centos</tag>
        <tag>å‰ç«¯æŒç»­é›†æˆ</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[cssé¢„å¤„ç†ä¸ŽåŽå¤„ç†å™¨]]></title>
    <url>%2F2019%2F03%2F16%2Fcss%E9%A2%84%E5%A4%84%E7%90%86%E4%B8%8E%E5%90%8E%E5%A4%84%E7%90%86%E5%99%A8%2F</url>
    <content type="text"><![CDATA[é¢„å¤„ç†å™¨åœ¨å‰ä¸¤å¹´æ˜¯éžå¸¸æµè¡Œçš„æŠ€æœ¯ï¼Œ ä½†æ˜¯è¿™ä¸¤å¹´å‘å±•çš„å´ä¸æ€Žä¹ˆæœ‰èµ·è‰²ï¼Œ å› ä¸ºäººä»¬æ¸æ¸å‘å…ˆå³ä½¿ä»£ç ç»è¿‡äº†é¢„å¤„ç†çš„çš„ç¼–è¯‘ï¼Œ è¿˜è¦ç»è¿‡åŽå¤„ç†ï¼Œ å¹¶ä¸”PostCss çš„å´›èµ·æ‹¥æœ‰äº†é¢„å¤„ç†å™¨çš„åŠŸèƒ½ï¼Œ å¯ä»¥å®Œç¾Žä»£æ›¿é¢„å¤„ç†çš„å·¥ä½œï¼Œ å¹¶ä¸”å¯ä»¥åšåˆ°è®©äººä»¬ä½¿ç”¨ä¸‹ä¸€ä¸ªç‰ˆæœ¬çš„css ä¸€æ—¦é¢„å¤„ç†å™¨é˜¶æ®µä»£ç å‡ºçŽ°æ±¡æŸ“ï¼Œé¢„å¤„ç†å™¨çš„äº‹å°±ç®—æ˜¯ç™½å¹²äº†ï¼Œ ä¸å¦‚ç›´æŽ¥äº¤ç»™åŽå¤„ç†å™¨ï¼Œ æ‰€ä»¥ä½¿ç”¨é¢„å¤„ç†å™¨çš„æ„ä¹‰è¶Šæ¥è¶Šå°äº† é¢„å¤„ç†å™¨å…·æœ‰çš„èƒ½åŠ› å˜é‡ æ··åˆ(Mixin) Extend åµŒå¥—è§„åˆ™ è¿ç®— å‡½æ•° Namespaces &amp; Accessors (å‘½åç©ºé—´å’Œè®¿é—®å™¨) scope æ³¨é‡Š åŽå¤„ç†å™¨çš„èƒ½åŠ› CSS åŽ‹ç¼© CLEAN-CSS è‡ªåŠ¨æ·»åŠ æµè§ˆå™¨å‰ç¼€ Autoprefixer CSSæ›´åŠ ç¾Žè§‚æŽ’åº CSScomb Reworkå–ä»£stylus åŽå¤„ç†å™¨å‘çƒ­ å‰åŽé€šåƒçš„ PostCss ä»–ä»¬æ˜¯å¦‚ä½•å¤„ç†çš„CSSé¢„å¤„ç†å™¨é¢„å¤„ç†å™¨ï¼Œ å¦‚ï¼š sass å®ƒä¼šå…ˆå°†ä»–çš„è¯­æ³•è½¬æ¢æˆ ASTâ€“æŠ½è±¡è¯­æ³•æ ‘ï¼ˆAbstract Syntax Tree ï¼‰, ASTæ˜¯ç¨‹åºçš„ä¸€ç§ä¸­é—´è¡¨ç¤ºå½¢å¼ï¼Œ ç„¶åŽéåŽ† AST è¿™æ£µæ ‘ï¼Œ å°†å¯¹åº”æƒ³è¦çš„ç»“æžœç”Ÿæˆä¸ºCSS PostCssPostCss æ”¹å˜äº†ä¹‹å‰å¯¹CSSçš„å¤„ç†æµç¨‹ï¼Œ å®ƒæä¾›äº†ä¸€å¥—æ’ä»¶çš„æœºåˆ¶ï¼Œ å¯¹äºŽPostCssæ¥è¯´ï¼Œè‡ªå·±æ˜¯ä¸€å¥—ç©ºçš„å·¥ç¨‹ï¼Œå®ƒä¸ºæ’ä»¶æä¾›äº†CSSæ•°æ®ï¼Œ æ ¹æ®é…ç½®çš„ä¸åŒæ’ä»¶ï¼Œ äº§ç”Ÿä¸åŒçš„åŠŸèƒ½]]></content>
      <categories>
        <category>CSS</category>
      </categories>
      <tags>
        <tag>css</tag>
        <tag>PostCss</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[æ‰‹æ‘¸æ‰‹AngularJså…¥é—¨æ•™ç¨‹]]></title>
    <url>%2F2019%2F03%2F16%2F%E6%89%8B%E6%91%B8%E6%89%8BAngularJs%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B%2F</url>
    <content type="text"><![CDATA[AngularJs æ˜¯ä¸€æ¬¾æ¥è‡ªGoogle çš„å‰ç«¯JavaScriptæ¡†æž¶ï¼Œ ä¹Ÿæ˜¯SPAæ¡†æž¶ã€‚ AngularJsæ¡†æž¶çš„ä½“ç§¯éžå¸¸å°ï¼Œ ä½†æ˜¯è®¾è®¡ç†å¿µå’ŒåŠŸèƒ½å´éžå¸¸å¼ºå¤§ï¼Œ æžå¤§åœ°ç®€åŒ–å‰ç«¯å¼€å‘çš„è´Ÿæ‹…ï¼Œ å®ƒå¿«é€Ÿæˆä¸ºäº†JavaScriptçš„ä¸»æµæ¡†æž¶ï¼Œ å¸®åŠ©å¼€å‘è€…ä»Žäº‹webå¼€å‘ã€‚ è¿™é‡Œæˆ‘ä»¬ç”¨AngularJs7çš„ç»ƒæ‰‹å§ èµ·æ­¥ è¯·ç¡®ä¿ç”µè„‘å·²å®‰è£…äº†Node.js é¦–å…ˆæ˜¯å…¨å±€å®‰è£…è„šæ‰‹æž¶1npm install -g @angular/cli å®‰è£…å¥½åŽæŸ¥çœ‹ä¸€ä¸‹ç‰ˆæœ¬ ng â€“version ç¡®è®¤ngå‘½ä»¤å­˜åœ¨åŽå°±å¯ä»¥å¼€å§‹åˆ›å»ºæˆ‘ä»¬çš„ç¬¬ä¸€ä¸ª Angular é¡¹ç›®äº†12# åˆ›å»ºé¡¹ç›® project æ›¿æ¢ä¸ºä½ çš„é¡¹ç›®åç§°ng new project å½“ä½ è¾“å…¥å‘½ä»¤åŽä»–ä¼šé—®ä½ éœ€è¦çš„é…ç½®ï¼Œ è¿™é‡Œé™„ä¸Šæˆ‘çš„é€‰æ‹©ï¼Œ å¤§å®¶å¯ä»¥å‚ç…§ ä½ æ˜¯å¦éœ€è¦æ·»åŠ è·¯ç”±ï¼Ÿ â€”- yes é€‰æ‹©ä½ å–œæ¬¢çš„css é£Žæ ¼ â€”- SCSS é€‰æ‹©å¥½åŽï¼Œ å°±ä¼šè¿›å…¥æ¼«é•¿çš„å®‰è£…äº† å®‰è£…å¥½åŽï¼Œ cd è¿›å…¥åˆ°é¡¹ç›®æ‰€åœ¨çš„ç›®å½•ï¼Œ è¿è¡Œ ng serve å‘½ä»¤ï¼Œ å¹¶æ‰“å¼€http://localhost:4200/ æŸ¥çœ‹æˆ‘ä»¬ç¬¬ä¸€ä¸ª Angularé¡¹ç›®12345678# è¿›å…¥ä½ çš„é¡¹ç›®ç›®å½•cd project# å¯åŠ¨é¡¹ç›®ng serve# å¦‚æžœä½ éœ€è¦ å¯ä»¥ç”Ÿäº§çŽ¯å¢ƒè¿è¡Œng serve --prod --aot åŸºæœ¬çš„è·¯ç”±é…ç½® å¦‚æžœä½ ä¸çŸ¥é“è·¯ç”±æ˜¯ä»€ä¹ˆï¼Œ ä½ åªéœ€è¦å…ˆç†è§£è·¯ç”±å¸®åŠ©æˆ‘ä»¬å®žçŽ°åˆ‡æ¢é¡µé¢çš„åŠŸèƒ½å› ä¸ºä¹‹å‰æˆ‘ä»¬åœ¨æž„å»ºé¡¹ç›®æ—¶å°±é€‰æ‹©äº†åŠ å…¥è·¯ç”±ï¼Œ å› æ­¤ä¹ŸçœåŽ»äº†å¾ˆå¤šé…ç½®è¿‡ç¨‹ï¼Œ çŽ°åœ¨ï¼Œæˆ‘ä»¬æ¥çœ‹çœ‹æ€Žä¹ˆç”¨å§ï¼Œ é¦–å…ˆæƒ³ä½¿ç”¨è·¯ç”±ï¼Œ å¾—éœ€è¦å†åˆ›å»ºä¸€ä¸ªâ€é¡µé¢â€ï¼ˆè¿™é‡ŒæŒ‡ç»„ä»¶ï¼‰ï¼Œ è¿™æ ·æ‰èƒ½é€šè¿‡åˆ‡æ¢çœ‹å‡ºæ˜¯å¦å®žçŽ°äº†è·¯ç”±ï¼Œ é‚£å¦‚ä½•åˆ›å»ºä¸€ä¸ªç»„ä»¶å‘¢ï¼Ÿ Angular ç»™æˆ‘ä»¬æä¾›äº†éžå¸¸å¤šçš„åˆ›å»ºå‘½ä»¤ï¼Œ ç»„ä»¶ä¹Ÿå¯ä»¥ä¸€é”®çš„ç”Ÿæˆ æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ª Demo ç»„ä»¶ ng g c Demo ç­‰å¾…ç‰‡åˆ»ï¼Œ å®‰è£…å¥½åŽ æˆ‘ä»¬å‘çŽ°é¡¹ç›®æ–‡ä»¶ä¸­çš„ app ç›®å½•ä¸‹å¤šäº†ä¸€ä¸ªæ–‡ä»¶å¤¹ é‡Œé¢æœ‰é…å¥—çš„ æ¨¡æ¿æ–‡ä»¶ æ ·å¼æ–‡ä»¶ æµ‹è¯•æ–‡ä»¶ ts è„šæœ¬æ–‡ä»¶ æ—¢ç„¶æœ‰äº†ç»„ä»¶ï¼Œ é‚£æˆ‘ä»¬çŽ°åœ¨éœ€è¦ä¸ºè¿™ä¸ªè·¯ç”±åˆ†é…ç›¸åº”çš„è®¿é—®è·¯å¾„ è¿›å…¥ app/app-routing.module.ts è¿™ä¸ªæ–‡ä»¶ æˆ‘ä»¬é¦–å…ˆå¯¼å…¥åˆšåˆšåˆ›å»ºçš„Demoç»„ä»¶ï¼Œ å† routesæ•°ç»„ä¸­ï¼Œåˆ†é…ä¸€ä¸ªç”¨äºŽè®¿é—®çš„path, å¹¶å’Œå¯¼å…¥çš„DemoComponentå…³è”ä¸Š å¦‚ä¸‹: 123456789101112131415161718192021// ------------æ–°å¢žåŒºåŸŸ------------import &#123; DemoComponent &#125; from './demo/demo.component';// ------------æ–°å¢žåŒºåŸŸ------------import &#123; NgModule &#125; from '@angular/core';import &#123; Routes, RouterModule &#125; from '@angular/router';const routes: Routes = [ // -----------æ–°å¢žåŒºåŸŸ------------- &#123; path: "demo", component: DemoComponent &#125; // ------------æ–°å¢žåŒºåŸŸ------------];@NgModule(&#123; imports: [RouterModule.forRoot(routes)], exports: [RouterModule]&#125;)export class AppRoutingModule &#123; &#125; ç„¶åŽè¿›å…¥ app/app.component.html æ–‡ä»¶ä¸­æ‰¾åˆ° &lt;router-outlet&gt;&lt;/router-outlet&gt; åˆšæ‰é…ç½®çš„è·¯ç”±å°±ä¼šæ˜¾ç¤ºåœ¨è¿™ä¸ªæ ‡ç­¾æ‰€åœ¨çš„ä½ç½®ï¼Œä¸ºäº†å‡å°‘ä¸€ç‚¹å¹²æ‰°ï¼Œæˆ‘ä»¬æŠŠæ²¡æœ‰ç”¨çš„ä¿¡æ¯åˆ é™¤ !component19htmlåˆ‡æ¢åŽ](http://img.nixiaolei.com/2019-03--17-17-27-25.png app.æˆ‘åªç•™äº†ä¸€å¼ å›¾ç‰‡, ç„¶åŽæˆ‘ä»¬è¿›å…¥ app/demo/demo.component.html æ–‡ä»¶ä¸­ åŽŸæœ¬æ˜¯123&lt;p&gt; demo works!&lt;/p&gt; æˆ‘ä»¬æ”¹æˆæ˜Žæ˜¾ä¸€ç‚¹çš„å†…å®¹ åƒä¸‡æ³¨æ„domç»“æž„åˆ«é”™äº†ï¼Œ domç»“æž„é”™è¯¯ä¼šé€ æˆç™½å±ï¼Œå‘çš„æ˜¯æ²¡æœ‰é”™è¯¯ä¿¡æ¯ 123&lt;div&gt; &lt;h1&gt;æˆ‘æ˜¯Demo é¡µé¢&lt;/h1&gt;&lt;/div&gt; æˆ‘ä»¬çœ‹çœ‹æ˜¯å¦é…ç½®æˆåŠŸäº† é¦–å…ˆï¼Œåˆšè¿›å…¥ï¼Œ åªæœ‰ä¸€å¼ å›¾ç‰‡ è®©æˆ‘ä»¬åˆ‡æ¢è‡³/demo æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œ åˆšåˆšä¸ºdemoç»„ä»¶ç¼–å†™çš„æ–‡å­—æˆåŠŸæ˜¾ç¤ºå‡ºæ¥äº†ï¼Œ å¹¶ä¸”æ˜¯ä½äºŽå›¾ç‰‡ä¸‹æ–¹ï¼Œ è¿™è·Ÿæˆ‘ä»¬ä¹‹å‰ app/app.component.html ä¸­æ‰€åšçš„é…ç½®ä¸€æ · â€”â€”â€”â€”â€”â€”â€“å¾…å®Œå–„â€”â€”â€”â€”â€”â€”â€”â€”- å¸¸ç”¨çš„å‘½ä»¤ æŠŠ XXX æ›¿æ¢æˆä½ è¦çš„åå­— ng g cl xxx // åˆ›å»ºä¸€ä¸ªæ–°ç±» ng g c xxx // åˆ›å»ºä¸€ä¸ªæ–°ç»„ä»¶ ng g d xxx // åˆ›å»ºä¸€ä¸ªæ–°æŒ‡ä»¤ ng g e xxx // åˆ›å»ºä¸€ä¸ªæ–°æžšä¸¾ ng g m xxx // åˆ›å»ºä¸€ä¸ªæ–°æ¨¡å— ng g p xxx // åˆ›å»ºä¸€ä¸ªæ–°ç®¡é“ ng g s xxx // åˆ›å»ºä¸€ä¸ªæ–°çš„æŒ‡æœåŠ¡ å‚è€ƒæ–‡çŒ® https://github.com/angular/angular-cli/wiki]]></content>
      <categories>
        <category>JavaScript</category>
      </categories>
      <tags>
        <tag>Angular</tag>
      </tags>
  </entry>
  <entry>
    <title><![CDATA[hexoä¸­å¦‚ä½•ä½¿ç”¨æœ¬åœ°å›¾ç‰‡]]></title>
    <url>%2F2019%2F03%2F16%2Fhexo%E4%B8%AD%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87%2F</url>
    <content type="text"><![CDATA[é¦–å…ˆéœ€è¦ä¿®æ”¹_config.ymlé…ç½®æ–‡ä»¶post_asset_folderé¡¹ä¸ºtrue ä½¿ç”¨å‘½ä»¤åˆ›å»ºåšå®¢1hexo new ä½ çš„æ–‡ç« åç§° ä»–ä¼šç”Ÿæˆ.mdæ–‡ä»¶åŠä¸€ä¸ªå¯¹åº”çš„æ–‡ä»¶å¤¹ï¼Œ æˆ‘ä»¬å°†å›¾ç‰‡æ”¾åˆ°è¯¥æ–‡ä»¶å¤¹ä¸­ æ–¹æ³•ä¸€åœ¨æ–‡ç« ä¸­è¿™æ ·æ’å…¥å›¾ç‰‡1&#123;% asset_img è¿™æ˜¯ä¸€ä¸ªæ–°çš„åšå®¢çš„å›¾ç‰‡.jpg è¿™æ˜¯ä¸€ä¸ªæ–°çš„åšå®¢çš„å›¾ç‰‡çš„è¯´æ˜Ž %&#125; æ•ˆæžœå¦‚ä¸‹: æ–¹æ³•äºŒ è¿™ä¸ªæ–¹æ³•åœ¨é¦–é¡µæ— æ³•æ­£å¸¸é¢„è§ˆå›¾ç‰‡ å®‰è£…ä¸€ä¸‹è¿™ä¸ªæ’ä»¶ 1npm install hexo-asset-image --save åœ¨æ–‡ç« ä¸­è¿™æ ·æ’å…¥å›¾ç‰‡1![è¿™æ˜¯ä¸€å¼ å›¾ç‰‡](xxxx.png) æ•ˆæžœå¦‚ä¸‹: å‚è€ƒæ–‡çŒ® http://etrd.org/2017/01/23/hexo%E4%B8%AD%E5%AE%8C%E7%BE%8E%E6%8F%92%E5%85%A5%E6%9C%AC%E5%9C%B0%E5%9B%BE%E7%89%87/]]></content>
      <categories>
        <category>hexo</category>
      </categories>
      <tags>
        <tag>hexo</tag>
      </tags>
  </entry>
</search>
